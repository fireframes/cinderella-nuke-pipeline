#! C:/Program Files/Nuke14.0v1/nuke-14.0.1.dll -nx
version 14.0 v1
define_window_layout_xml {<?xml version="1.0" encoding="UTF-8"?>
<layout version="1.0">
    <window x="0" y="0" w="1917" h="1008" screen="0">
        <splitter orientation="1">
            <split size="40"/>
            <splitter orientation="1">
                <split size="40"/>
                <dock id="" activePageId="Toolbar.1">
                    <page id="Toolbar.1"/>
                </dock>
            </splitter>
            <split size="1873" stretch="1"/>
            <splitter orientation="1">
                <split size="947"/>
                <splitter orientation="2">
                    <split size="793"/>
                    <dock id="" activePageId="Viewer.1">
                        <page id="Viewer.1"/>
                    </dock>
                    <split size="173"/>
                    <dock id="" activePageId="DopeSheet.1">
                        <page id="Curve Editor.1"/>
                        <page id="DopeSheet.1"/>
                    </dock>
                </splitter>
                <split size="922"/>
                <dock id="" activePageId="DAG.1" focus="true">
                    <page id="DAG.1"/>
                </dock>
            </splitter>
        </splitter>
    </window>
</layout>
}
Root {
 inputs 0
 name O:/tools/nuke/templates/template_comp.nk
 format "2048 858 0 0 2048 858 1 cinderella"
 proxy_type scale
 proxy_format "1024 778 0 0 1024 778 1 1K_Super_35(full-ap)"
 colorManagement OCIO
 OCIO_config aces_1.2
 defaultViewerLUT "OCIO LUTs"
 workingSpaceLUT scene_linear
 monitorLut "sRGB (ACES)"
 monitorOutLUT "sRGB (ACES)"
 int8Lut matte_paint
 int16Lut texture_paint
 logLut compositing_log
 floatLut scene_linear
}
BackdropNode {
 inputs 0
 name BackdropNode1
 tile_color 0x8e388e00
 label albedo_correction
 note_font_size 42
 xpos 386
 ypos -1493
 appearance Border
 bdwidth 978
 bdheight 755
}
BackdropNode {
 inputs 0
 name BackdropNode10
 tile_color 0xff8888ff
 label SOURCES
 note_font_size 100
 xpos 4839
 ypos -6820
 appearance Border
 bdwidth 7331
 bdheight 1333
}
BackdropNode {
 inputs 0
 name BackdropNode11
 tile_color 0x8e00ffff
 label DEFOCUS
 note_font_size 42
 xpos 955
 ypos 8960
 appearance Border
 bdwidth 602
 bdheight 279
}
BackdropNode {
 inputs 0
 name BackdropNode12
 tile_color 0x8e8e3800
 label ALPHA
 note_font_size 42
 xpos 1005
 ypos 2669
 appearance Border
 bdwidth 411
 bdheight 253
}
BackdropNode {
 inputs 0
 name BackdropNode13
 tile_color 0xff
 label BLACKS
 note_font_size 42
 xpos 668
 ypos 5549
 appearance Border
 bdwidth 1258
 bdheight 586
}
BackdropNode {
 inputs 0
 name BackdropNode14
 tile_color 0x388e8e00
 label DEPTH
 note_font_size 42
 xpos 771
 ypos 8175
 appearance Border
 bdwidth 1311
 bdheight 768
}
BackdropNode {
 inputs 0
 name BackdropNode15
 tile_color 0x8e8e3800
 label MattePaint
 note_font_size 42
 xpos 5698
 ypos 2183
 appearance Border
 bdwidth 798
 bdheight 427
}
BackdropNode {
 inputs 0
 name BackdropNode16
 tile_color 0x8e388e00
 label RAYS
 note_font_size 42
 xpos 5347
 ypos 10098
 appearance Border
 bdwidth 932
 bdheight 480
}
BackdropNode {
 inputs 0
 name BackdropNode17
 tile_color 0xffc83bff
 label OUT
 note_font_size 40
 note_font_color 0xffffffff
 xpos 5804
 ypos 13754
 appearance Border
 bdwidth 756
 bdheight 373
}
BackdropNode {
 inputs 0
 name BackdropNode18
 tile_color 0x8e388e00
 label albedo_correction
 note_font_size 42
 xpos 9774
 ypos 1362
 appearance Border
 bdwidth 1069
 bdheight 969
}
BackdropNode {
 inputs 0
 name BackdropNode19
 tile_color 0x8e8e3800
 label "MATTE BG\n"
 note_font_size 42
 xpos 10300
 ypos 8555
 appearance Border
 bdwidth 712
 bdheight 392
}
BackdropNode {
 inputs 0
 name BackdropNode2
 tile_color 0x378e55ff
 label specular_correction
 note_font_size 42
 xpos 387
 ypos -430
 appearance Border
 bdwidth 978
 bdheight 755
}
BackdropNode {
 inputs 0
 name BackdropNode20
 tile_color 0x8e00ffff
 label DEFOCUS
 note_font_size 42
 xpos 10343
 ypos 11839
 appearance Border
 bdwidth 602
 bdheight 279
}
BackdropNode {
 inputs 0
 name BackdropNode21
 tile_color 0x8e8e3800
 label ALPHA
 note_font_size 42
 xpos 10393
 ypos 5349
 appearance Border
 bdwidth 431
 bdheight 291
}
BackdropNode {
 inputs 0
 name BackdropNode22
 tile_color 0xff
 label BLACKS
 note_font_size 42
 xpos 10056
 ypos 7856
 appearance Border
 bdwidth 1258
 bdheight 586
}
BackdropNode {
 inputs 0
 name BackdropNode23
 tile_color 0x388e8e00
 label DEPTH
 note_font_size 42
 xpos 10292
 ypos 11002
 appearance Border
 bdwidth 657
 bdheight 685
}
BackdropNode {
 inputs 0
 name BackdropNode26
 tile_color 0x378e55ff
 label specular_correction
 note_font_size 42
 xpos 9775
 ypos 2425
 appearance Border
 bdwidth 978
 bdheight 755
}
BackdropNode {
 inputs 0
 name BackdropNode27
 tile_color 0x8e6637ff
 label reflect_correction
 note_font_size 42
 xpos 9779
 ypos 3478
 appearance Border
 bdwidth 978
 bdheight 755
}
BackdropNode {
 inputs 0
 name BackdropNode28
 tile_color 0x378b8eff
 label refract_correction
 note_font_size 42
 xpos 9788
 ypos 4502
 appearance Border
 bdwidth 976
 bdheight 776
}
BackdropNode {
 inputs 0
 name BackdropNode29
 tile_color 0x8e0000ff
 label "GLOBAL CC"
 note_font_size 42
 xpos 10499
 ypos 5841
 appearance Border
 bdwidth 284
 bdheight 259
}
BackdropNode {
 inputs 0
 name BackdropNode3
 tile_color 0x8e6637ff
 label reflect_correction
 note_font_size 42
 xpos 391
 ypos 623
 appearance Border
 bdwidth 978
 bdheight 755
}
BackdropNode {
 inputs 0
 name BackdropNode30
 tile_color 0x8e00ff
 label "SECONDARY CC"
 note_font_size 42
 xpos 10055
 ypos 6237
 appearance Border
 bdwidth 1234
 bdheight 1432
}
BackdropNode {
 inputs 0
 name BackdropNode31
 tile_color 0xffff00ff
 label "CHAR LIGHT GROUPS"
 note_font_size 92
 xpos 9866
 ypos -3083
 appearance Border
 bdwidth 5898
 bdheight 4246
}
BackdropNode {
 inputs 0
 name BackdropNode32
 tile_color 0xff0071ff
 label GLOW
 note_font_size 42
 xpos 10107
 ypos 9049
 appearance Border
 bdwidth 977
 bdheight 1870
}
BackdropNode {
 inputs 0
 name BackdropNode35
 tile_color 0x8e8effff
 label FROST
 note_font_size 42
 xpos 3250
 ypos 1642
 appearance Border
 bdwidth 1369
 bdheight 1670
}
BackdropNode {
 inputs 0
 name BackdropNode4
 tile_color 0x378b8eff
 label refract_correction
 note_font_size 42
 xpos 400
 ypos 1742
 appearance Border
 bdwidth 976
 bdheight 776
}
BackdropNode {
 inputs 0
 name BackdropNode5
 tile_color 0x8e0000ff
 label "GLOBAL CC"
 note_font_size 42
 xpos 1111
 ypos 3327
 appearance Border
 bdwidth 296
 bdheight 260
}
BackdropNode {
 inputs 0
 name BackdropNode6
 tile_color 0x8e00ff
 label "SECONDARY CC"
 note_font_size 42
 xpos 667
 ypos 3644
 appearance Border
 bdwidth 1269
 bdheight 1875
}
BackdropNode {
 inputs 0
 name BackdropNode7
 tile_color 0xffff00ff
 label "BG LIGHT GROUPS"
 note_font_size 92
 xpos 478
 ypos -4016
 appearance Border
 bdwidth 3321
 bdheight 2354
}
BackdropNode {
 inputs 0
 name BackdropNode8
 tile_color 0xff0071ff
 label GLOW
 note_font_size 42
 xpos 719
 ypos 6217
 appearance Border
 bdwidth 977
 bdheight 1870
}
BackdropNode {
 inputs 0
 name BackdropNode9
 tile_color 0x55ff55ff
 label BG
 note_font_size 42
 xpos 5311
 ypos -6680
 appearance Border
 bdwidth 1956
 bdheight 831
}
BackdropNode {
 inputs 0
 name attention
 tile_color 0xff0000ff
 label "Don't forget to pick a proper value in the Constant node for the depth where the alpha is zero"
 note_font_size 14
 xpos 1312
 ypos 8224
 bdwidth 709
 bdheight 71
}
BackdropNode {
 inputs 0
 name BackdropNode24
 tile_color 0xaaaaaa00
 label CHAR
 note_font_size 42
 xpos 7369
 ypos -6693
 appearance Border
 bdwidth 1876
 bdheight 895
 z_order 1
}
BackdropNode {
 inputs 0
 name BackdropNode25
 tile_color 0x71c67100
 label bg+char
 note_font_size 42
 xpos 9370
 ypos -6675
 appearance Border
 bdwidth 606
 bdheight 547
 z_order 1
}
BackdropNode {
 inputs 0
 name BackdropNode33
 tile_color 0x8e388e00
 label "FROST\n"
 note_font_size 42
 xpos 10464
 ypos -6659
 appearance Border
 bdwidth 647
 bdheight 377
 z_order 1
}
BackdropNode {
 inputs 0
 name BackdropNode34
 tile_color 0x8e8e3800
 note_font_size 42
 xpos 4890
 ypos -6601
 appearance Border
 bdwidth 294
 bdheight 339
 z_order 1
}
Dot {
 inputs 0
 name Dot83
 xpos 5468
 ypos -6502
}
set Ncb2bcc00 [stack 0]
Dot {
 name Dot56
 xpos 5468
 ypos -6424
}
set Ncb2bd000 [stack 0]
Dot {
 name Dot10
 xpos 5468
 ypos -6355
}
set Ncb2bd400 [stack 0]
Dot {
 name Dot41
 xpos 5724
 ypos -6355
}
set Ncb2bd800 [stack 0]
Dot {
 name Dot18
 xpos 5957
 ypos -6355
}
set Ncb2bdc00 [stack 0]
Dot {
 name Dot14
 xpos 6202
 ypos -6355
}
set Nbb7e6000 [stack 0]
add_layer {bumpNormals bumpNormals.X bumpNormals.Y bumpNormals.Z}
add_layer {N N.X N.Y N.Z}
Shuffle2 {
 fromInput1 {{0} B}
 in1 bumpNormals
 out1 N
 fromInput2 {{0} B}
 mappings "3 bumpNormals.X 0 0 N.X 0 0 bumpNormals.Y 0 1 N.Y 0 1 bumpNormals.Z 0 2 N.Z 0 2"
 name Shuffle3
 label "\[ value in1 ]"
 xpos 6168
 ypos -6255
}
Remove {
 operation keep
 channels N
 name Remove2
 xpos 6168
 ypos -6204
}
Dot {
 name _bg_normals
 label "\[value name]"
 note_font_size 33
 xpos 6202
 ypos -6060
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
PxF_ZDefocus {
 inputs 0
 name PxF_ZDefocus
 xpos -5023
 ypos -1258
}
Dot {
 inputs 0
 name Dot91
 xpos 7473
 ypos -6423
}
set Nbb94e000 [stack 0]
Dot {
 name Dot92
 xpos 7473
 ypos -6277
}
set Nbb94e400 [stack 0]
Dot {
 name Dot93
 xpos 7729
 ypos -6277
}
set Nbb94e800 [stack 0]
Dot {
 name Dot94
 xpos 7962
 ypos -6277
}
set Nbb94ec00 [stack 0]
Dot {
 name Dot95
 xpos 8207
 ypos -6277
}
set Nbb94f000 [stack 0]
Dot {
 name Dot96
 xpos 8468
 ypos -6277
}
set Nbb94f400 [stack 0]
Dot {
 name Dot97
 xpos 8702
 ypos -6277
}
set Nbb94f800 [stack 0]
add_layer {other other.depth other.unDepth}
Shuffle2 {
 fromInput1 {{0} B}
 in1 other
 out1 depth
 fromInput2 {{0} B}
 mappings "1 other.depth 0 0 depth.Z 0 0"
 name Shuffle28
 label "\[ value in1 ]"
 xpos 8668
 ypos -6215
}
Remove {
 operation keep
 channels depth
 name Remove12
 xpos 8668
 ypos -6164
}
Dot {
 name _char_depth
 label "\[value name]"
 note_font_size 33
 xpos 8702
 ypos -6033
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Dot {
 name Dot110
 label _char_depth
 note_font " Italic"
 note_font_size 22
 xpos 10336
 ypos 11082
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot111
 xpos 10336
 ypos 11174
}
set Nbb966c00 [stack 0]
Shuffle2 {
 fromInput1 {{0} B}
 in1 depth
 fromInput2 {{0} B}
 mappings "4 depth.Z 0 0 rgba.red 0 0 depth.Z 0 0 rgba.green 0 1 depth.Z 0 0 rgba.blue 0 2 depth.Z 0 0 rgba.alpha 0 3"
 name Shuffle37
 label "\[ value in1 ]"
 xpos 10302
 ypos 11298
}
Dot {
 name Dot112
 xpos 10336
 ypos 11481
}
Constant {
 inputs 0
 channels rgb
 color {0.7123613954 0.4668614864 0.4173614085 0.7827928066}
 name Constant3
 xpos 10438
 ypos 11356
}
Merge2 {
 inputs 2
 operation mask
 name Merge23
 xpos 10438
 ypos 11478
}
Dot {
 name Dot113
 xpos 10472
 ypos 11565
}
push $Nbb966c00
add_layer {matte_mask matte_mask.red matte_mask.green matte_mask.blue}
Shuffle2 {
 inputs 0
 fromInput1 {{0} B}
 in1 matte_mask
 fromInput2 {{0} B}
 mappings "4 matte_mask.green 0 1 rgba.green 0 1 matte_mask.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.red 0 0 matte_mask.red 0 0 rgba.alpha 0 3"
 name Shuffle42
 xpos 10201
 ypos -6551
}
Dot {
 name _char_matte
 label "\[value name]"
 note_font_size 33
 xpos 10235
 ypos -6396
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nbb98c800 [stack 0]
Dot {
 name Dot84
 label _char_matte
 note_font " Italic"
 note_font_size 22
 xpos 10479
 ypos 8781
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
set Nbb98cc00 [stack 0]
Dot {
 name Dot104
 xpos 10479
 ypos 8847
}
push $Nbb94f800
Dot {
 name Dot98
 xpos 9001
 ypos -6277
}
set Nbb98d400 [stack 0]
add_layer {lighting lighting.red lighting.green lighting.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lighting
 out1 rgb
 fromInput2 {{0} B}
 mappings "3 lighting.green 0 1 rgba.green 0 1 lighting.red 0 0 rgba.red 0 0 lighting.blue 0 2 rgba.blue 0 2"
 name Shuffle30
 label "\[ value in1 ]"
 xpos 8967
 ypos -6225
}
push $Nbb98d400
Dot {
 name Dot99
 xpos 9143
 ypos -6277
}
add_layer {albedo albedo.red albedo.green albedo.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 albedo
 out1 rgb
 fromInput2 {{0} B}
 mappings "3 albedo.red 0 0 rgba.red 0 0 albedo.green 0 1 rgba.green 0 1 albedo.blue 0 2 rgba.blue 0 2"
 name Shuffle31
 label "\[ value in1 ]"
 xpos 9109
 ypos -6216
}
Dot {
 name Dot100
 xpos 9143
 ypos -6134
}
Merge2 {
 inputs 2
 operation divide
 name Merge22
 xpos 8967
 ypos -6137
}
Shuffle2 {
 fromInput1 {{0} B}
 fromInput2 {{0} B}
 mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.red 0 0 rgba.blue 0 2 rgba.red 0 0 rgba.alpha 0 3"
 name Shuffle32
 label "\[ value in1 ]"
 xpos 8967
 ypos -6113
}
Remove {
 operation keep
 channels rgba
 name Remove14
 xpos 8967
 ypos -6068
}
Clamp {
 name Clamp7
 xpos 8967
 ypos -6044
}
Invert {
 name Invert3
 xpos 8967
 ypos -6008
}
Grade {
 channels alpha
 blackpoint 0.6
 whitepoint 0.9
 white_clamp true
 name Grade39
 xpos 8967
 ypos -5957
}
Dot {
 name _char_shadows
 label "\[value name]"
 note_font_size 33
 xpos 9001
 ypos -5864
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Dot {
 name Dot118
 label _char_shadows
 note_font " Italic"
 note_font_size 22
 xpos 10388
 ypos 8007
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot119
 xpos 10388
 ypos 8099
}
set Nbbbe2800 [stack 0]
Dot {
 name Dot120
 xpos 10388
 ypos 8318
}
push 0
push $Nbb94f400
Cryptomatte {
 pickerAdd {0 0 0 0 0 0 0 0}
 lastSelectedCryptoLayerName crypto_asset
 name Cryptomatte33
 xpos 8434
 ypos -6195
}
Dot {
 name _char_crypto
 label "\[value name]"
 note_font_size 33
 xpos 8468
 ypos -6055
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nbbbe3800 [stack 0]
Dot {
 name Dot175
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 10204
 ypos 8154
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.1803851724 0.1361627579 0.04465103149 0 1136 29 1137 30}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte55
 xpos 10170
 ypos 8199
}
push $Nbbbe2800
Dot {
 name Dot122
 xpos 10484
 ypos 8099
}
Grade {
 channels alpha
 blackpoint 0.8
 white_clamp true
 mix 0.5
 name Grade42
 xpos 10450
 ypos 8133
}
ChannelMerge {
 inputs 2
 operation in
 name ChannelMerge5
 xpos 10450
 ypos 8187
}
push $Nbbbe3800
Dot {
 name Dot123
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 9927
 ypos 1725
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.1285684854 0.0570955351 0.2283821404 0 254 271 255 272}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte38
 xpos 9893
 ypos 1793
}
push $Nbb94e400
Dot {
 name _char_beauty
 label "\[value name]"
 note_font_size 33
 xpos 7473
 ypos -6001
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nbbc2e000 [stack 0]
Dot {
 name Dot124
 label _char_beauty
 note_font " Italic"
 note_font_size 22
 xpos 10108
 ypos 1463
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 albedo
 fromInput2 {{0} B}
 mappings "4 albedo.red 0 0 rgba.red 0 0 albedo.green 0 1 rgba.green 0 1 albedo.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle43
 label "\[ value in1 ]"
 xpos 10074
 ypos 1529
}
Clamp {
 minimum 0.0001
 name Clamp9
 xpos 10074
 ypos 1586
}
Dot {
 name Dot125
 xpos 10108
 ypos 1647
}
set Nbbc2f000 [stack 0]
Grade {
 inputs 1+1
 name Grade43
 xpos 10074
 ypos 1793
}
Dot {
 name _char_albedo
 label "\[value name]"
 note_font_size 33
 xpos 10108
 ypos 1940
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nbbc2f800 [stack 0]
Dot {
 name Dot126
 label _char_albedo
 note_font " Italic"
 note_font_size 22
 xpos 10810
 ypos 8202
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
push $Nbb94ec00
add_layer {position position.red position.green position.blue}
add_layer {P P.red P.green P.blue P.alpha P.X P.Y P.Z}
Shuffle2 {
 fromInput1 {{0} B}
 in1 position
 out1 {P.red P.green P.blue P.alpha P.X P.Y P.Z}
 fromInput2 {{0} B}
 mappings "7 position.red 0 0 P.red 0 0 position.green 0 1 P.green 0 1 position.blue 0 2 P.blue 0 2 black -1 -1 P.alpha 0 3 black -1 -1 P.X 0 4 black -1 -1 P.Y 0 5 black -1 -1 P.Z 0 6"
 name Shuffle33
 label "\[ value in1 ]"
 xpos 7928
 ypos -6175
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 bumpNormals
 out1 N
 fromInput2 {{0} B}
 mappings "3 bumpNormals.X 0 0 N.X 0 0 bumpNormals.Y 0 1 N.Y 0 1 bumpNormals.Z 0 2 N.Z 0 2"
 name Shuffle34
 label "\[ value in1 ]"
 xpos 7928
 ypos -6139
}
Remove {
 operation keep
 channels P
 channels2 N
 name Remove15
 xpos 7928
 ypos -6102
}
Dot {
 name _char_position
 label "\[value name]"
 note_font_size 33
 xpos 7962
 ypos -5975
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nbbc5ac00 [stack 0]
Dot {
 name Dot127
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 10383
 ypos 7135
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_8
 xpos 10349
 ypos 7221
 in_1 P
 color {-18.45170784 3.551429 11.86738014}
 uniform_scale 0.0102
 rot_sk 1
 ramp 0.1
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot128
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 10243
 ypos 6521
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.08806169033 0.1589870453 0.1359481812 0 891 365 892 366}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte39
 xpos 10209
 ypos 6569
}
push $Nbb94e800
Shuffle2 {
 fromInput1 {{0} B}
 in1 alpha
 out1 alpha
 fromInput2 {{0} B}
 mappings "1 rgba.alpha 0 0 rgba.alpha 0 0"
 name Shuffle29
 label "\[ value in1 ]"
 xpos 7695
 ypos -6170
}
Remove {
 operation keep
 channels alpha
 name Remove13
 xpos 7695
 ypos -6123
}
Dot {
 name _char_alpha
 label "\[value name]"
 note_font_size 33
 xpos 7729
 ypos -5970
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Dot {
 name Dot129
 label _char_alpha
 note_font " Italic"
 note_font_size 22
 xpos 10440
 ypos 5437
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot130
 xpos 10440
 ypos 5516
}
push $Nbbc2e000
Dot {
 name Dot131
 label _char_beauty
 note_font " Italic"
 note_font_size 22
 xpos 10099
 ypos 4569
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
add_layer {refract refract.red refract.green refract.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 refract
 fromInput2 {{0} B}
 mappings "4 refract.red 0 0 rgba.red 0 0 refract.green 0 1 rgba.green 0 1 refract.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle45
 label "\[ value in1 ]"
 xpos 10065
 ypos 4609
}
Clamp {
 minimum 0.0001
 name Clamp10
 xpos 10065
 ypos 4672
}
Dot {
 name Dot132
 xpos 10099
 ypos 4760
}
set Nbcf51c00 [stack 0]
Dot {
 name Dot133
 xpos 10097
 ypos 5201
}
push $Nbcf51c00
push $Nbbbe3800
Dot {
 name Dot134
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 9917
 ypos 3888
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.1637058258 0.1192932129 0.2271728516 0 224 603 225 604}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte40
 xpos 9883
 ypos 3923
}
push $Nbbc2e000
Dot {
 name Dot135
 label _char_beauty
 note_font " Italic"
 note_font_size 22
 xpos 10098
 ypos 3588
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
add_layer {reflect reflect.red reflect.green reflect.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 reflect
 fromInput2 {{0} B}
 mappings "4 reflect.red 0 0 rgba.red 0 0 reflect.green 0 1 rgba.green 0 1 reflect.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle46
 label "\[ value in1 ]"
 xpos 10064
 ypos 3616
}
Clamp {
 minimum 0.0001
 name Clamp11
 xpos 10064
 ypos 3652
}
Dot {
 name Dot136
 xpos 10098
 ypos 3699
}
set Nbcf77c00 [stack 0]
Multiply {
 inputs 1+1
 name Multiply5
 xpos 10064
 ypos 3917
}
Dot {
 name Dot137
 xpos 10098
 ypos 4133
}
push $Nbcf77c00
push $Nbbbe3800
Dot {
 name Dot138
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 9923
 ypos 2770
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{2} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.07343298197 0.1749277115 0.1997108459 0 77 237 78 238}
 pickerRemove {0.1872436553 0.08242664486 0.04010527208 1.000000119 71 235 72 236}
 lastSelectedCryptoLayerName crypto_node
 name Cryptomatte41
 xpos 9889
 ypos 2837
}
push $Nbbc2e000
Dot {
 name Dot139
 label _char_beauty
 note_font " Italic"
 note_font_size 22
 xpos 10104
 ypos 2506
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
add_layer {specular specular.red specular.green specular.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 specular
 fromInput2 {{0} B}
 mappings "4 specular.red 0 0 rgba.red 0 0 specular.green 0 1 rgba.green 0 1 specular.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle47
 label "\[ value in1 ]"
 xpos 10070
 ypos 2616
}
Clamp {
 minimum 0.0001
 name Clamp12
 xpos 10070
 ypos 2652
}
Dot {
 name Dot140
 xpos 10104
 ypos 2701
}
set Nbcfcc000 [stack 0]
Multiply {
 inputs 1+1
 name Multiply6
 xpos 10070
 ypos 2831
}
Dot {
 name Dot141
 xpos 10104
 ypos 3078
}
push $Nbcfcc000
push $Nbbc2f800
Dot {
 name Dot142
 xpos 10108
 ypos 2024
}
set Nbcfccc00 [stack 0]
Dot {
 name Dot143
 xpos 10108
 ypos 2093
}
push $Nbcfccc00
push $Nbbc2f000
push $Nbbbe3800
Dot {
 name Dot174
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 15037
 ypos -1732
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.08421975374 0.09751605988 0.1400642395 0 268 150 269 151}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte51
 xpos 15003
 ypos -1668
}
push $Nbbc2e000
Dot {
 name Dot101
 label _char_beauty
 note_font " Italic"
 note_font_size 22
 xpos 10642
 ypos -2871
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot146
 xpos 10642
 ypos -2639
}
set Nbcfec400 [stack 0]
Dot {
 name Dot147
 xpos 11315
 ypos -2639
}
set Nbcfec800 [stack 0]
Dot {
 name Dot148
 xpos 11964
 ypos -2639
}
set Nbcfecc00 [stack 0]
Dot {
 name Dot149
 xpos 12715
 ypos -2639
}
set Nbcfed000 [stack 0]
Dot {
 name Dot117
 xpos 13502
 ypos -2639
}
set Nbcfed400 [stack 0]
Dot {
 name Dot171
 xpos 14419
 ypos -2639
}
set Nbcfed800 [stack 0]
Dot {
 name Dot105
 xpos 15304
 ypos -2639
}
add_layer {lgt_fill lgt_fill.red lgt_fill.green lgt_fill.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_fill
 fromInput2 {{0} B}
 mappings "4 lgt_fill.red 0 0 rgba.red 0 0 lgt_fill.green 0 1 rgba.green 0 1 lgt_fill.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle40
 label "\[ value in1 ]"
 xpos 15270
 ypos -2497
}
add_layer {lgt_bg_sun lgt_bg_sun.red lgt_bg_sun.green lgt_bg_sun.blue}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sun
 name Remove18
 xpos 15270
 ypos -2461
}
Grade {
 name Grade67
 xpos 15270
 ypos -2367
}
Grade {
 inputs 1+1
 name Grade18
 xpos 15270
 ypos -1668
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sun.red 0 0 rgba.green 0 1 lgt_bg_sun.green 0 1 rgba.blue 0 2 lgt_bg_sun.blue 0 2"
 name Shuffle41
 label "\[ value in1 ]"
 xpos 15270
 ypos 695
}
Dot {
 name Dot173
 xpos 15304
 ypos 779
}
push $Nbbc5ac00
Dot {
 name Dot81
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 14221
 ypos -1992
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_5
 xpos 14187
 ypos -1909
 in_1 P
 rot_sk 0
 vec z
 ramp 0.3
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot82
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 14213
 ypos -2152
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.04701012373 0.002161979675 0.008647918701 0 1711 295 1712 296}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte13
 xpos 14179
 ypos -2089
}
push $Nbcfed800
add_layer {lgt_key lgt_key.red lgt_key.green lgt_key.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_key
 fromInput2 {{0} B}
 mappings "4 lgt_key.red 0 0 rgba.red 0 0 lgt_key.green 0 1 rgba.green 0 1 lgt_key.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle38
 label "\[ value in1 ]"
 xpos 14385
 ypos -2497
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sun
 name Remove17
 xpos 14385
 ypos -2461
}
Grade {
 name Grade59
 xpos 14385
 ypos -2337
}
Grade {
 inputs 1+1
 name Grade21
 xpos 14385
 ypos -2089
}
Grade {
 inputs 1+1
 name Grade22
 xpos 14385
 ypos -1909
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sun.red 0 0 rgba.green 0 1 lgt_bg_sun.green 0 1 rgba.blue 0 2 lgt_bg_sun.blue 0 2"
 name Shuffle39
 label "\[ value in1 ]"
 xpos 14385
 ypos 138
}
Dot {
 name Dot172
 xpos 14419
 ypos 222
}
push $Nbbc5ac00
Dot {
 name Dot76
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 13304
 ypos -2002
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_1
 xpos 13270
 ypos -1919
 in_1 P
 rot_sk 0
 vec z
 ramp 0.3
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot80
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 13296
 ypos -2188
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.04701012373 0.002161979675 0.008647918701 0 1711 295 1712 296}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte10
 xpos 13262
 ypos -2125
}
push $Nbcfed400
add_layer {lgt_rim lgt_rim.red lgt_rim.green lgt_rim.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_rim
 fromInput2 {{0} B}
 mappings "4 lgt_rim.red 0 0 rgba.red 0 0 lgt_rim.green 0 1 rgba.green 0 1 lgt_rim.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle35
 label "\[ value in1 ]"
 xpos 13468
 ypos -2497
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sun
 name Remove16
 xpos 13468
 ypos -2461
}
Grade {
 name Grade56
 xpos 13468
 ypos -2373
}
Grade {
 inputs 1+1
 name Grade15
 xpos 13468
 ypos -2125
}
Grade {
 inputs 1+1
 name Grade16
 xpos 13468
 ypos -1919
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sun.red 0 0 rgba.green 0 1 lgt_bg_sun.green 0 1 rgba.blue 0 2 lgt_bg_sun.blue 0 2"
 name Shuffle36
 label "\[ value in1 ]"
 xpos 13468
 ypos -470
}
Dot {
 name Dot145
 xpos 13502
 ypos -386
}
push $Nbbc5ac00
Dot {
 name Dot144
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 12517
 ypos -1753
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_9
 xpos 12483
 ypos -1670
 in_1 P
 uniform_scale 0.2
 rot_sk 0
 r_k false
 s_k true
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot107
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 12509
 ypos -2359
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.2361865044 0.02898406982 0.1159362793 0 1763 673 1764 674}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte35
 xpos 12475
 ypos -2296
}
push $Nbcfed000
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sun.red 0 0 rgba.red 0 0 lgt_bg_sun.green 0 1 rgba.green 0 1 lgt_bg_sun.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle48
 label "\[ value in1 ]"
 xpos 12681
 ypos -2503
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sun
 name Remove21
 xpos 12681
 ypos -2467
}
Grade {
 name Grade14
 xpos 12681
 ypos -2409
}
Grade {
 inputs 1+1
 multiply 0
 name Grade44
 xpos 12681
 ypos -2296
}
Grade {
 inputs 1+1
 invert_mask true
 name Grade45
 xpos 12681
 ypos -1670
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sun.red 0 0 rgba.green 0 1 lgt_bg_sun.green 0 1 rgba.blue 0 2 lgt_bg_sun.blue 0 2"
 name Shuffle49
 label "\[ value in1 ]"
 xpos 12681
 ypos -1023
}
Dot {
 name Dot150
 xpos 12715
 ypos -939
}
push $Nbbc5ac00
Dot {
 name Dot151
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 11766
 ypos -2198
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_10
 xpos 11732
 ypos -2115
 in_1 P
 rot_sk 0
 vec z
 ramp 0.3
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot152
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 11758
 ypos -2358
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.04701012373 0.002161979675 0.008647918701 0 1711 295 1712 296}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte42
 xpos 11724
 ypos -2295
}
push $Nbcfecc00
add_layer {lgt_bg_sky lgt_bg_sky.red lgt_bg_sky.green lgt_bg_sky.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sky
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sky.red 0 0 rgba.red 0 0 lgt_bg_sky.green 0 1 rgba.green 0 1 lgt_bg_sky.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle50
 label "\[ value in1 ]"
 xpos 11930
 ypos -2518
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sky
 name Remove22
 xpos 11930
 ypos -2466
}
Grade {
 name Grade11
 xpos 11930
 ypos -2417
}
Grade {
 inputs 1+1
 name Grade46
 xpos 11930
 ypos -2295
}
Grade {
 inputs 1+1
 name Grade47
 xpos 11930
 ypos -2115
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sky
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sky.red 0 0 rgba.green 0 1 lgt_bg_sky.green 0 1 rgba.blue 0 2 lgt_bg_sky.blue 0 2"
 name Shuffle51
 label "\[ value in1 ]"
 xpos 11930
 ypos -1551
}
Dot {
 name Dot153
 xpos 11964
 ypos -1438
}
push $Nbbc5ac00
Dot {
 name Dot154
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 11083
 ypos -2221
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_12
 xpos 11049
 ypos -2138
 in_1 P
 uniform_scale 0.2
 rot_sk 0
 r_k false
 s_k true
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot155
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 11075
 ypos -2405
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.06173706055 0.03952026367 0.01649475098 0 1551 391 1552 392}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte43
 xpos 11041
 ypos -2342
}
push $Nbcfec800
add_layer {lgt_bg_fill lgt_bg_fill.red lgt_bg_fill.green lgt_bg_fill.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_fill
 fromInput2 {{0} B}
 mappings "4 lgt_bg_fill.red 0 0 rgba.red 0 0 lgt_bg_fill.green 0 1 rgba.green 0 1 lgt_bg_fill.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle52
 label "\[ value in1 ]"
 xpos 11281
 ypos -2518
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_fill
 name Remove23
 xpos 11281
 ypos -2471
}
Grade {
 name Grade55
 xpos 11281
 ypos -2420
}
Grade {
 inputs 1+1
 name Grade48
 xpos 11281
 ypos -2342
}
Grade {
 inputs 1+1
 name Grade49
 xpos 11281
 ypos -2138
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_fill
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_fill.red 0 0 rgba.green 0 1 lgt_bg_fill.green 0 1 rgba.blue 0 2 lgt_bg_fill.blue 0 2"
 name Shuffle53
 label "\[ value in1 ]"
 xpos 11281
 ypos -2002
}
Dot {
 name Dot156
 xpos 11315
 ypos -1895
}
push $Nbbc5ac00
Dot {
 name Dot157
 label _char_position
 note_font " Italic"
 note_font_size 22
 xpos 10292
 ypos -2200
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_13
 xpos 10258
 ypos -2152
 in_1 P
 uniform_scale 0.2
 rot_sk 0
 r_k false
 s_k true
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbbbe3800
Dot {
 name Dot158
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 10402
 ypos -2373
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0 0 0 0 0 0 0 0}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte44
 xpos 10368
 ypos -2334
}
push $Nbcfec400
add_layer {lgt_bg_key lgt_bg_key.red lgt_bg_key.green lgt_bg_key.blue}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_key
 fromInput2 {{0} B}
 mappings "4 lgt_bg_key.red 0 0 rgba.red 0 0 lgt_bg_key.green 0 1 rgba.green 0 1 lgt_bg_key.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle54
 label "\[ value in1 ]"
 xpos 10608
 ypos -2512
}
Remove {
 operation keep
 channels rgb
 name Remove24
 xpos 10608
 ypos -2476
}
Grade {
 name Grade41
 xpos 10608
 ypos -2452
}
Grade {
 inputs 1+1
 name Grade50
 xpos 10608
 ypos -2334
}
Grade {
 inputs 1+1
 name Grade51
 xpos 10608
 ypos -2152
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_key
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_key.red 0 0 rgba.green 0 1 lgt_bg_key.green 0 1 rgba.blue 0 2 lgt_bg_key.blue 0 2"
 name Shuffle55
 label "\[ value in1 ]"
 xpos 10608
 ypos -1997
}
Merge2 {
 inputs 2
 operation plus
 bbox B
 also_merge lgt_bg_fill
 name Merge25
 xpos 10608
 ypos -1898
}
Merge2 {
 inputs 2
 operation plus
 bbox B
 also_merge lgt_bg_sky
 name Merge26
 xpos 10608
 ypos -1441
}
Merge2 {
 inputs 2
 operation plus
 bbox B
 also_merge lgt_bg_sun
 name Merge27
 xpos 10608
 ypos -942
}
Merge2 {
 inputs 2
 operation plus
 bbox B
 also_merge lgt_bg_sun
 name Merge41
 xpos 10608
 ypos -389
}
Merge2 {
 inputs 2
 operation plus
 name Merge42
 xpos 10608
 ypos 219
}
Merge2 {
 inputs 2
 operation plus
 name Merge43
 xpos 10608
 ypos 776
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide5
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 10608
 ypos 1638
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 also_merge albedo
 name Merge28
 xpos 10608
 ypos 2021
}
Shuffle2 {
 inputs 2
 fromInput1 {{1} B A}
 in1 rgb
 out1 albedo
 fromInput2 {{0} B A}
 mappings "3 rgba.red 0 0 albedo.red 0 0 rgba.green 0 1 albedo.green 0 1 rgba.blue 0 2 albedo.blue 0 2"
 name Shuffle56
 label "\[ value in1 ]"
 xpos 10608
 ypos 2084
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide6
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 10608
 ypos 2692
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge29
 xpos 10608
 ypos 3075
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide7
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 10608
 ypos 3690
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge30
 xpos 10608
 ypos 4130
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide8
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 10608
 ypos 4751
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge31
 xpos 10608
 ypos 5198
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy1
 xpos 10608
 ypos 5507
}
Grade {
 white {{parent.Grade9.white} {parent.Grade9.white} {parent.Grade9.white} {parent.Grade9.white}}
 multiply {{parent.Grade9.multiply}}
 mix 0.7
 name Grade52
 tile_color 0xff0000ff
 xpos 10608
 ypos 5936
}
Saturation {
 saturation {{parent.Saturation1.saturation}}
 name Saturation3
 tile_color 0xff0000ff
 xpos 10608
 ypos 6016
}
Grade {
 inputs 1+1
 name Grade53
 xpos 10608
 ypos 6569
}
Grade {
 inputs 1+1
 name Grade54
 xpos 10608
 ypos 7221
}
Merge2 {
 inputs 2+1
 operation screen
 Achannels albedo
 mix 0.2
 name Merge32
 xpos 10608
 ypos 8199
}
Group {
 inputs 3
 name BlacksMatch1
 help "Choose a black point color or plug an image /constant you wish to be your blackpoint into BlackColor input.\n\nUse Mult Range to control how far above the blackpoint color to affect the lows\n\nUse the RollOff gamma to add fall off to the bottom of the curve\n\nTurn on the preview Plotscan and move the sampler over a region to see what your settings are doing to a linear 0-1 ramp.  This will help you see if you have weird curves, clamping or other funky problems as you adjust settings"
 knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\n\nif k.name() == \"inputChange\":\n    nsd = nuke.toNode(\"SwitchDefault\")\n    n\[\"defaultBlack\"].setEnabled(nsd\[\"which\"].getValue()==1)\n\nif k.name() == \"previewPlotScan\":\n    p = n.knob(\"previewPlotScan\").value()\n    if p == True:\n        n.knob(\"plotscanSampler\").setVisible(True)\n    else:\n        n.knob(\"plotscanSampler\").setVisible(False)"
 tile_color 0x1c1c1cff
 note_font "Helvetica Bold"
 xpos 10608
 ypos 8314
 addUserKnob {20 BlacksMatch}
 addUserKnob {6 default_black_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 premultInput l "Premultiplied Input" +STARTLINE}
 premultInput true
 addUserKnob {4 mergeOp l Operation: t "Plus and Screen do the same thing with our operation, so I only included a hypot between plus/screen and hypot.  Hypot raises the mult by x2 because I thought that gave more pleasising results.  It will probably be a harsher curve (more towards clamp) than the plus/screen result)." M {Plus/Screen Hypot "" ""}}
 mergeOp Hypot
 addUserKnob {18 defaultBlack l "Default Black"}
 defaultBlack 0.05000000075
 addUserKnob {6 defaultBlack_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 defaultBlack_panelDropped_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {26 ""}
 addUserKnob {7 multBase l "Mult Low Range" t "This is the Multiplier for the top of the \"toe\" curve.  It is multiplying the BlackPoint color by this number and setting it as the highest point weird the curve will influence the midtones and the highlights" R 1.5 10}
 multBase 0.5
 addUserKnob {7 rolloffGamma l "Rolloff Gamma" t "This controls the bottom of the curve, the falloff to where it is bending toward the \"cut off point\" which is out black color.  A lower value will act more like a clamp and a higher value will act more like a plus." R 0.1 1}
 rolloffGamma 0.15
 addUserKnob {4 minVal l "Min Value is:" M {"Toe Result" "Clamp Result" "" ""}}
 addUserKnob {6 previewPlotScan l "Preview PlotScan" t "Click to overlay a plotscan graph to show you how your black color is influenced by your settings." +STARTLINE}
 addUserKnob {12 plotscanSampler l "PlotScan Sampler" +HIDDEN}
 plotscanSampler {200 200}
 addUserKnob {6 color_rgb_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {41 maskChannelMask l mask -STARTLINE T MergeKeymix.maskChannelMask}
 addUserKnob {41 inject -STARTLINE T MergeKeymix.inject}
 addUserKnob {41 invert_mask l invert -STARTLINE T MergeKeymix.invert_mask}
 addUserKnob {41 fringe -STARTLINE T MergeKeymix.fringe}
 addUserKnob {41 mix T MergeKeymix.mix}
 addUserKnob {20 info l Info}
 addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
 addUserKnob {26 desc l Name: T BlacksMatch}
 addUserKnob {26 ver l Version: T v10}
}
 BackdropNode {
  inputs 0
  name BackdropNode1
  tile_color 0x556a5000
  label "This Creates a \nPer Channel Key\nBased on the Blackpoint"
  note_font_size 30
  note_font_color 0xffffffff
  xpos 991
  ypos -77
  bdwidth 314
  bdheight 421
 }
 StickyNote {
  inputs 0
  name StickyNote2
  tile_color 0xff
  label green
  note_font_size 41
  note_font_color 0xffffffff
  xpos 177
  ypos 466
 }
 StickyNote {
  inputs 0
  name StickyNote1
  tile_color 0xff
  label red
  note_font_size 41
  note_font_color 0xffffffff
  xpos 188
  ypos 350
 }
 StickyNote {
  inputs 0
  name StickyNote3
  tile_color 0xff
  label blue
  note_font_size 41
  note_font_color 0xffffffff
  xpos 186
  ypos 570
 }
 StickyNote {
  inputs 0
  name StickyNote4
  tile_color 0xff
  label "min will be \nblack color"
  note_font_size 31
  note_font_color 0xffffffff
  xpos 143
  ypos 733
 }
 Input {
  inputs 0
  name Inputimg
  xpos 322
  ypos -550
 }
 Dot {
  name Dot17
  xpos 356
  ypos -418
 }
set Nbf3b7000 [stack 0]
 AddChannels {
  channels rgba
  color 1
  name AddChannels1
  xpos 322
  ypos -365
 }
 Dot {
  name Dot5
  note_font_size 41
  xpos 356
  ypos -288
 }
set Nbf3b7800 [stack 0]
 Grade {
  channels rgba
  white 0
  multiply 0
  add {{defaultBlack.r} {defaultBlack.g} {defaultBlack.b} 0}
  black_clamp false
  name Grade1
  label color
  xpos 922
  ypos -295
 }
 Input {
  inputs 0
  name InputBlackColor
  xpos 1138
  ypos -569
  number 1
 }
 Switch {
  inputs 2
  which {{"!\[exists parent.input1]"}}
  name SwitchDefault
  xpos 1138
  ypos -291
 }
 Dot {
  name Dot26
  label "Black Color"
  note_font_size 41
  xpos 1172
  ypos -212
 }
 Dot {
  name Dot4
  note_font_size 41
  xpos 1172
  ypos -151
 }
set Nbf3d8c00 [stack 0]
 Dot {
  name Dot36
  note_font_size 41
  xpos 1631
  ypos -151
 }
set Nbf3d9000 [stack 0]
 Dot {
  name Dot16
  note_font_size 41
  xpos 2140
  ypos -151
 }
set Nbf3d9400 [stack 0]
 Crop {
  box {{plotscanSampler.x-2} {plotscanSampler.y-2} {plotscanSampler.x+2} {plotscanSampler.x+2}}
  reformat true
  crop false
  name Crop1
  xpos 2432
  ypos -154
  addUserKnob {20 User}
  addUserKnob {22 cropToBbox l "Crop to Bounding Box" -STARTLINE T codeBBox()}
  addUserKnob {22 cropToBbox_1 l "Crop to Bounding Box" -STARTLINE T codeBBox()}
 }
 Blur {
  channels rgb
  size 16
  name Blur1
  label "\[value size]"
  xpos 2432
  ypos -130
 }
 Reformat {
  format "512 512 0 0 512 512 1 square_512"
  name Reformat4
  xpos 2432
  ypos -92
 }
 Dot {
  name Dot12
  note_font_size 41
  xpos 2466
  ypos -43
 }
set Nbf400800 [stack 0]
 Dot {
  name Dot47
  note_font_size 41
  xpos 2917
  ypos -43
 }
set Nbf400c00 [stack 0]
 Dot {
  name Dot42
  label "Black Color"
  note_font_size 41
  xpos 2917
  ypos 286
 }
 Dot {
  name Dot43
  note_font_size 41
  xpos 2917
  ypos 366
 }
set Nbf401400 [stack 0]
 Dot {
  name Dot44
  note_font_size 41
  xpos 2917
  ypos 480
 }
set Nbf401800 [stack 0]
 Dot {
  name Dot45
  note_font_size 41
  xpos 2917
  ypos 588
 }
set Nbf401c00 [stack 0]
 Dot {
  name Dot31
  note_font_size 41
  xpos 2917
  ypos 656
 }
set Nbf41c000 [stack 0]
push $Nbf41c000
push $Nbf400c00
 Dot {
  name Dot11
  label "Black Color"
  note_font_size 41
  xpos 3426
  ypos -43
 }
 Multiply {
  channels rgb
  value 2
  name Multiply6
  label "mult black color"
  xpos 3392
  ypos 77
 }
 Reformat {
  inputs 0
  format "512 512 0 0 512 512 1 square_512"
  pbb true
  name Reformat1
  xpos 2711
  ypos 61
 }
 Ramp {
  p0 {0 0}
  p1 {512 0}
  name Ramp1
  xpos 2711
  ypos 93
 }
 Dot {
  name Dot1
  note_font_size 41
  xpos 2745
  ypos 154
 }
set Nbf41d800 [stack 0]
 Dot {
  name Dot7
  note_font_size 41
  xpos 3138
  ypos 154
 }
set Nbf41dc00 [stack 0]
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide2
  xpos 3392
  ypos 151
 }
 Invert {
  channels rgb
  name Invert5
  xpos 3392
  ypos 175
 }
 Clamp {
  channels rgb
  name Clamp4
  xpos 3392
  ypos 199
 }
 Gamma {
  channels rgb
  value 0.5
  name Gamma4
  xpos 3392
  ypos 223
 }
 Dot {
  name Dot39
  xpos 3426
  ypos 366
 }
set Nbf447000 [stack 0]
 Dot {
  name Dot40
  xpos 3426
  ypos 480
 }
set Nbf447400 [stack 0]
 Dot {
  name Dot41
  xpos 3426
  ypos 588
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle11
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 3277
  ypos 581
 }
push $Nbf401c00
push $Nbf447400
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle12
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 3276
  ypos 473
 }
push $Nbf401800
push $Nbf447000
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle13
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 3270
  ypos 359
 }
push $Nbf401400
push $Nbf41dc00
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge14
  label red
  xpos 3104
  ypos 359
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge15
  label green
  xpos 3104
  ypos 473
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge16
  label blue
  xpos 3104
  ypos 581
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge18
  label "Set Min Color\nto Blackpoint"
  xpos 3104
  ypos 644
 }
 Dot {
  name Dot46
  note_font_size 41
  xpos 3138
  ypos 742
 }
 Switch {
  inputs 2
  which {{minVal}}
  name SwitchMinColor1
  xpos 2883
  ypos 739
 }
push $Nbf400800
 Multiply {
  channels rgb
  value {{multBase}}
  name Multiply3
  label "mult black color"
  xpos 2432
  ypos 63
 }
 Multiply {
  channels rgb
  value 2
  name Multiply4
  label "hypot Extra Mult\n"
  xpos 2432
  ypos 95
  disable {{"mergeOp == 1 ? 0 : 1"}}
 }
push $Nbf41d800
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide1
  xpos 2432
  ypos 151
 }
 Invert {
  channels rgb
  name Invert2
  xpos 2432
  ypos 175
 }
 Clamp {
  channels rgb
  name Clamp2
  xpos 2432
  ypos 199
 }
 Gamma {
  channels rgb
  value {{rolloffGamma}}
  name Gamma2
  xpos 2432
  ypos 223
 }
 Dot {
  name Dot6
  xpos 2466
  ypos 366
 }
set Nbf501800 [stack 0]
 Dot {
  name Dot9
  xpos 2466
  ypos 480
 }
set Nbf501c00 [stack 0]
 Dot {
  name Dot10
  xpos 2466
  ypos 588
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle4
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2511
  ypos 581
 }
push $Nbf401c00
push $Nbf501c00
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle5
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2511
  ypos 473
 }
push $Nbf401800
push $Nbf501800
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle6
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2517
  ypos 359
 }
push $Nbf401400
push $Nbf41d800
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge2
  label red
  xpos 2711
  ypos 359
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge6
  label green
  xpos 2711
  ypos 473
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge7
  label blue
  xpos 2711
  ypos 581
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge8
  label "Set Min Color\nto Blackpoint"
  xpos 2711
  ypos 730
 }
 Group {
  name PlotScanline
  tile_color 0x9c0000ff
  xpos 2711
  ypos 805
  addUserKnob {20 Controls}
  addUserKnob {4 mode l "Sampling method" M {"Slice Per Pixel (faster)" "Slice Area (slower)" "Full Scanline" "" "" ""}}
  mode "Full Scanline"
  addUserKnob {6 add2image l "Add to original" +STARTLINE}
  addUserKnob {6 Normalize -STARTLINE}
  addUserKnob {6 tonemap l "Tone Map (HDRI)" -STARTLINE}
  addUserKnob {6 curve l "Plot as curve" +STARTLINE}
  curve true
  addUserKnob {3 curveFat l "Curve Thickness" -STARTLINE}
  addUserKnob {3 sa l "Sample Area" t "Disabled when using pr pixel method."}
  sa 1
  addUserKnob {7 lift l Lift R -1 1}
  addUserKnob {7 scale l Scale R 0 5}
  scale 1
  addUserKnob {26 ""}
  addUserKnob {12 p1 l "Start Point"}
  p1 {376 418}
  addUserKnob {12 p2 l "End Point" -STARTLINE}
  p2 {428.5 425.5}
  addUserKnob {26 ""}
  addUserKnob {26 "" l "About " T "Plot Scanline v0.4 | theo@euqahuba.com\nUse P1 to select your scanline and/or you start slice."}
 }
  Input {
   inputs 0
   name Input1
   xpos -480
   ypos 62
  }
set Nbf57c000 [stack 0]
  Expression {
   temp_name0 length
   temp_expr0 sqrt(r*r+g*g+b*b)
   expr0 r/length
   expr1 g/length
   expr2 b/length
   name Normalize
   xpos -480
   ypos 108
   disable {{1-parent.Normalize i}}
  }
  Expression {
   expr0 r/(r+1)
   expr1 g/(g+1)
   expr2 b/(b+1)
   name tonamap
   xpos -480
   ypos 134
   disable {{1-parent.tonemap i}}
  }
set Nbf57c800 [stack 0]
  Expression {
   temp_name0 rExpr
   temp_expr0 "min(max(0,\r\nceil(r(x,parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name1 gExpr
   temp_expr1 "min(max(0,\r\nceil(g(x,parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name2 bExpr
   temp_expr2 "min(max(0,\r\nceil(b(x,parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   expr0 rExpr
   expr1 gExpr
   expr2 bExpr
   expr3 0
   name scanline
   xpos -302
   ypos 193
   addUserKnob {20 User}
  }
push $Nbf57c800
  Expression {
   temp_name0 rExpr
   temp_expr0 "min(max(0,\r\nceil(r((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y,parent.sa,parent.sa)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name1 gExpr
   temp_expr1 "min(max(0,\r\nceil(g((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y,parent.sa,parent.sa)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name2 bExpr
   temp_expr2 "min(max(0,\r\nceil(b((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y,parent.sa,parent.sa)-((y/height+parent.lift)*parent.scale))),1)"
   expr0 rExpr
   expr1 gExpr
   expr2 bExpr
   expr3 0
   name Expression_highQuality
   xpos -515
   ypos 197
   addUserKnob {20 User}
  }
push $Nbf57c800
  Expression {
   temp_name0 rExpr
   temp_expr0 "min(max(0,\r\nceil(r((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name1 gExpr
   temp_expr1 "min(max(0,\r\nceil(g((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name2 bExpr
   temp_expr2 "min(max(0,\r\nceil(b((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   expr0 rExpr
   expr1 gExpr
   expr2 bExpr
   expr3 0
   name perPixel
   xpos -419
   ypos 201
   addUserKnob {20 User}
  }
  Switch {
   inputs 3
   which {{parent.mode i}}
   name Switch2
   xpos -480
   ypos 253
  }
  Matrix {
   matrix {
       {0 1 0}
       {1 -4 1}
       {0 1 0}
     }
   name Matrix2
   xpos -480
   ypos 284
   disable {{-1+parent.curve i x70 1}}
  }
  Dilate {
   size {{parent.curveFat}}
   name Dilate1
   xpos -480
   ypos 326
   disable {{-1+parent.curve.main}}
  }
  Clamp {
   name Clamp1
   xpos -480
   ypos 383
  }
set Nbf5be400 [stack 0]
push $Nbf57c000
  Dot {
   name Dot1
   xpos -556
   ypos 66
  }
  Clamp {
   maximum 331
   name Clamp2
   xpos -590
   ypos 352
  }
  Merge2 {
   inputs 2
   operation plus
   bbox intersection
   name Merge1
   xpos -590
   ypos 394
  }
  Dot {
   name Dot2
   xpos -556
   ypos 433
  }
push $Nbf5be400
  Switch {
   inputs 2
   which {{parent.add2image i}}
   name Switch1
   xpos -480
   ypos 430
  }
  Output {
   name Output1
   xpos -480
   ypos 470
  }
 end_group
 Dot {
  name Dot15
  note_font_size 41
  xpos 2745
  ypos 857
 }
set Nbf5f6000 [stack 0]
 Shuffle {
  red white
  green white
  blue white
  alpha white
  name Shuffle7
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2821
  ypos 850
 }
 BlackOutside {
  name BlackOutside1
  xpos 2821
  ypos 882
 }
 Dilate {
  channels rgba
  size -2
  name Dilate1
  xpos 2821
  ypos 910
 }
 Invert {
  name Invert3
  xpos 2821
  ypos 934
 }
push $Nbf5f6000
 Merge2 {
  inputs 2
  name Merge9
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 2711
  ypos 938
 }
 Group {
  name BinaryAlpha
  tile_color 0x2a2a2aff
  label "(\[value an] --> \[value output1])"
  note_font Verdana
  note_font_color 0xfffff9ff
  xpos 2711
  ypos 983
  addUserKnob {20 BinaryAlpha}
  addUserKnob {4 an l Analyze: M {rgb rgba alpha "" "" ""}}
  addUserKnob {4 output1 l Output: M {rgba alpha "" "" "" ""}}
  output1 alpha
  addUserKnob {20 info l Info}
  addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
  addUserKnob {26 desc l Description: t "Analyzes channel input and creates a binary result 0 or 1 and outputs it into output channel" T BinaryAlpha}
  addUserKnob {26 ver l Version: T v03}
 }
  Input {
   inputs 0
   name Input
   xpos -398
   ypos 275
  }
  Expression {
   temp_name0 rgb_an
   temp_expr0 "r !=0 || g!=0 || b!=0?1:0"
   temp_name1 rgba_an
   temp_expr1 "r!=0 || g!=0 || b!=0 || a!=0?1:0"
   temp_name2 alpha_an
   temp_expr2 a!=0?1:0
   expr3 "parent.an == 0 ? rgb_an : parent.an == 1 ? rgba_an : alpha_an"
   name Expression
   xpos -398
   ypos 341
  }
  Shuffle {
   red alpha
   green alpha
   blue alpha
   name Shuffle
   label "\[value in]"
   xpos -398
   ypos 367
   disable {{parent.output1}}
  }
  Output {
   name Output1
   xpos -398
   ypos 456
  }
 end_group
 Reformat {
  type "to box"
  box_height {{"\[exists parent.input0] ? parent.input.height : root.format.height"}}
  resize height
  filter impulse
  pbb true
  name Reformat2
  xpos 2711
  ypos 1041
 }
 Reformat {
  type "to box"
  box_width {{"\[exists parent.input0] ? parent.input.width : root.format.width"}}
  box_height {{input.height}}
  resize none
  filter impulse
  black_outside true
  pbb true
  name Reformat3
  xpos 2711
  ypos 1081
 }
 Dilate {
  channels rgba
  size 1
  name Dilate2
  xpos 2711
  ypos 1121
 }
 Dot {
  name Dot14
  note_font_size 41
  xpos 2745
  ypos 1192
 }
 Input {
  inputs 0
  name Inputmask
  xpos 864
  ypos 878
  number 2
 }
 Dot {
  name Dot29
  xpos 898
  ypos 1015
 }
push $Nbf3d9000
 Dot {
  name Dot33
  label "Black Color"
  note_font_size 41
  xpos 1631
  ypos 295
 }
 Dot {
  name Dot37
  note_font_size 41
  xpos 1631
  ypos 360
 }
set Nbf65cc00 [stack 0]
 Dot {
  name Dot34
  note_font_size 41
  xpos 1631
  ypos 474
 }
set Nbf65d000 [stack 0]
 Dot {
  name Dot35
  note_font_size 41
  xpos 1631
  ypos 582
 }
set Nbf65d400 [stack 0]
 Dot {
  name Dot13
  note_font_size 41
  xpos 1631
  ypos 674
 }
set Nbf65d800 [stack 0]
push $Nbf65d800
push $Nbf3d9400
 Multiply {
  channels rgb
  value 2
  name Multiply7
  label "mult black color"
  xpos 2106
  ypos 87
 }
push $Nbf3b7800
 Unpremult {
  name Unpremult1
  xpos 322
  ypos -16
  disable {{"! premultInput"}}
 }
 Dot {
  name Dot18
  xpos 356
  ypos 145
 }
set Nbf674400 [stack 0]
 Dot {
  name Dot22
  note_font_size 41
  xpos 1028
  ypos 145
 }
set Nbf674800 [stack 0]
 Dot {
  name Dot32
  note_font_size 41
  xpos 1852
  ypos 145
 }
set Nbf674c00 [stack 0]
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide3
  xpos 2106
  ypos 142
 }
 Invert {
  channels rgb
  name Invert4
  xpos 2106
  ypos 166
 }
 Clamp {
  channels rgb
  name Clamp3
  xpos 2106
  ypos 190
 }
 Gamma {
  channels rgb
  value 0.51
  name Gamma3
  xpos 2106
  ypos 214
 }
 Dot {
  name Dot24
  xpos 2140
  ypos 360
 }
set Nbf6a8000 [stack 0]
 Dot {
  name Dot25
  xpos 2140
  ypos 474
 }
set Nbf6a8400 [stack 0]
 Dot {
  name Dot27
  xpos 2140
  ypos 582
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle8
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1990
  ypos 575
 }
push $Nbf65d400
push $Nbf6a8400
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle9
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1990
  ypos 467
 }
push $Nbf65d000
push $Nbf6a8000
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle10
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1984
  ypos 353
 }
push $Nbf65cc00
push $Nbf674c00
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge11
  label red
  xpos 1818
  ypos 353
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge12
  label green
  xpos 1818
  ypos 467
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge13
  label blue
  xpos 1818
  ypos 575
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge17
  label "Set Min Color\nto Blackpoint"
  xpos 1818
  ypos 662
 }
 Dot {
  name Dot38
  note_font_size 41
  xpos 1852
  ypos 760
 }
 Switch {
  inputs 2
  which {{minVal}}
  name SwitchMinColor
  xpos 1597
  ypos 757
 }
push $Nbf3d8c00
 Multiply {
  channels rgb
  value {{multBase}}
  name Multiply1
  label "mult black color"
  xpos 1138
  ypos 52
 }
 Multiply {
  channels rgb
  value 2
  name Multiply2
  label "hypot Extra Mult\n"
  xpos 1138
  ypos 84
  disable {{"mergeOp == 1 ? 0 : 1"}}
 }
push $Nbf674800
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide
  xpos 1138
  ypos 194
 }
 Invert {
  channels rgb
  name Invert1
  xpos 1138
  ypos 239
 }
 Clamp {
  channels rgb
  name Clamp1
  xpos 1138
  ypos 263
 }
 Gamma {
  channels rgb
  value {{rolloffGamma}}
  name Gamma1
  xpos 1138
  ypos 287
 }
 Dot {
  name Dot19
  xpos 1172
  ypos 364
 }
set Nbf722800 [stack 0]
 Dot {
  name Dot20
  xpos 1172
  ypos 478
 }
set Nbf722c00 [stack 0]
 Dot {
  name Dot21
  xpos 1172
  ypos 586
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle3
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1022
  ypos 579
 }
push $Nbf3d8c00
 Dot {
  name Dot23
  xpos 706
  ypos -151
 }
 Dot {
  name Dot8
  label "Black Color"
  note_font_size 41
  xpos 706
  ypos 293
 }
set Nbf723c00 [stack 0]
 Dot {
  name Dot2
  note_font_size 41
  xpos 706
  ypos 404
 }
set Nbf748000 [stack 0]
 Dot {
  name Dot3
  note_font_size 41
  xpos 706
  ypos 523
 }
push $Nbf722c00
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle2
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1022
  ypos 471
 }
push $Nbf748000
push $Nbf722800
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle1
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1016
  ypos 357
 }
push $Nbf723c00
push $Nbf674400
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge3
  label red
  xpos 322
  ypos 357
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge4
  label green
  xpos 322
  ypos 471
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge5
  label blue
  xpos 322
  ypos 579
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge1
  label "Set Min Color\nto Blackpoint"
  xpos 322
  ypos 748
 }
 Premult {
  name Premult4
  xpos 322
  ypos 881
  disable {{"! premultInput"}}
 }
push $Nbf3b7000
 Dot {
  name Dot28
  xpos -146
  ypos -418
 }
 Dot {
  name Dot30
  xpos -146
  ypos 1015
 }
 Merge2 {
  inputs 2+1
  operation copy
  bbox B
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix 0.15
  name MergeKeymix
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 322
  ypos 1012
 }
 Merge2 {
  inputs 2
  name Merge10
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 322
  ypos 1189
  disable {{!previewPlotScan}}
 }
 Output {
  name Output1
  xpos 322
  ypos 1395
 }
 NoOp {
  inputs 0
  name Settings
  note_font_size 51
  xpos 2494
  ypos -414
  addUserKnob {20 User}
  addUserKnob {7 mergeOpNum l "Merge Op Num"}
  mergeOpNum {{"mergeOp == 0 ? 24 : 13"}}
 }
end_group
Merge2 {
 inputs 2
 operation mask
 name Merge37
 xpos 10608
 ypos 8844
}
Dot {
 name Dot159
 xpos 10642
 ypos 9153
}
set Nbf7aa000 [stack 0]
Dot {
 name Dot160
 xpos 10313
 ypos 9153
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sky
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sky.red 0 0 rgba.red 0 0 lgt_bg_sky.green 0 1 rgba.green 0 1 lgt_bg_sky.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle57
 label "\[ value in1 ]"
 xpos 10279
 ypos 9199
}
Group {
 name Glow_Exponential5
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 10279
 ypos 9280
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 2
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nbf7ab000 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nbf7ab400 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nbf7ab000
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  range {0 0.2525188758 1 1}
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nbf7dd800 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nbf7ddc00 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nbf806000 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nbf806400 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nbf806800 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nbf806c00 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nbf807000 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nbf807400 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nbf807800 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nbf807800
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nbf807400
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nbf807000
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nbf806c00
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nbf806800
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nbf806400
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nbf806000
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nbf7ddc00
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nbf7dd800
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nbf8f3800 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nbf8f3800
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nbf7ab400
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot161
 xpos 10313
 ypos 9387
}
push $Nbf7aa000
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.15
 name Merge33
 xpos 10608
 ypos 9384
}
Dot {
 name Dot162
 xpos 10642
 ypos 9557
}
set Nbf9a6400 [stack 0]
Dot {
 name Dot163
 xpos 10320
 ypos 9557
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_key
 fromInput2 {{0} B}
 mappings "4 lgt_bg_key.red 0 0 rgba.red 0 0 lgt_bg_key.green 0 1 rgba.green 0 1 lgt_bg_key.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle58
 label "\[ value in1 ]"
 xpos 10286
 ypos 9604
}
Group {
 name Glow_Exponential6
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 10286
 ypos 9687
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 6
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 1
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nbf9a7400 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nbf9a7800 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nbf9a7400
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  range {0 0.5091790611 1 1}
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nbf9cdc00 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc09de000 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc09de400 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc09de800 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc09dec00 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc09df000 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc09df400 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc09df800 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc09dfc00 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc09dfc00
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc09df800
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc09df400
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc09df000
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc09dec00
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc09de800
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc09de400
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc09de000
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nbf9cdc00
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc0ac7c00 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc0ac7c00
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nbf9a7800
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot164
 xpos 10320
 ypos 9791
}
push $Nbf9a6400
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.25
 name Merge34
 xpos 10608
 ypos 9788
}
Dot {
 name Dot165
 xpos 10642
 ypos 10001
}
set Nc0b80800 [stack 0]
Dot {
 name Dot166
 xpos 10320
 ypos 10001
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_fill
 fromInput2 {{0} B}
 mappings "4 lgt_bg_fill.red 0 0 rgba.red 0 0 lgt_bg_fill.green 0 1 rgba.green 0 1 lgt_bg_fill.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle59
 label "\[ value in1 ]"
 xpos 10286
 ypos 10048
}
Group {
 name Glow_Exponential7
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 10286
 ypos 10122
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 1
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc0b81800 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc0b81c00 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc0b81800
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc0bda000 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc0bda400 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc0bda800 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc0bdac00 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc0bdb000 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc0bdb400 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc0bdb800 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc0bdbc00 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc0bf2000 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc0bf2000
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc0bdbc00
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc0bdb800
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc0bdb400
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc0bdb000
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc0bdac00
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc0bda800
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc0bda400
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc0bda000
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc0d00000 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc0d00000
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc0b81c00
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot167
 xpos 10320
 ypos 10235
}
push $Nc0b80800
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.25
 name Merge35
 xpos 10608
 ypos 10232
}
Dot {
 name Dot168
 xpos 10642
 ypos 10510
}
set Nc0d7ac00 [stack 0]
Dot {
 name Dot169
 xpos 10320
 ypos 10510
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sun.red 0 0 rgba.red 0 0 lgt_bg_sun.green 0 1 rgba.green 0 1 lgt_bg_sun.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle60
 label "\[ value in1 ]"
 xpos 10286
 ypos 10557
}
Group {
 name Glow_Exponential8
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 10286
 ypos 10631
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 1
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc0d7bc00 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc0da0000 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc0d7bc00
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc0dce400 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc0dce800 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc0dcec00 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc0dcf000 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc0dcf400 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc0dcf800 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc0dcfc00 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc0dea000 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc0dea400 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc0dea400
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc0dea000
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc0dcfc00
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc0dcf800
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc0dcf400
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc0dcf000
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc0dcec00
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc0dce800
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc0dce400
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc0efc400 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc0efc400
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc0da0000
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot170
 xpos 10320
 ypos 10744
}
push $Nc0d7ac00
Merge2 {
 inputs 2
 operation plus
 bbox B
 name Merge36
 xpos 10608
 ypos 10741
 disable true
}
Copy {
 inputs 2
 from0 depth.Z
 to0 depth.Z
 name Copy2
 xpos 10608
 ypos 11165
}
Merge2 {
 inputs 2
 operation plus
 mix 0.01
 name Merge40
 xpos 10608
 ypos 11562
}
Grade {
 gamma 0.5
 black_clamp false
 name Grade57
 xpos 10608
 ypos 11932
}
ZDefocus2 {
 math depth
 center 22.7862606
 focal_point {917 603}
 size 2
 max_size 5
 name ZDefocus1
 label "Size: \[ value size ]"
 xpos 10608
 ypos 11984
 disable true
}
Grade {
 gamma {{parent.Grade57.gamma}}
 reverse true
 name Grade58
 xpos 10608
 ypos 12052
}
Dot {
 name Dot102
 xpos 10642
 ypos 12473
}
push $Ncb2bd800
Shuffle2 {
 fromInput1 {{0} B}
 in1 alpha
 out1 alpha
 fromInput2 {{0} B}
 mappings "1 rgba.alpha 0 0 rgba.alpha 0 0"
 name Shuffle9
 label "\[ value in1 ]"
 xpos 5690
 ypos -6248
}
Remove {
 operation keep
 channels alpha
 name Remove8
 xpos 5690
 ypos -6201
}
Dot {
 name _bg_alpha
 label "\[value name]"
 note_font_size 33
 xpos 5724
 ypos -6052
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nc0fb5000 [stack 0]
Dot {
 name Dot16
 label _bg_alpha
 note_font " Italic"
 note_font_size 22
 xpos 5600
 ypos 10240
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Invert {
 name Invert2
 xpos 5566
 ypos 10258
}
Roto {
 inputs 0
 output alpha
 curves {{{v x3f99999a}
  {f 0}
  {n
   {layer Root
    {f 2097664}
    {t x44800000 x43d68000}
    {a pt1x 0 pt1y 0 pt2x 0 pt2y 0 pt3x 0 pt3y 0 pt4x 0 pt4y 0 ptex00 0 ptex01 0 ptex02 0 ptex03 0 ptex10 0 ptex11 0 ptex12 0 ptex13 0 ptex20 0 ptex21 0 ptex22 0 ptex23 0 ptex30 0 ptex31 0 ptex32 0 ptex33 0 ptof1x 0 ptof1y 0 ptof2x 0 ptof2y 0 ptof3x 0 ptof3y 0 ptof4x 0 ptof4y 0 pterr 0 ptrefset 0 ptmot x40800000 ptref 0}
    {curvegroup Ellipse1 512 bezier
     {{cc
       {f 8192}
       {p
        {xc2e9e480}
        {x44f44a23 xc39937c4}
        {x42e9e450}
        {0 xc30a7c44}
        {x450feddd x418283f1}
        {0 x430a7c44}
        {x42e9e450}
        {x44f44a23 x43431088}
        {xc2e9e480}
        {0 x430a7c44}
        {x44c2b88a x418283f2}
        {0 xc30a7c44}}}
      {cc
       {f 8192}
       {p
        {xc2e9e480}
        {0 xc28c0000}
        {x42e9e450}
        {0 xc30a7c44}
        {x43346660 x41c00009}
        {0 x430a7c44}
        {x42e9e450}
        {0 x42cf3330}
        {xc2e9e480}
        {0 x430a7c44}
        {xc2e73340 x42100001}
        {0 xc30a7c44}}}}
     {tx 1 x44db0800 x4400d000}
     {a osw x41200000 osf 0 str 1 spx x44800000 spy x43d68000 sb 1 tt x40e00000}}}}}}
 toolbox {selectAll {
  { selectAll str 1 ssx 1 ssy 1 sf 1 }
  { createBezier str 1 ssx 1 ssy 1 sf 1 sb 1 tt 4 }
  { createBezierCusped str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createBSpline str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createEllipse str 1 ssx 1 ssy 1 sf 1 sb 1 tt 7 }
  { createRectangle str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createRectangleCusped str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { brush str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { eraser src 2 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { clone src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { reveal src 3 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { dodge src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { burn src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { blur src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { sharpen src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { smear src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
} }
 toolbar_brush_hardness 0.200000003
 toolbar_source_transform_scale {1 1}
 toolbar_source_transform_center {1024 429}
 colorOverlay {0 0 0 0}
 lifetime_type "all frames"
 motionblur_shutter_offset_type centred
 source_black_outside true
 name Roto1
 xpos 6130
 ypos 2452
}
Blur {
 size 240
 name Blur1
 label "Size: \[ value size ]"
 xpos 6130
 ypos 2504
}
Constant {
 inputs 0
 channels rgb
 color {0.4691718519 0.8131474853 4.787468433 0}
 name Constant2
 xpos 5916
 ypos 2314
}
Grade {
 multiply 0.7
 name Grade4
 xpos 5916
 ypos 2386
}
Grade {
 inputs 1+1
 white 4
 multiply {1.333333373 1.333333373 0.3333333731 1}
 name Grade19
 xpos 5916
 ypos 2516
}
Dot {
 name Dot181
 xpos 5950
 ypos 2885
}
set Nc1017000 [stack 0]
Defocus {
 defocus 2
 name Defocus1
 label "Size: \[ value defocus ]"
 xpos 5916
 ypos 3106
}
Dot {
 name Dot69
 xpos 5950
 ypos 9149
}
set Nc1017800 [stack 0]
Dot {
 name Dot72
 xpos 5786
 ypos 9149
}
Dot {
 name Dot74
 xpos 5786
 ypos 9390
}
push $Nbb7e6000
Dot {
 name Dot19
 xpos 6463
 ypos -6355
}
set Nc1046400 [stack 0]
Dot {
 name Dot21
 xpos 6697
 ypos -6355
}
set Nc1046800 [stack 0]
Shuffle2 {
 fromInput1 {{0} B}
 in1 other
 out1 depth
 fromInput2 {{0} B}
 mappings "1 other.depth 0 0 depth.Z 0 0"
 name Shuffle4
 label "\[ value in1 ]"
 xpos 6663
 ypos -6293
}
Remove {
 operation keep
 channels depth
 name Remove3
 xpos 6663
 ypos -6242
}
Dot {
 name _bg_depth
 label "\[value name]"
 note_font_size 33
 xpos 6697
 ypos -6111
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Dot {
 name Dot71
 label _bg_depth
 note_font " Italic"
 note_font_size 22
 xpos 948
 ypos 8245
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot8
 xpos 948
 ypos 8384
}
set Nc1047c00 [stack 0]
Shuffle2 {
 fromInput1 {{0} B}
 in1 depth
 fromInput2 {{0} B}
 mappings "4 depth.Z 0 0 rgba.red 0 0 depth.Z 0 0 rgba.green 0 1 depth.Z 0 0 rgba.blue 0 2 depth.Z 0 0 rgba.alpha 0 3"
 name Shuffle24
 label "\[ value in1 ]"
 xpos 914
 ypos 8487
}
Grade {
 channels rgba
 blackpoint {36.7218132 36.7218132 36.7218132 36.7218132}
 whitepoint {68.81648254 68.81648254 68.81648254 68.81648254}
 gamma 0.8
 name Grade23
 xpos 914
 ypos 8578
}
Dot {
 name Dot17
 xpos 948
 ypos 8670
}
Constant {
 inputs 0
 channels rgb
 color {0.7123613954 0.4668614864 0.4173614085 0.7827928066}
 name Constant1
 xpos 1050
 ypos 8480
}
Merge2 {
 inputs 2
 operation mask
 name Merge14
 xpos 1050
 ypos 8667
}
Dot {
 name Dot27
 xpos 1084
 ypos 8754
}
push $Nc0fb5000
Dot {
 name Dot106
 label _bg_alpha
 note_font " Italic"
 note_font_size 22
 xpos 1165
 ypos 8308
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Constant {
 inputs 0
 channels {rgba.red -rgba.green -rgba.blue none}
 color {57 0 0 0}
 name Constant5
 xpos 1045
 ypos 8262
}
push $Nc1047c00
Merge2 {
 inputs 2+1
 operation under
 Achannels rgb
 Bchannels depth
 output depth
 invert_mask true
 name Merge38
 xpos 1045
 ypos 8375
}
push $Nc1046800
Dot {
 name Dot28
 xpos 6996
 ypos -6355
}
set Nc1094400 [stack 0]
Shuffle2 {
 fromInput1 {{0} B}
 in1 lighting
 out1 rgb
 fromInput2 {{0} B}
 mappings "3 lighting.green 0 1 rgba.green 0 1 lighting.red 0 0 rgba.red 0 0 lighting.blue 0 2 rgba.blue 0 2"
 name Shuffle25
 label "\[ value in1 ]"
 xpos 6962
 ypos -6303
}
push $Nc1094400
Dot {
 name Dot31
 xpos 7138
 ypos -6355
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 albedo
 out1 rgb
 fromInput2 {{0} B}
 mappings "3 albedo.red 0 0 rgba.red 0 0 albedo.green 0 1 rgba.green 0 1 albedo.blue 0 2 rgba.blue 0 2"
 name Shuffle26
 label "\[ value in1 ]"
 xpos 7104
 ypos -6294
}
Dot {
 name Dot36
 xpos 7138
 ypos -6212
}
Merge2 {
 inputs 2
 operation divide
 name Merge17
 xpos 6962
 ypos -6215
}
Shuffle2 {
 fromInput1 {{0} B}
 fromInput2 {{0} B}
 mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.red 0 0 rgba.blue 0 2 rgba.red 0 0 rgba.alpha 0 3"
 name Shuffle27
 label "\[ value in1 ]"
 xpos 6962
 ypos -6191
}
Remove {
 operation keep
 channels rgba
 name Remove10
 xpos 6962
 ypos -6146
}
Clamp {
 name Clamp5
 xpos 6962
 ypos -6122
}
Invert {
 name Invert1
 xpos 6962
 ypos -6086
}
Grade {
 channels alpha
 blackpoint 0.6
 whitepoint 0.9
 white_clamp true
 name Grade30
 xpos 6962
 ypos -6035
}
Dot {
 name _bg_shadows
 label "\[value name]"
 note_font_size 33
 xpos 6996
 ypos -5942
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Dot {
 name Dot7
 label _bg_shadows
 note_font " Italic"
 note_font_size 22
 xpos 947
 ypos 5636
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot77
 xpos 947
 ypos 5712
}
set Nc10c3800 [stack 0]
Dot {
 name Dot66
 xpos 947
 ypos 6036
}
push 0
push $Nc1046400
Cryptomatte {
 pickerAdd {0 0 0 0 0 0 0 0}
 lastSelectedCryptoLayerName crypto_asset
 name Cryptomatte1
 xpos 6429
 ypos -6273
}
Dot {
 name _bg_crypto
 label "\[value name]"
 note_font_size 33
 xpos 6463
 ypos -6133
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nc10fe800 [stack 0]
Dot {
 name Dot73
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 784
 ypos 5665
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.193221271 0.09154033661 0.1161613464 0 434 180 435 181}
 pickerRemove {0.06694086641 0.05338845775 0.04806840792 0 31 414 32 415}
 matteList "m:/local_asset_repository/cinderella/furniture/fireplace/kitchen/fireplace_furniture_kitchen_geo.abc//fireplace_furniture_kitchen__fireplace_geo/fireplace_furniture_kitchen__fireplace_geoShape\nm:/local_asset_repository/cinderella/furniture/shelf/kitchenb/shelf_furniture_kitchenb_geo.abc//shelf_furniture_kitchenb__shelf02_wood1_geo/shelf_furniture_kitchenb__shelf02_wood1_geoShape\nm:/local_asset_repository/cinderella/furniture/shelf/kitchenb/shelf_furniture_kitchenb_geo.abc//shelf_furniture_kitchenb__shelf02_wood3_geo/shelf_furniture_kitchenb__shelf02_wood3_geoShape"
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte16
 xpos 750
 ypos 5812
}
push $Nc10c3800
Dot {
 name Dot78
 xpos 1034
 ypos 5712
}
Grade {
 channels alpha
 blackpoint 0.8
 white_clamp true
 mix 0.5
 name Grade26
 xpos 1000
 ypos 5746
}
ChannelMerge {
 inputs 2
 operation in
 name ChannelMerge2
 xpos 1000
 ypos 5800
}
FilterErode {
 size 0.8
 name FilterErode6
 label "Size: \[ value size ]"
 xpos 1000
 ypos 5858
}
Blur {
 channels alpha
 size 2
 name Blur4
 label "Size: \[ value size ]"
 xpos 1110
 ypos 5858
}
push $Nc10fe800
Dot {
 name Dot46
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 539
 ypos -1130
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.1285684854 0.0570955351 0.2283821404 0 254 271 255 272}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte6
 xpos 505
 ypos -1062
}
push $Ncb2bd400
Dot {
 name _bg_beauty
 label "\[value name]"
 note_font_size 33
 xpos 5468
 ypos -6079
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nc112b800 [stack 0]
Dot {
 name Dot44
 label _bg_beauty
 note_font " Italic"
 note_font_size 22
 xpos 720
 ypos -1392
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 albedo
 fromInput2 {{0} B}
 mappings "4 albedo.red 0 0 rgba.red 0 0 albedo.green 0 1 rgba.green 0 1 albedo.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle10
 label "\[ value in1 ]"
 xpos 686
 ypos -1326
}
Clamp {
 minimum 0.0001
 name Clamp1
 xpos 686
 ypos -1269
}
Dot {
 name Dot58
 xpos 720
 ypos -1208
}
set Nc1156800 [stack 0]
Grade {
 inputs 1+1
 name Grade20
 xpos 686
 ypos -1062
}
Dot {
 name _bg_albedo
 label "\[value name]"
 note_font_size 33
 xpos 720
 ypos -893
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nc1157000 [stack 0]
Dot {
 name Dot12
 label _bg_albedo
 note_font " Italic"
 note_font_size 22
 xpos 1422
 ypos 5577
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot87
 xpos 1422
 ypos 5873
}
push $Ncb2bdc00
Shuffle2 {
 fromInput1 {{0} B}
 in1 position
 out1 {P.red P.green P.blue P.alpha P.X P.Y P.Z}
 fromInput2 {{0} B}
 mappings "7 position.red 0 0 P.red 0 0 position.green 0 1 P.green 0 1 position.blue 0 2 P.blue 0 2 black -1 -1 P.alpha 0 3 black -1 -1 P.X 0 4 black -1 -1 P.Y 0 5 black -1 -1 P.Z 0 6"
 name Shuffle1
 label "\[ value in1 ]"
 xpos 5923
 ypos -6253
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 bumpNormals
 out1 N
 fromInput2 {{0} B}
 mappings "3 bumpNormals.X 0 0 N.X 0 0 bumpNormals.Y 0 1 N.Y 0 1 bumpNormals.Z 0 2 N.Z 0 2"
 name Shuffle16
 label "\[ value in1 ]"
 xpos 5923
 ypos -6217
}
Remove {
 operation keep
 channels P
 channels2 N
 name Remove1
 xpos 5923
 ypos -6180
}
Dot {
 name _bg_position
 label "\[value name]"
 note_font_size 33
 xpos 5957
 ypos -6053
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nc1180800 [stack 0]
Dot {
 name Dot70
 label _bg_position
 note_font " Italic"
 note_font_size 22
 xpos 923
 ypos 4672
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_3
 xpos 889
 ypos 4709
 in_1 P
 color {21.0807972 21.697721 -26.13452911}
 uniform_scale 0.0235
 rot_sk 1
 inv true
 facet_X1 0.4
 facet_X0 0.4
 facet_Y1 0.1
 facet_Y0 2.2
 facet_Z1 1.1
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nc10fe800
Dot {
 name Dot9
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 855
 ypos 3716
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.4435375631 0.2232506126 0.08429636061 0 610 277 611 278}
 matteList "m:/local_asset_repository/cinderella/objects/jug/b/jug_objects_b_geo.abc//jug_objects_b__body_geo/jug_objects_b__body_geoShape\n//192.168.99.25/prj/cinderella/export/objects/jar/b/jar_objects_b_geo.abc//jar_objects_b__door_geo/jar_objects_b__door_geoShape\n//192.168.99.25/prj/cinderella/export/objects/jar/b/jar_objects_b_geo.abc//jar_objects_b__man_geo/jar_objects_b__man_geoShape\nm:/local_asset_repository/cinderella/props/cup/b/cup_props_b_geo.abc//cup_props_b__cup_geo/cup_props_b__cup_geoShape"
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte11
 xpos 821
 ypos 3830
}
push $Nc1017000
push $Nc0fb5000
Dot {
 name Dot183
 label _bg_alpha
 note_font " Italic"
 note_font_size 22
 xpos 3533
 ypos 2656
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Invert {
 name Invert4
 xpos 3499
 ypos 2711
}
Camera2 {
 inputs 0
 read_from_file true
 translate {{curve x-30 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.811582784 -5.812201409 -5.812820034 -5.813438659 -5.814057284 -5.814675909 -5.815294534 -5.815913159 -5.816531784 -5.817150409 -5.817769033 -5.818387658 -5.819006283 -5.819624908 -5.820243533 -5.820862158 -5.821480783 -5.822099408 -5.822718033 -5.823336658 -5.823955283 -5.824573908 -5.825192533 -5.825811157 -5.826429782 -5.827048407 -5.827667032 -5.828285657 -5.828904282 -5.829522907 -5.830141532 -5.830760157 -5.831378782 -5.831997407 -5.832616032 -5.833234656 -5.833853281 -5.834471906 -5.835090531 -5.835709156 -5.836327781 -5.836946406 -5.837565031 -5.838183656 -5.838802281 -5.839420906 -5.840039531 -5.840658155 -5.84127678 -5.841895405 -5.84251403 -5.843132655 -5.84375128 -5.844369905 -5.84498853 -5.845607155 -5.84622578 -5.846844405 -5.84746303 -5.848081655 -5.848700279 -5.849318904 -5.849937529 -5.850556154 -5.851174779 -5.851793404 -5.852412029 -5.853030654 -5.853649279 -5.854267904 -5.854886529 -5.855505154 -5.856123778 -5.856742403 -5.857361028 -5.857979653 -5.858598278 -5.859216903 -5.859835528 -5.860454153 -5.861072778 -5.861691403 -5.862310028 -5.862928653 -5.863547278 -5.864165902 -5.864784527 -5.865403152 -5.866021777 -5.866640402 -5.867259027 -5.867877652 -5.868496277 -5.869114902 -5.869733527 -5.870352152 -5.870970777 -5.871589401 -5.872208026 -5.872826651 -5.873445276 -5.874063901 -5.874682526 -5.875301151 -5.875919776 -5.876538401 -5.877157026 -5.877775651 -5.878394276 -5.879012901 -5.879631525 -5.88025015 -5.880868775 -5.8814874 -5.882106025 -5.88272465 -5.883343275 -5.8839619 -5.884580525 -5.88519915 -5.885817775 -5.8864364 -5.887055024 -5.887673649 -5.888292274 -5.888910899 -5.889529524 -5.890148149 -5.890766774 -5.891385399 -5.891385399 -5.891385399} {curve x-30 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.962808905 3.963562113 3.964315321 3.965068529 3.965821737 3.966574945 3.967328154 3.968081362 3.96883457 3.969587778 3.970340986 3.971094194 3.971847402 3.97260061 3.973353818 3.974107026 3.974860235 3.975613443 3.976366651 3.977119859 3.977873067 3.978626275 3.979379483 3.980132691 3.980885899 3.981639107 3.982392316 3.983145524 3.983898732 3.98465194 3.985405148 3.986158356 3.986911564 3.987664772 3.98841798 3.989171188 3.989924396 3.990677605 3.991430813 3.992184021 3.992937229 3.993690437 3.994443645 3.995196853 3.995950061 3.996703269 3.997456477 3.998209686 3.998962894 3.999716102 4.00046931 4.001222518 4.001975726 4.002728934 4.003482142 4.00423535 4.004988558 4.005741766 4.006494975 4.007248183 4.008001391 4.008754599 4.009507807 4.010261015 4.011014223 4.011767431 4.012520639 4.013273847 4.014027056 4.014780264 4.015533472 4.01628668 4.017039888 4.017793096 4.018546304 4.019299512 4.02005272 4.020805928 4.021559137 4.022312345 4.023065553 4.023818761 4.024571969 4.025325177 4.026078385 4.026831593 4.027584801 4.028338009 4.029091217 4.029844426 4.030597634 4.031350842 4.03210405 4.032857258 4.033610466 4.034363674 4.035116882 4.03587009 4.036623298 4.037376507 4.038129715 4.038882923 4.039636131 4.040389339 4.041142547 4.041895755 4.042648963 4.043402171 4.044155379 4.044908588 4.045661796 4.046415004 4.047168212 4.04792142 4.048674628 4.049427836 4.050181044 4.050934252 4.05168746 4.052440668 4.053193877 4.053947085 4.054700293 4.055453501 4.056206709 4.056959917 4.057713125 4.058466333 4.059219541 4.059972749 4.059972749 4.059972749} {curve x-30 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24390128 23.24152634 23.2391514 23.23677647 23.23440153 23.23202659 23.22965165 23.22727672 23.22490178 23.22252684 23.2201519 23.21777696 23.21540203 23.21302709 23.21065215 23.20827721 23.20590228 23.20352734 23.2011524 23.19877746 23.19640253 23.19402759 23.19165265 23.18927771 23.18690278 23.18452784 23.1821529 23.17977796 23.17740302 23.17502809 23.17265315 23.17027821 23.16790327 23.16552834 23.1631534 23.16077846 23.15840352 23.15602859 23.15365365 23.15127871 23.14890377 23.14652884 23.1441539 23.14177896 23.13940402 23.13702908 23.13465415 23.13227921 23.12990427 23.12752933 23.1251544 23.12277946 23.12040452 23.11802958 23.11565465 23.11327971 23.11090477 23.10852983 23.1061549 23.10377996 23.10140502 23.09903008 23.09665514 23.09428021 23.09190527 23.08953033 23.08715539 23.08478046 23.08240552 23.08003058 23.07765564 23.07528071 23.07290577 23.07053083 23.06815589 23.06578096 23.06340602 23.06103108 23.05865614 23.05628121 23.05390627 23.05153133 23.04915639 23.04678145 23.04440652 23.04203158 23.03965664 23.0372817 23.03490677 23.03253183 23.03015689 23.02778195 23.02540702 23.02303208 23.02065714 23.0182822 23.01590727 23.01353233 23.01115739 23.00878245 23.00640751 23.00403258 23.00165764 22.9992827 22.99690776 22.99453283 22.99215789 22.98978295 22.98740801 22.98503308 22.98265814 22.9802832 22.97790826 22.97553333 22.97315839 22.97078345 22.96840851 22.96603357 22.96365864 22.9612837 22.95890876 22.95653382 22.95415889 22.95178395 22.94940901 22.94703407 22.94465914 22.9422842 22.93990926 22.93753432 22.93753432 22.93753432}}
 rotate {{curve x-30 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727 17.06164727} {curve x-30 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6 14.6} {curve x-30 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0}}
 scaling {{curve x-30 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1} {curve x-30 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1} {curve x-30 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1}}
 uniform_scale {{curve x-30 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1}}
 skew {{curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
 pivot_translate {{curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
 focal {{curve x-30 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50}}
 haperture {{curve x-30 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36}}
 vaperture {{curve x-30 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24}}
 near {{curve x-30 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015 0.1000000015}}
 far {{curve x-30 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000}}
 win_translate {{curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve x-30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
 win_scale {{curve x-30 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1} {curve x-30 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1}}
 focal_point {{curve x-30 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5}}
 fstop {{curve x-30 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905 5.599999905}}
 file //192.168.99.25/prj/cinderella/cache/ep06/sq261/sh030/src/shot_camera.abc
 suppress_dialog true
 name Camera2
 xpos 4989
 ypos -6508
}
Dot {
 name _camera
 label "\[value name]"
 note_font_size 33
 xpos 5001
 ypos -6348
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
set Nc14a0400 [stack 0]
Dot {
 name Dot182
 label _camera
 note_font " Italic"
 note_font_size 22
 xpos 3889
 ypos 2573
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
push $Nc14a0400
Dot {
 name Dot185
 label _camera
 note_font " Italic"
 note_font_size 22
 xpos 3303
 ypos 1897
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot186
 xpos 3303
 ypos 1969
}
set Nc14a1000 [stack 0]
Dot {
 name Dot197
 xpos 4428
 ypos 2174
 hide_input true
}
Read {
 inputs 0
 file_type mov
 file O:/cinderella/tools/compositing/elements/Arctic_Frost_08.mp4
 format "4096 2160 0 0 4096 2160 1 4K_DCP"
 last 721
 origlast 721
 origset true
 colorspace color_picking
 name Read9
 xpos 10644
 ypos -6557
}
Reformat {
 type scale
 scale 0.5
 name Reformat2
 xpos 10644
 ypos -6461
}
Dot {
 name frost_2
 label "\[value name]"
 note_font_size 33
 xpos 10678
 ypos -6351
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Dot {
 name Dot187
 label frost_2
 note_font " Italic"
 note_font_size 22
 xpos 3628
 ypos 1722
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
FrameHold {
 firstFrame 132
 name FrameHold2
 xpos 3594
 ypos 1756
}
Transform {
 translate {799.5 -163}
 scale 0.45
 center {1024 540}
 name Transform3
 xpos 3594
 ypos 1792
}
Dot {
 name Dot195
 xpos 3628
 ypos 1836
}
set Nc14e1000 [stack 0]
Dot {
 name Dot189
 xpos 3861
 ypos 1836
}
set Nc14e1400 [stack 0]
Dot {
 name Dot191
 xpos 4100
 ypos 1836
}
set Nc14e1800 [stack 0]
Dot {
 name Dot193
 xpos 4320
 ypos 1836
}
set Nc14e1c00 [stack 0]
Dot {
 name Dot196
 xpos 4518
 ypos 1836
}
Transform {
 translate {-168 46}
 center {1024 429}
 name Transform4
 xpos 4487
 ypos 2034
}
Project3D2 {
 inputs 2
 name Project3D6
 xpos 4484
 ypos 2171
}
Card2 {
 image_aspect false
 translate {0.09999990463 11.26000023 -30.52000046}
 uniform_scale 4
 control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card6
 xpos 4484
 ypos 2253
}
push $Nc14a1000
push $Nc14e1000
Dot {
 name Dot184
 xpos 3438
 ypos 1836
}
Project3D2 {
 inputs 2
 name Project3D1
 xpos 3404
 ypos 1966
}
Card2 {
 image_aspect false
 translate {-4.419999123 14.93999958 -30.52000046}
 uniform_scale 4
 control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card2
 xpos 3404
 ypos 2238
}
push $Nc14a1000
Dot {
 name Dot188
 xpos 3513
 ypos 2055
 hide_input true
}
push $Nc14e1000
Project3D2 {
 inputs 2
 name Project3D2
 xpos 3594
 ypos 2052
}
Card2 {
 image_aspect false
 translate {-4.419999123 10.93999958 -30.52000046}
 uniform_scale 4
 control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card3
 xpos 3594
 ypos 2246
}
push $Nc14a1000
Dot {
 name Dot192
 xpos 3981
 ypos 2151
 hide_input true
}
push $Nc14e1800
Transform {
 translate {33 -7.5}
 center {2019 387.5}
 name Transform2
 xpos 4066
 ypos 1945
}
Project3D2 {
 inputs 2
 name Project3D4
 xpos 4066
 ypos 2148
}
Card2 {
 image_aspect false
 translate {0.09999990463 18.68000031 -30.52000046}
 uniform_scale 4
 control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card4
 xpos 4066
 ypos 2239
}
push $Nc14a1000
Dot {
 name Dot194
 xpos 4213
 ypos 2168
 hide_input true
}
push $Nc14e1c00
Project3D2 {
 inputs 2
 name Project3D5
 xpos 4286
 ypos 2165
}
Card2 {
 image_aspect false
 translate {0.09999990463 14.89999962 -30.52000046}
 uniform_scale 4
 control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card5
 xpos 4286
 ypos 2253
}
set Nc162e000 [stack 0]
push $Nc162e000
push $Nc14a1000
Dot {
 name Dot190
 xpos 3758
 ypos 2124
 hide_input true
}
push $Nc14e1400
Project3D2 {
 inputs 2
 name Project3D3
 xpos 3827
 ypos 2121
}
Card2 {
 image_aspect false
 translate {-4.419999123 18.68000031 -30.52000046}
 uniform_scale 4
 control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card1
 xpos 3827
 ypos 2242
}
Scene {
 inputs 7
 name Scene1
 xpos 3677
 ypos 2350
}
push 0
ScanlineRender {
 inputs 3
 conservative_shader_sampling false
 motion_vectors_type distance
 name ScanlineRender1
 xpos 3667
 ypos 2570
}
Keyer {
 operation "luminance key"
 name Keyer1
 xpos 3667
 ypos 2594
}
Merge2 {
 inputs 2
 operation mask
 bbox intersection
 name Merge44
 xpos 3667
 ypos 2717
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge46
 xpos 3667
 ypos 2882
}
Multiply {
 channels rgba
 value 4
 name Multiply7
 xpos 3667
 ypos 2951
}
Dot {
 name Dot198
 xpos 3701
 ypos 3099
}
push $Nc0fb5000
Dot {
 name Dot42
 label _bg_alpha
 note_font " Italic"
 note_font_size 22
 xpos 1052
 ypos 2757
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot43
 xpos 1052
 ypos 2836
}
push $Nc10fe800
Dot {
 name Dot53
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 539
 ypos 2033
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.05553328618 0.07873702049 0.2400142252 0 1492 578 1493 579}
 matteList "m:/local_asset_repository/cinderella/buildings/window_attic/main/window_attic_buildings_main_geo.abc//window_attic_buildings_main__glass_left_geo/window_attic_buildings_main__glass_left_geoShape\nm:/local_asset_repository/cinderella/buildings/window_attic/main/window_attic_buildings_main_geo.abc//window_attic_buildings_main__glass_right_geo/window_attic_buildings_main__glass_right_geoShape"
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte9
 xpos 505
 ypos 2093
}
Dot {
 name Dot121
 xpos 539
 ypos 2182
}
push $Nc112b800
Dot {
 name Dot54
 label _bg_beauty
 note_font " Italic"
 note_font_size 22
 xpos 711
 ypos 1809
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 refract
 fromInput2 {{0} B}
 mappings "4 refract.red 0 0 rgba.red 0 0 refract.green 0 1 rgba.green 0 1 refract.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle13
 label "\[ value in1 ]"
 xpos 677
 ypos 1849
}
Clamp {
 minimum 0.0001
 name Clamp4
 xpos 677
 ypos 1912
}
Dot {
 name Dot60
 xpos 711
 ypos 2000
}
set Nc16e7000 [stack 0]
Grade {
 inputs 1+1
 name Grade36
 xpos 677
 ypos 2179
}
Dot {
 name Dot55
 xpos 709
 ypos 2441
}
push $Nc16e7000
push $Nc10fe800
Dot {
 name Dot50
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 529
 ypos 1033
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.1637058258 0.1192932129 0.2271728516 0 224 603 225 604}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte8
 xpos 495
 ypos 1068
}
push $Nc112b800
Dot {
 name Dot51
 label _bg_beauty
 note_font " Italic"
 note_font_size 22
 xpos 710
 ypos 733
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 reflect
 fromInput2 {{0} B}
 mappings "4 reflect.red 0 0 rgba.red 0 0 reflect.green 0 1 rgba.green 0 1 reflect.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle12
 label "\[ value in1 ]"
 xpos 676
 ypos 761
}
Clamp {
 minimum 0.0001
 name Clamp3
 xpos 676
 ypos 797
}
Dot {
 name Dot59
 xpos 710
 ypos 844
}
set Nc1711400 [stack 0]
Multiply {
 inputs 1+1
 name Multiply2
 xpos 676
 ypos 1062
}
Dot {
 name Dot52
 xpos 710
 ypos 1278
}
push $Nc1711400
push $Nc10fe800
Dot {
 name Dot47
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 535
 ypos -158
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{2} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.07343298197 0.1749277115 0.1997108459 0 77 237 78 238}
 pickerRemove {0.1872436553 0.08242664486 0.04010527208 1.000000119 71 235 72 236}
 lastSelectedCryptoLayerName crypto_node
 name Cryptomatte7
 xpos 501
 ypos -91
}
set Nc173c400 [stack 0]
Dot {
 name Dot90
 xpos 535
 ypos 55
}
FilterErode {
 size -1
 name FilterErode4
 label "Size: \[ value size ]"
 xpos 577
 ypos 40
}
push $Nc173c400
push $Nc112b800
Dot {
 name Dot48
 label _bg_beauty
 note_font " Italic"
 note_font_size 22
 xpos 716
 ypos -349
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 specular
 fromInput2 {{0} B}
 mappings "4 specular.red 0 0 rgba.red 0 0 specular.green 0 1 rgba.green 0 1 specular.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle11
 label "\[ value in1 ]"
 xpos 682
 ypos -239
}
Clamp {
 minimum 0.0001
 maximum 35
 MaxClampTo_enable true
 name Clamp2
 xpos 682
 ypos -203
}
Dot {
 name Dot57
 xpos 716
 ypos -154
}
set Nc1768000 [stack 0]
Multiply {
 inputs 1+1
 name Multiply1
 xpos 682
 ypos -97
}
Clamp {
 inputs 1+1
 minimum 0.0001
 mix 0.8
 name Clamp6
 xpos 682
 ypos 46
 disable true
}
Dot {
 name Dot49
 xpos 716
 ypos 223
}
push $Nc1768000
push $Nc1157000
Dot {
 name Dot45
 xpos 720
 ypos -831
}
set Nc1769000 [stack 0]
Dot {
 name Dot15
 xpos 720
 ypos -762
}
push $Nc1769000
push $Nc1156800
push $Nc1180800
Dot {
 name Dot39
 label _bg_position
 note_font " Italic"
 note_font_size 22
 xpos 3129
 ypos -2959
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_4
 xpos 3095
 ypos -2876
 in_1 P
 uniform_scale 0.2
 rot_sk 0
 r_k false
 s_k true
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nc10fe800
Dot {
 name Dot40
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 3121
 ypos -3193
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.2361865044 0.02898406982 0.1159362793 0 1763 673 1764 674}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte5
 xpos 3087
 ypos -3130
}
push $Nc112b800
Dot {
 name Dot20
 label _bg_beauty
 note_font " Italic"
 note_font_size 22
 xpos 1254
 ypos -3835
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Dot {
 name Dot22
 xpos 1254
 ypos -3572
}
set Nc2a5c800 [stack 0]
Dot {
 name Dot23
 xpos 1927
 ypos -3572
}
set Nc2a5cc00 [stack 0]
Dot {
 name Dot24
 xpos 2576
 ypos -3572
}
set Nc2a5d000 [stack 0]
Dot {
 name Dot25
 xpos 3327
 ypos -3572
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sun.red 0 0 rgba.red 0 0 lgt_bg_sun.green 0 1 rgba.green 0 1 lgt_bg_sun.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle8
 label "\[ value in1 ]"
 xpos 3293
 ypos -3436
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sun
 name Remove7
 xpos 3293
 ypos -3400
}
Grade {
 name Grade34
 xpos 3293
 ypos -3300
}
Grade {
 inputs 1+1
 multiply 0
 name Grade7
 xpos 3293
 ypos -3130
}
Grade {
 inputs 1+1
 invert_mask true
 name Grade8
 xpos 3293
 ypos -2876
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sun.red 0 0 rgba.green 0 1 lgt_bg_sun.green 0 1 rgba.blue 0 2 lgt_bg_sun.blue 0 2"
 name Shuffle21
 label "\[ value in1 ]"
 xpos 3293
 ypos -1956
}
Dot {
 name Dot30
 xpos 3327
 ypos -1872
}
push $Nc1180800
Dot {
 name Dot37
 label _bg_position
 note_font " Italic"
 note_font_size 22
 xpos 2378
 ypos -2967
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_2
 xpos 2344
 ypos -2884
 in_1 P
 uniform_scale 0.2
 rot_sk 0
 r_k false
 c_k true
 ramp_X1 0.1
 facet_Y1 1
 facet_Y0 1
 facet_Z1 0.1
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nc10fe800
Dot {
 name Dot38
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 2370
 ypos -3187
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.07659100741 0.2254562229 0.1518249363 0 951 542 952 543}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte4
 xpos 2336
 ypos -3124
}
push $Nc2a5d000
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sky
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sky.red 0 0 rgba.red 0 0 lgt_bg_sky.green 0 1 rgba.green 0 1 lgt_bg_sky.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle7
 label "\[ value in1 ]"
 xpos 2542
 ypos -3451
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_sky
 name Remove6
 xpos 2542
 ypos -3415
}
Grade {
 name Grade31
 xpos 2542
 ypos -3297
}
Grade {
 inputs 1+1
 name Grade5
 xpos 2542
 ypos -3124
}
Grade {
 inputs 1+1
 name Grade6
 xpos 2542
 ypos -2884
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_sky
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_sky.red 0 0 rgba.green 0 1 lgt_bg_sky.green 0 1 rgba.blue 0 2 lgt_bg_sky.blue 0 2"
 name Shuffle20
 label "\[ value in1 ]"
 xpos 2542
 ypos -2484
}
Dot {
 name Dot29
 xpos 2576
 ypos -2371
}
push $Nc1180800
Dot {
 name Dot34
 label _bg_position
 note_font " Italic"
 note_font_size 22
 xpos 1688
 ypos -2950
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_11
 xpos 1654
 ypos -2878
 in_1 P
 uniform_scale 0.15
 rot_sk 0
 r_k false
 c_k true
 facet_X1 0.05
 ramp_X1 0.1
 facet_Y1 1
 facet_Y0 1
 facet_Z1 0.1
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nc10fe800
Dot {
 name Dot35
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 1687
 ypos -3215
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.06173706055 0.03952026367 0.01649475098 0 1551 391 1552 392}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte3
 xpos 1653
 ypos -3173
}
push $Nc2a5cc00
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_fill
 fromInput2 {{0} B}
 mappings "4 lgt_bg_fill.red 0 0 rgba.red 0 0 lgt_bg_fill.green 0 1 rgba.green 0 1 lgt_bg_fill.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle6
 label "\[ value in1 ]"
 xpos 1893
 ypos -3451
}
Remove {
 operation keep
 channels rgb
 channels2 lgt_bg_fill
 name Remove5
 xpos 1893
 ypos -3415
}
Grade {
 name Grade28
 xpos 1893
 ypos -3318
}
Grade {
 inputs 1+1
 name Grade3
 xpos 1893
 ypos -3173
}
Grade {
 inputs 1+1
 name Grade2
 xpos 1893
 ypos -2878
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_fill
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_fill.red 0 0 rgba.green 0 1 lgt_bg_fill.green 0 1 rgba.blue 0 2 lgt_bg_fill.blue 0 2"
 name Shuffle19
 label "\[ value in1 ]"
 xpos 1893
 ypos -2797
}
Dot {
 name Dot26
 xpos 1927
 ypos -2678
}
push $Nc1180800
Dot {
 name Dot33
 label _bg_position
 note_font " Italic"
 note_font_size 22
 xpos 997
 ypos -3044
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
xyzKey_v01 {
 name xyzKey_v01_6
 xpos 963
 ypos -2996
 in_1 P
 uniform_scale 0.2
 rot_sk 0
 r_k false
 s_k true
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
set Nbf7bb180 [stack 0]
xyzKey_v01 {
 name xyzKey_v01_15
 xpos 963
 ypos -2892
 in_1 P
 color {-1.874200583 17.70541954 -30.76904869}
 uniform_scale 0.15
 rot_sk 0
 r_k false
 s_k true
 vec z
 ramp 0.1
 sm 0
 lut {master {}
   red {}
   green {}
   blue {}
   alpha {curve C k 0 s0 L 1 s0}}
 in N
 sm_norm 0
 lut_1 {master {}
   red {}
   green {}
   blue {}
   alpha {curve L 0 1}}
}
push $Nbf7bb180
push $Nc10fe800
Dot {
 name Dot32
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 1014
 ypos -3235
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.1771217138 0.113161616 0.115878053 0.08419210464 746 837 747 838}
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte2
 xpos 980
 ypos -3172
}
push $Nc2a5c800
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_key
 fromInput2 {{0} B}
 mappings "4 lgt_bg_key.red 0 0 rgba.red 0 0 lgt_bg_key.green 0 1 rgba.green 0 1 lgt_bg_key.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle5
 label "\[ value in1 ]"
 xpos 1220
 ypos -3445
}
Remove {
 operation keep
 channels rgb
 name Remove4
 xpos 1220
 ypos -3409
}
Grade {
 name Grade25
 xpos 1220
 ypos -3312
}
Grade {
 inputs 1+1
 name Grade1
 xpos 1220
 ypos -3172
}
Grade {
 inputs 1+1
 name Grade29
 xpos 1220
 ypos -2996
}
Grade {
 inputs 1+1
 multiply 3
 name Grade61
 xpos 1220
 ypos -2892
}
Shuffle2 {
 fromInput1 {{0} B}
 out1 lgt_bg_key
 fromInput2 {{0} B}
 mappings "3 rgba.red 0 0 lgt_bg_key.red 0 0 rgba.green 0 1 lgt_bg_key.green 0 1 rgba.blue 0 2 lgt_bg_key.blue 0 2"
 name Shuffle18
 label "\[ value in1 ]"
 xpos 1220
 ypos -2786
}
Merge2 {
 inputs 2
 operation plus
 bbox B
 also_merge lgt_bg_fill
 name Merge3
 xpos 1220
 ypos -2681
}
Merge2 {
 inputs 2
 bbox B
 also_merge lgt_bg_sky
 name Merge4
 xpos 1220
 ypos -2374
}
Merge2 {
 inputs 2
 bbox B
 also_merge lgt_bg_sun
 name Merge5
 xpos 1220
 ypos -1875
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide3
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 1220
 ypos -1217
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 also_merge albedo
 name Merge6
 xpos 1220
 ypos -834
}
Shuffle2 {
 inputs 2
 fromInput1 {{1} B A}
 in1 rgb
 out1 albedo
 fromInput2 {{0} B A}
 mappings "3 rgba.red 0 0 albedo.red 0 0 rgba.green 0 1 albedo.green 0 1 rgba.blue 0 2 albedo.blue 0 2"
 name Shuffle23
 label "\[ value in1 ]"
 xpos 1220
 ypos -771
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide1
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 1220
 ypos -163
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge13
 xpos 1220
 ypos 220
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide2
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 1220
 ypos 835
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge7
 xpos 1220
 ypos 1275
}
MergeExpression {
 inputs 2
 expr0 "Ar == 0 ? Br : Br/Ar"
 expr1 "Ag == 0 ? Bg : Bg/Ag"
 expr2 "Ab == 0 ? Bb : Bb/Ab"
 expr3 "Aa == 0 ? Ba : Ba/Aa"
 name MergeDivide4
 label "( B / A )"
 note_font_color 0xffffffff
 xpos 1220
 ypos 1991
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge8
 xpos 1220
 ypos 2438
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy6
 xpos 1220
 ypos 2827
}
Premult {
 name Premult1
 xpos 1220
 ypos 2881
 disable true
}
Merge2 {
 inputs 2
 bbox B
 name Merge47
 xpos 1220
 ypos 3096
}
Unpremult {
 name Unpremult2
 xpos 1220
 ypos 3231
}
Grade {
 name Grade9
 tile_color 0xff0000ff
 xpos 1220
 ypos 3439
}
Saturation {
 saturation 0.95
 name Saturation1
 tile_color 0xff0000ff
 xpos 1220
 ypos 3494
}
Grade {
 inputs 1+1
 white 0.4
 multiply {0.9583333135 1.033333302 1.008333325 1}
 gamma 1.05
 name Grade17
 xpos 1220
 ypos 3830
}
Grade {
 inputs 1+1
 multiply 0.8
 name Grade33
 xpos 1220
 ypos 4709
}
Merge2 {
 inputs 2+1
 operation screen
 Achannels albedo
 mix 0.3
 name Merge19
 xpos 1220
 ypos 5870
}
Group {
 inputs 3
 name BlacksMatch
 help "Choose a black point color or plug an image /constant you wish to be your blackpoint into BlackColor input.\n\nUse Mult Range to control how far above the blackpoint color to affect the lows\n\nUse the RollOff gamma to add fall off to the bottom of the curve\n\nTurn on the preview Plotscan and move the sampler over a region to see what your settings are doing to a linear 0-1 ramp.  This will help you see if you have weird curves, clamping or other funky problems as you adjust settings"
 knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\n\nif k.name() == \"inputChange\":\n    nsd = nuke.toNode(\"SwitchDefault\")\n    n\[\"defaultBlack\"].setEnabled(nsd\[\"which\"].getValue()==1)\n\nif k.name() == \"previewPlotScan\":\n    p = n.knob(\"previewPlotScan\").value()\n    if p == True:\n        n.knob(\"plotscanSampler\").setVisible(True)\n    else:\n        n.knob(\"plotscanSampler\").setVisible(False)"
 tile_color 0x1c1c1cff
 note_font "Helvetica Bold"
 xpos 1220
 ypos 6032
 addUserKnob {20 BlacksMatch}
 addUserKnob {6 default_black_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 premultInput l "Premultiplied Input" +STARTLINE}
 premultInput true
 addUserKnob {4 mergeOp l Operation: t "Plus and Screen do the same thing with our operation, so I only included a hypot between plus/screen and hypot.  Hypot raises the mult by x2 because I thought that gave more pleasising results.  It will probably be a harsher curve (more towards clamp) than the plus/screen result)." M {Plus/Screen Hypot "" ""}}
 mergeOp Hypot
 addUserKnob {18 defaultBlack l "Default Black"}
 defaultBlack {0.04250000417 0.05000000075 0.05750000477}
 addUserKnob {6 defaultBlack_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 defaultBlack_panelDropped_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {26 ""}
 addUserKnob {7 multBase l "Mult Low Range" t "This is the Multiplier for the top of the \"toe\" curve.  It is multiplying the BlackPoint color by this number and setting it as the highest point weird the curve will influence the midtones and the highlights" R 1.5 10}
 multBase 0.5
 addUserKnob {7 rolloffGamma l "Rolloff Gamma" t "This controls the bottom of the curve, the falloff to where it is bending toward the \"cut off point\" which is out black color.  A lower value will act more like a clamp and a higher value will act more like a plus." R 0.1 1}
 rolloffGamma 0.15
 addUserKnob {4 minVal l "Min Value is:" M {"Toe Result" "Clamp Result" "" ""}}
 addUserKnob {6 previewPlotScan l "Preview PlotScan" t "Click to overlay a plotscan graph to show you how your black color is influenced by your settings." +STARTLINE}
 addUserKnob {12 plotscanSampler l "PlotScan Sampler" +HIDDEN}
 plotscanSampler {200 200}
 addUserKnob {6 color_rgb_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {41 maskChannelMask l mask -STARTLINE T MergeKeymix.maskChannelMask}
 addUserKnob {41 inject -STARTLINE T MergeKeymix.inject}
 addUserKnob {41 invert_mask l invert -STARTLINE T MergeKeymix.invert_mask}
 addUserKnob {41 fringe -STARTLINE T MergeKeymix.fringe}
 addUserKnob {41 mix T MergeKeymix.mix}
 addUserKnob {20 info l Info}
 addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
 addUserKnob {26 desc l Name: T BlacksMatch}
 addUserKnob {26 ver l Version: T v10}
}
 BackdropNode {
  inputs 0
  name BackdropNode1
  tile_color 0x556a5000
  label "This Creates a \nPer Channel Key\nBased on the Blackpoint"
  note_font_size 30
  note_font_color 0xffffffff
  xpos 991
  ypos -77
  bdwidth 314
  bdheight 421
 }
 StickyNote {
  inputs 0
  name StickyNote2
  tile_color 0xff
  label green
  note_font_size 41
  note_font_color 0xffffffff
  xpos 177
  ypos 466
 }
 StickyNote {
  inputs 0
  name StickyNote1
  tile_color 0xff
  label red
  note_font_size 41
  note_font_color 0xffffffff
  xpos 188
  ypos 350
 }
 StickyNote {
  inputs 0
  name StickyNote3
  tile_color 0xff
  label blue
  note_font_size 41
  note_font_color 0xffffffff
  xpos 186
  ypos 570
 }
 StickyNote {
  inputs 0
  name StickyNote4
  tile_color 0xff
  label "min will be \nblack color"
  note_font_size 31
  note_font_color 0xffffffff
  xpos 143
  ypos 733
 }
 Input {
  inputs 0
  name Inputimg
  xpos 322
  ypos -550
 }
 Dot {
  name Dot17
  xpos 356
  ypos -418
 }
set Nc47af400 [stack 0]
 AddChannels {
  channels rgba
  color 1
  name AddChannels1
  xpos 322
  ypos -365
 }
 Dot {
  name Dot5
  note_font_size 41
  xpos 356
  ypos -288
 }
set Nc47afc00 [stack 0]
 Grade {
  channels rgba
  white 0
  multiply 0
  add {{defaultBlack.r} {defaultBlack.g} {defaultBlack.b} 0}
  black_clamp false
  name Grade1
  label color
  xpos 922
  ypos -295
 }
 Input {
  inputs 0
  name InputBlackColor
  xpos 1138
  ypos -569
  number 1
 }
 Switch {
  inputs 2
  which {{"!\[exists parent.input1]"}}
  name SwitchDefault
  xpos 1138
  ypos -291
 }
 Dot {
  name Dot26
  label "Black Color"
  note_font_size 41
  xpos 1172
  ypos -212
 }
 Dot {
  name Dot4
  note_font_size 41
  xpos 1172
  ypos -151
 }
set Nc47c5000 [stack 0]
 Dot {
  name Dot36
  note_font_size 41
  xpos 1631
  ypos -151
 }
set Nc47c5400 [stack 0]
 Dot {
  name Dot16
  note_font_size 41
  xpos 2140
  ypos -151
 }
set Nc47c5800 [stack 0]
 Crop {
  box {{plotscanSampler.x-2} {plotscanSampler.y-2} {plotscanSampler.x+2} {plotscanSampler.x+2}}
  reformat true
  crop false
  name Crop1
  xpos 2432
  ypos -154
  addUserKnob {20 User}
  addUserKnob {22 cropToBbox l "Crop to Bounding Box" -STARTLINE T codeBBox()}
  addUserKnob {22 cropToBbox_1 l "Crop to Bounding Box" -STARTLINE T codeBBox()}
 }
 Blur {
  channels rgb
  size 16
  name Blur1
  label "\[value size]"
  xpos 2432
  ypos -130
 }
 Reformat {
  format "512 512 0 0 512 512 1 square_512"
  name Reformat4
  xpos 2432
  ypos -92
 }
 Dot {
  name Dot12
  note_font_size 41
  xpos 2466
  ypos -43
 }
set Nc47eec00 [stack 0]
 Dot {
  name Dot47
  note_font_size 41
  xpos 2917
  ypos -43
 }
set Nc47ef000 [stack 0]
 Dot {
  name Dot42
  label "Black Color"
  note_font_size 41
  xpos 2917
  ypos 286
 }
 Dot {
  name Dot43
  note_font_size 41
  xpos 2917
  ypos 366
 }
set Nc47ef800 [stack 0]
 Dot {
  name Dot44
  note_font_size 41
  xpos 2917
  ypos 480
 }
set Nc47efc00 [stack 0]
 Dot {
  name Dot45
  note_font_size 41
  xpos 2917
  ypos 588
 }
set Nc480e000 [stack 0]
 Dot {
  name Dot31
  note_font_size 41
  xpos 2917
  ypos 656
 }
set Nc480e400 [stack 0]
push $Nc480e400
push $Nc47ef000
 Dot {
  name Dot11
  label "Black Color"
  note_font_size 41
  xpos 3426
  ypos -43
 }
 Multiply {
  channels rgb
  value 2
  name Multiply6
  label "mult black color"
  xpos 3392
  ypos 77
 }
 Reformat {
  inputs 0
  format "512 512 0 0 512 512 1 square_512"
  pbb true
  name Reformat1
  xpos 2711
  ypos 61
 }
 Ramp {
  p0 {0 0}
  p1 {512 0}
  name Ramp1
  xpos 2711
  ypos 93
 }
 Dot {
  name Dot1
  note_font_size 41
  xpos 2745
  ypos 154
 }
set Nc480fc00 [stack 0]
 Dot {
  name Dot7
  note_font_size 41
  xpos 3138
  ypos 154
 }
set Nc4834000 [stack 0]
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide2
  xpos 3392
  ypos 151
 }
 Invert {
  channels rgb
  name Invert5
  xpos 3392
  ypos 175
 }
 Clamp {
  channels rgb
  name Clamp4
  xpos 3392
  ypos 199
 }
 Gamma {
  channels rgb
  value 0.5
  name Gamma4
  xpos 3392
  ypos 223
 }
 Dot {
  name Dot39
  xpos 3426
  ypos 366
 }
set Nc4835400 [stack 0]
 Dot {
  name Dot40
  xpos 3426
  ypos 480
 }
set Nc4835800 [stack 0]
 Dot {
  name Dot41
  xpos 3426
  ypos 588
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle11
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 3277
  ypos 581
 }
push $Nc480e000
push $Nc4835800
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle12
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 3276
  ypos 473
 }
push $Nc47efc00
push $Nc4835400
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle13
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 3270
  ypos 359
 }
push $Nc47ef800
push $Nc4834000
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge14
  label red
  xpos 3104
  ypos 359
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge15
  label green
  xpos 3104
  ypos 473
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge16
  label blue
  xpos 3104
  ypos 581
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge18
  label "Set Min Color\nto Blackpoint"
  xpos 3104
  ypos 644
 }
 Dot {
  name Dot46
  note_font_size 41
  xpos 3138
  ypos 742
 }
 Switch {
  inputs 2
  which {{minVal}}
  name SwitchMinColor1
  xpos 2883
  ypos 739
 }
push $Nc47eec00
 Multiply {
  channels rgb
  value {{multBase}}
  name Multiply3
  label "mult black color"
  xpos 2432
  ypos 63
 }
 Multiply {
  channels rgb
  value 2
  name Multiply4
  label "hypot Extra Mult\n"
  xpos 2432
  ypos 95
  disable {{"mergeOp == 1 ? 0 : 1"}}
 }
push $Nc480fc00
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide1
  xpos 2432
  ypos 151
 }
 Invert {
  channels rgb
  name Invert2
  xpos 2432
  ypos 175
 }
 Clamp {
  channels rgb
  name Clamp2
  xpos 2432
  ypos 199
 }
 Gamma {
  channels rgb
  value {{rolloffGamma}}
  name Gamma2
  xpos 2432
  ypos 223
 }
 Dot {
  name Dot6
  xpos 2466
  ypos 366
 }
set Nc489bc00 [stack 0]
 Dot {
  name Dot9
  xpos 2466
  ypos 480
 }
set Nc48d8000 [stack 0]
 Dot {
  name Dot10
  xpos 2466
  ypos 588
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle4
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2511
  ypos 581
 }
push $Nc480e000
push $Nc48d8000
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle5
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2511
  ypos 473
 }
push $Nc47efc00
push $Nc489bc00
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle6
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2517
  ypos 359
 }
push $Nc47ef800
push $Nc480fc00
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge2
  label red
  xpos 2711
  ypos 359
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge6
  label green
  xpos 2711
  ypos 473
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge7
  label blue
  xpos 2711
  ypos 581
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge8
  label "Set Min Color\nto Blackpoint"
  xpos 2711
  ypos 730
 }
 Group {
  name PlotScanline
  tile_color 0x9c0000ff
  xpos 2711
  ypos 805
  addUserKnob {20 Controls}
  addUserKnob {4 mode l "Sampling method" M {"Slice Per Pixel (faster)" "Slice Area (slower)" "Full Scanline" "" "" ""}}
  mode "Full Scanline"
  addUserKnob {6 add2image l "Add to original" +STARTLINE}
  addUserKnob {6 Normalize -STARTLINE}
  addUserKnob {6 tonemap l "Tone Map (HDRI)" -STARTLINE}
  addUserKnob {6 curve l "Plot as curve" +STARTLINE}
  curve true
  addUserKnob {3 curveFat l "Curve Thickness" -STARTLINE}
  addUserKnob {3 sa l "Sample Area" t "Disabled when using pr pixel method."}
  sa 1
  addUserKnob {7 lift l Lift R -1 1}
  addUserKnob {7 scale l Scale R 0 5}
  scale 1
  addUserKnob {26 ""}
  addUserKnob {12 p1 l "Start Point"}
  p1 {376 418}
  addUserKnob {12 p2 l "End Point" -STARTLINE}
  p2 {428.5 425.5}
  addUserKnob {26 ""}
  addUserKnob {26 "" l "About " T "Plot Scanline v0.4 | theo@euqahuba.com\nUse P1 to select your scanline and/or you start slice."}
 }
  Input {
   inputs 0
   name Input1
   xpos -480
   ypos 62
  }
set Nc490c400 [stack 0]
  Expression {
   temp_name0 length
   temp_expr0 sqrt(r*r+g*g+b*b)
   expr0 r/length
   expr1 g/length
   expr2 b/length
   name Normalize
   xpos -480
   ypos 108
   disable {{1-parent.Normalize i}}
  }
  Expression {
   expr0 r/(r+1)
   expr1 g/(g+1)
   expr2 b/(b+1)
   name tonamap
   xpos -480
   ypos 134
   disable {{1-parent.tonemap i}}
  }
set Nc490cc00 [stack 0]
  Expression {
   temp_name0 rExpr
   temp_expr0 "min(max(0,\r\nceil(r(x,parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name1 gExpr
   temp_expr1 "min(max(0,\r\nceil(g(x,parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name2 bExpr
   temp_expr2 "min(max(0,\r\nceil(b(x,parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   expr0 rExpr
   expr1 gExpr
   expr2 bExpr
   expr3 0
   name scanline
   xpos -302
   ypos 193
   addUserKnob {20 User}
  }
push $Nc490cc00
  Expression {
   temp_name0 rExpr
   temp_expr0 "min(max(0,\r\nceil(r((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y,parent.sa,parent.sa)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name1 gExpr
   temp_expr1 "min(max(0,\r\nceil(g((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y,parent.sa,parent.sa)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name2 bExpr
   temp_expr2 "min(max(0,\r\nceil(b((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y,parent.sa,parent.sa)-((y/height+parent.lift)*parent.scale))),1)"
   expr0 rExpr
   expr1 gExpr
   expr2 bExpr
   expr3 0
   name Expression_highQuality
   xpos -515
   ypos 197
   addUserKnob {20 User}
  }
push $Nc490cc00
  Expression {
   temp_name0 rExpr
   temp_expr0 "min(max(0,\r\nceil(r((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name1 gExpr
   temp_expr1 "min(max(0,\r\nceil(g((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   temp_name2 bExpr
   temp_expr2 "min(max(0,\r\nceil(b((x/width)*(parent.p2.x-parent.p1.x)+parent.p1.x,(x/width)*(parent.p2.y-parent.p1.y)+parent.p1.y)-((y/height+parent.lift)*parent.scale))),1)"
   expr0 rExpr
   expr1 gExpr
   expr2 bExpr
   expr3 0
   name perPixel
   xpos -419
   ypos 201
   addUserKnob {20 User}
  }
  Switch {
   inputs 3
   which {{parent.mode i}}
   name Switch2
   xpos -480
   ypos 253
  }
  Matrix {
   matrix {
       {0 1 0}
       {1 -4 1}
       {0 1 0}
     }
   name Matrix2
   xpos -480
   ypos 284
   disable {{-1+parent.curve i x70 1}}
  }
  Dilate {
   size {{parent.curveFat}}
   name Dilate1
   xpos -480
   ypos 326
   disable {{-1+parent.curve.main}}
  }
  Clamp {
   name Clamp1
   xpos -480
   ypos 383
  }
set Nc4954800 [stack 0]
push $Nc490c400
  Dot {
   name Dot1
   xpos -556
   ypos 66
  }
  Clamp {
   maximum 331
   name Clamp2
   xpos -590
   ypos 352
  }
  Merge2 {
   inputs 2
   operation plus
   bbox intersection
   name Merge1
   xpos -590
   ypos 394
  }
  Dot {
   name Dot2
   xpos -556
   ypos 433
  }
push $Nc4954800
  Switch {
   inputs 2
   which {{parent.add2image i}}
   name Switch1
   xpos -480
   ypos 430
  }
  Output {
   name Output1
   xpos -480
   ypos 470
  }
 end_group
 Dot {
  name Dot15
  note_font_size 41
  xpos 2745
  ypos 857
 }
set Nc498a400 [stack 0]
 Shuffle {
  red white
  green white
  blue white
  alpha white
  name Shuffle7
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 2821
  ypos 850
 }
 BlackOutside {
  name BlackOutside1
  xpos 2821
  ypos 882
 }
 Dilate {
  channels rgba
  size -2
  name Dilate1
  xpos 2821
  ypos 910
 }
 Invert {
  name Invert3
  xpos 2821
  ypos 934
 }
push $Nc498a400
 Merge2 {
  inputs 2
  name Merge9
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 2711
  ypos 938
 }
 Group {
  name BinaryAlpha
  tile_color 0x2a2a2aff
  label "(\[value an] --> \[value output1])"
  note_font Verdana
  note_font_color 0xfffff9ff
  xpos 2711
  ypos 983
  addUserKnob {20 BinaryAlpha}
  addUserKnob {4 an l Analyze: M {rgb rgba alpha "" "" ""}}
  addUserKnob {4 output1 l Output: M {rgba alpha "" "" "" ""}}
  output1 alpha
  addUserKnob {20 info l Info}
  addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
  addUserKnob {26 desc l Description: t "Analyzes channel input and creates a binary result 0 or 1 and outputs it into output channel" T BinaryAlpha}
  addUserKnob {26 ver l Version: T v03}
 }
  Input {
   inputs 0
   name Input
   xpos -398
   ypos 275
  }
  Expression {
   temp_name0 rgb_an
   temp_expr0 "r !=0 || g!=0 || b!=0?1:0"
   temp_name1 rgba_an
   temp_expr1 "r!=0 || g!=0 || b!=0 || a!=0?1:0"
   temp_name2 alpha_an
   temp_expr2 a!=0?1:0
   expr3 "parent.an == 0 ? rgb_an : parent.an == 1 ? rgba_an : alpha_an"
   name Expression
   xpos -398
   ypos 341
  }
  Shuffle {
   red alpha
   green alpha
   blue alpha
   name Shuffle
   label "\[value in]"
   xpos -398
   ypos 367
   disable {{parent.output1}}
  }
  Output {
   name Output1
   xpos -398
   ypos 456
  }
 end_group
 Reformat {
  type "to box"
  box_height {{"\[exists parent.input0] ? parent.input.height : root.format.height"}}
  resize height
  filter impulse
  pbb true
  name Reformat2
  xpos 2711
  ypos 1041
 }
 Reformat {
  type "to box"
  box_width {{"\[exists parent.input0] ? parent.input.width : root.format.width"}}
  box_height {{input.height}}
  resize none
  filter impulse
  black_outside true
  pbb true
  name Reformat3
  xpos 2711
  ypos 1081
 }
 Dilate {
  channels rgba
  size 1
  name Dilate2
  xpos 2711
  ypos 1121
 }
 Dot {
  name Dot14
  note_font_size 41
  xpos 2745
  ypos 1192
 }
 Input {
  inputs 0
  name Inputmask
  xpos 864
  ypos 878
  number 2
 }
 Dot {
  name Dot29
  xpos 898
  ypos 1015
 }
push $Nc47c5400
 Dot {
  name Dot33
  label "Black Color"
  note_font_size 41
  xpos 1631
  ypos 295
 }
 Dot {
  name Dot37
  note_font_size 41
  xpos 1631
  ypos 360
 }
set Nc49eb000 [stack 0]
 Dot {
  name Dot34
  note_font_size 41
  xpos 1631
  ypos 474
 }
set Nc49eb400 [stack 0]
 Dot {
  name Dot35
  note_font_size 41
  xpos 1631
  ypos 582
 }
set Nc49eb800 [stack 0]
 Dot {
  name Dot13
  note_font_size 41
  xpos 1631
  ypos 674
 }
set Nc49ebc00 [stack 0]
push $Nc49ebc00
push $Nc47c5800
 Multiply {
  channels rgb
  value 2
  name Multiply7
  label "mult black color"
  xpos 2106
  ypos 87
 }
push $Nc47afc00
 Unpremult {
  name Unpremult1
  xpos 322
  ypos -16
  disable {{"! premultInput"}}
 }
 Dot {
  name Dot18
  xpos 356
  ypos 145
 }
set Nc4a06800 [stack 0]
 Dot {
  name Dot22
  note_font_size 41
  xpos 1028
  ypos 145
 }
set Nc4a06c00 [stack 0]
 Dot {
  name Dot32
  note_font_size 41
  xpos 1852
  ypos 145
 }
set Nc4a07000 [stack 0]
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide3
  xpos 2106
  ypos 142
 }
 Invert {
  channels rgb
  name Invert4
  xpos 2106
  ypos 166
 }
 Clamp {
  channels rgb
  name Clamp3
  xpos 2106
  ypos 190
 }
 Gamma {
  channels rgb
  value 0.51
  name Gamma3
  xpos 2106
  ypos 214
 }
 Dot {
  name Dot24
  xpos 2140
  ypos 360
 }
set Nc4a32400 [stack 0]
 Dot {
  name Dot25
  xpos 2140
  ypos 474
 }
set Nc4a32800 [stack 0]
 Dot {
  name Dot27
  xpos 2140
  ypos 582
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle8
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1990
  ypos 575
 }
push $Nc49eb800
push $Nc4a32800
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle9
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1990
  ypos 467
 }
push $Nc49eb400
push $Nc4a32400
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle10
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1984
  ypos 353
 }
push $Nc49eb000
push $Nc4a07000
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge11
  label red
  xpos 1818
  ypos 353
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge12
  label green
  xpos 1818
  ypos 467
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge13
  label blue
  xpos 1818
  ypos 575
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge17
  label "Set Min Color\nto Blackpoint"
  xpos 1818
  ypos 662
 }
 Dot {
  name Dot38
  note_font_size 41
  xpos 1852
  ypos 760
 }
 Switch {
  inputs 2
  which {{minVal}}
  name SwitchMinColor
  xpos 1597
  ypos 757
 }
push $Nc47c5000
 Multiply {
  channels rgb
  value {{multBase}}
  name Multiply1
  label "mult black color"
  xpos 1138
  ypos 52
 }
 Multiply {
  channels rgb
  value 2
  name Multiply2
  label "hypot Extra Mult\n"
  xpos 1138
  ypos 84
  disable {{"mergeOp == 1 ? 0 : 1"}}
 }
push $Nc4a06c00
 MergeExpression {
  inputs 2
  expr0 Br/Ar
  expr1 Bg/Ag
  expr2 Bb/Ab
  name MergeDivide
  xpos 1138
  ypos 194
 }
 Invert {
  channels rgb
  name Invert1
  xpos 1138
  ypos 239
 }
 Clamp {
  channels rgb
  name Clamp1
  xpos 1138
  ypos 263
 }
 Gamma {
  channels rgb
  value {{rolloffGamma}}
  name Gamma1
  xpos 1138
  ypos 287
 }
 Dot {
  name Dot19
  xpos 1172
  ypos 364
 }
set Nc4a9ac00 [stack 0]
 Dot {
  name Dot20
  xpos 1172
  ypos 478
 }
set Nc4a9b000 [stack 0]
 Dot {
  name Dot21
  xpos 1172
  ypos 586
 }
 Shuffle {
  red blue
  green blue
  alpha blue
  name Shuffle3
  tile_color 0x3fbfff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1022
  ypos 579
 }
push $Nc47c5000
 Dot {
  name Dot23
  xpos 706
  ypos -151
 }
 Dot {
  name Dot8
  label "Black Color"
  note_font_size 41
  xpos 706
  ypos 293
 }
set Nc4acc000 [stack 0]
 Dot {
  name Dot2
  note_font_size 41
  xpos 706
  ypos 404
 }
set Nc4acc400 [stack 0]
 Dot {
  name Dot3
  note_font_size 41
  xpos 706
  ypos 523
 }
push $Nc4a9b000
 Shuffle {
  red green
  blue green
  alpha green
  name Shuffle2
  tile_color 0xbf00ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1022
  ypos 471
 }
push $Nc4acc400
push $Nc4a9ac00
 Shuffle {
  green red
  blue red
  alpha red
  name Shuffle1
  tile_color 0xbf0000ff
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat --> \[value out2]] \}]"
  xpos 1016
  ypos 357
 }
push $Nc4acc000
push $Nc4a06800
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge3
  label red
  xpos 322
  ypos 357
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge4
  label green
  xpos 322
  ypos 471
 }
 Merge2 {
  inputs 2+1
  operation {{parent.Settings.mergeOpNum}}
  bbox B
  Achannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  Bchannels {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  maskChannelInput -rgba.red
  name Merge5
  label blue
  xpos 322
  ypos 579
 }
 Merge2 {
  inputs 2
  operation max
  bbox B
  Achannels rgb
  Bchannels rgb
  output rgb
  name Merge1
  label "Set Min Color\nto Blackpoint"
  xpos 322
  ypos 748
 }
 Premult {
  name Premult4
  xpos 322
  ypos 881
  disable {{"! premultInput"}}
 }
push $Nc47af400
 Dot {
  name Dot28
  xpos -146
  ypos -418
 }
 Dot {
  name Dot30
  xpos -146
  ypos 1015
 }
 Merge2 {
  inputs 2+1
  operation copy
  bbox B
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix 0.05
  name MergeKeymix
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 322
  ypos 1012
 }
 Merge2 {
  inputs 2
  name Merge10
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 322
  ypos 1189
  disable {{!previewPlotScan}}
 }
 Output {
  name Output1
  xpos 322
  ypos 1395
 }
 NoOp {
  inputs 0
  name Settings
  note_font_size 51
  xpos 2494
  ypos -414
  addUserKnob {20 User}
  addUserKnob {7 mergeOpNum l "Merge Op Num"}
  mergeOpNum {{"mergeOp == 0 ? 24 : 13"}}
 }
end_group
Premult {
 name Premult3
 xpos 1220
 ypos 6086
}
Dot {
 name Dot61
 xpos 1254
 ypos 6321
}
set Nc4b28400 [stack 0]
Dot {
 name Dot62
 xpos 925
 ypos 6321
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sky
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sky.red 0 0 rgba.red 0 0 lgt_bg_sky.green 0 1 rgba.green 0 1 lgt_bg_sky.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle14
 label "\[ value in1 ]"
 xpos 891
 ypos 6367
}
Group {
 name Glow_Exponential1
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 891
 ypos 6448
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 2
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc4b29400 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc4b29800 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc4b29400
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  range {0 0.2525188758 1 1}
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc4b47c00 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc4b7c000 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc4b7c400 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc4b7c800 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc4b7cc00 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc4b7d000 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc4b7d400 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc4b7d800 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc4b7dc00 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc4b7dc00
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc4b7d800
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc4b7d400
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc4b7d000
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc4b7cc00
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc4b7c800
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc4b7c400
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc4b7c000
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc4b47c00
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc4c65c00 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc4c65c00
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc4b29800
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot63
 xpos 925
 ypos 6555
}
push $Nc4b28400
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.05
 name Merge9
 xpos 1220
 ypos 6552
}
Dot {
 name Dot64
 xpos 1254
 ypos 6725
}
set Nc4d1c800 [stack 0]
Dot {
 name Dot67
 xpos 932
 ypos 6725
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_key
 fromInput2 {{0} B}
 mappings "4 lgt_bg_key.red 0 0 rgba.red 0 0 lgt_bg_key.green 0 1 rgba.green 0 1 lgt_bg_key.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle15
 label "\[ value in1 ]"
 xpos 898
 ypos 6772
}
Group {
 name Glow_Exponential
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 898
 ypos 6855
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 6
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 1
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc4d1d800 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc4d1dc00 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc4d1d800
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  range {0 0.5091790611 1 1}
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc4d76000 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc4d76400 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc4d76800 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc4d76c00 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc4d77000 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc4d77400 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc4d77800 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc4d77c00 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc4d90000 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc4d90000
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc4d77c00
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc4d77800
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc4d77400
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc4d77000
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc4d76c00
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc4d76800
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc4d76400
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc4d76000
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc4ea4000 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc4ea4000
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc4d1dc00
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot68
 xpos 932
 ypos 6959
}
push $Nc4d1c800
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.25
 name Merge10
 xpos 1220
 ypos 6956
}
Dot {
 name Dot1
 xpos 1254
 ypos 7169
}
set Nc4f1cc00 [stack 0]
Dot {
 name Dot2
 xpos 932
 ypos 7169
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_fill
 fromInput2 {{0} B}
 mappings "4 lgt_bg_fill.red 0 0 rgba.red 0 0 lgt_bg_fill.green 0 1 rgba.green 0 1 lgt_bg_fill.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle2
 label "\[ value in1 ]"
 xpos 898
 ypos 7216
}
Group {
 name Glow_Exponential2
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 898
 ypos 7290
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 1
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc4f1dc00 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc4f46000 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc4f1dc00
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc4f70400 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc4f70800 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc4f70c00 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc4f71000 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc4f71400 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc4f71800 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc4f71c00 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc4f8e000 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc4f8e400 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc4f8e400
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc4f8e000
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc4f71c00
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc4f71800
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc4f71400
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc4f71000
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc4f70c00
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc4f70800
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc4f70400
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc5098400 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc5098400
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc4f46000
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot3
 xpos 932
 ypos 7403
}
push $Nc4f1cc00
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.5
 name Merge1
 xpos 1220
 ypos 7400
}
Dot {
 name Dot4
 xpos 1254
 ypos 7678
}
set Nc5113000 [stack 0]
Dot {
 name Dot5
 xpos 932
 ypos 7678
}
Shuffle2 {
 fromInput1 {{0} B}
 in1 lgt_bg_sun
 fromInput2 {{0} B}
 mappings "4 lgt_bg_sun.red 0 0 rgba.red 0 0 lgt_bg_sun.green 0 1 rgba.green 0 1 lgt_bg_sun.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
 name Shuffle17
 label "\[ value in1 ]"
 xpos 898
 ypos 7725
}
Group {
 name Glow_Exponential3
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 898
 ypos 7799
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 1
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 glow_only true
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc513c000 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc513c400 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc513c000
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc5162800 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc5162c00 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc5163000 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc5163400 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc5163800 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc5163c00 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc518c000 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc518c400 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc518c800 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc518c800
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc518c400
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc518c000
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc5163c00
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc5163800
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc5163400
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc5163000
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc5162c00
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc5162800
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc528c800 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc528c800
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc513c400
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Dot {
 name Dot6
 xpos 932
 ypos 7912
}
push $Nc5113000
Merge2 {
 inputs 2
 operation plus
 bbox B
 name Merge2
 xpos 1220
 ypos 7909
 disable true
}
Copy {
 inputs 2
 from0 depth.Z
 to0 depth.Z
 name Copy7
 xpos 1220
 ypos 8375
}
Merge2 {
 inputs 2
 operation plus
 mix 0.05
 name Merge15
 xpos 1220
 ypos 8751
}
FilterErode {
 channels depth
 name FilterErode1
 label "Size: \[ value size ]"
 xpos 1220
 ypos 9025
 disable true
}
Grade {
 gamma 0.8
 black_clamp false
 name Grade12
 xpos 1220
 ypos 9084
}
ZDefocus2 {
 math depth
 center {{parent.ZDefocus1.center}}
 size 2
 max_size 5
 name ZDefocus2
 label "Size: \[ value size ]"
 xpos 1220
 ypos 9117
}
Grade {
 gamma {{parent.Grade12.gamma}}
 reverse true
 name Grade13
 xpos 1220
 ypos 9175
}
Dot {
 name Dot109
 xpos 1254
 ypos 9298
}
Dot {
 name Dot65
 xpos 5639
 ypos 9298
}
set Nc6311000 [stack 0]
Group {
 inputs 2
 name LightWrapPro
 help "Adds exponentially blurred lightwrap\n\nAdds a bright highlight wrap and an overall wrap"
 tile_color 0x1e252eff
 label "(\[value outputView])"
 note_font "DejaVu Sans Bold"
 note_font_color 0xb7e6ffff
 xpos 5605
 ypos 9380
 mapsize {0.15 0.15}
 addUserKnob {20 LightWrapPro}
 addUserKnob {4 outputView l "Output View" t "Chose one to view while adjusting" M {"Final Output" "Highlight Key" "Highlight Wrap" "OverAll Wrap" "Effect Only" "" "" "" "" "" "" "" "" ""}}
 outputView "Effect Only"
 addUserKnob {6 premultiplied l "FG premultiplied" -STARTLINE}
 premultiplied true
 addUserKnob {26 highlightKeyTitle l "<b><font color = skyblue>HighLight Key"}
 addUserKnob {7 blackPt l Black R 0 4}
 blackPt 1
 addUserKnob {7 whitePt l White R 0 4}
 whitePt 2
 addUserKnob {26 wrapHighlightsTitle l "<b><font color = skyblue>HighLight Wrap"}
 addUserKnob {6 Mult_Flare_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
 addUserKnob {41 steps l " Steps" T ExponGlowWrapHighlight.steps}
 addUserKnob {41 falloffType l Falloff -STARTLINE T ExponGlowWrapHighlight.falloffType}
 addUserKnob {41 size l Size T ExponGlowWrapHighlight.size}
 addUserKnob {7 wrapHighlightAmount l Amount R 0 4}
 wrapHighlightAmount 1
 addUserKnob {26 WrapAllTitle l "<b><font color=skyblue>Overall Wrap "}
 addUserKnob {6 WrapAllMult_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
 addUserKnob {41 steps_1 l " Steps" T ExponGlowWrapAll.steps}
 addUserKnob {41 falloffType_1 l Falloff -STARTLINE T ExponGlowWrapAll.falloffType}
 addUserKnob {41 size_1 l Size T ExponGlowWrapAll.size}
 addUserKnob {7 wrapAllAmount l Amount R 0 4}
 wrapAllAmount 1
 addUserKnob {6 removeHighlights l "Dim Highlights" +STARTLINE}
 removeHighlights true
 addUserKnob {7 dimHighlightsAmount l "" -STARTLINE R 0 3}
 dimHighlightsAmount 1
 addUserKnob {26 blendEdgesTitle l "<b><font color=skyblue>Blend Edges"}
 addUserKnob {7 blendEdgesAmount l Amount}
 addUserKnob {6 ColorBleedMult_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
 addUserKnob {26 bleedColorTitle l "<b><font color=skyblue>Bleed Color"}
 addUserKnob {7 bleedColorAmount l Amount}
 addUserKnob {7 bleedColorSize l Size R 0.1 4}
 bleedColorSize 1
 addUserKnob {7 bleedColorFalloff_2 l Falloff R 0.2 2}
 bleedColorFalloff_2 0.5
 addUserKnob {26 ""}
 addUserKnob {7 globalAmount l "<b><font color=skyblue>Global Amount"}
 globalAmount 0.5
 addUserKnob {26 _1 l mask T ""}
 addUserKnob {41 maskChannelInput l "" -STARTLINE T MergeCopyLightWrapPro.maskChannelInput}
 addUserKnob {41 inject -STARTLINE T MergeCopyLightWrapPro.inject}
 addUserKnob {41 invert_mask l invert -STARTLINE T MergeCopyLightWrapPro.invert_mask}
 addUserKnob {41 fringe -STARTLINE T MergeCopyLightWrapPro.fringe}
 addUserKnob {41 mix T MergeCopyLightWrapPro.mix}
 addUserKnob {20 info l Info}
 addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
 addUserKnob {26 desc l Description: t "\n\n" T LightWrapPro}
 addUserKnob {26 ver l Version: T v06}
}
 BackdropNode {
  inputs 0
  name BackdropNode1
  tile_color 0x402f27ff
  label "Bleed Color"
  note_font_size 60
  note_font_color 0xffffffff
  xpos -683
  ypos 2273
  bdwidth 1316
  bdheight 787
 }
 BackdropNode {
  inputs 0
  name BackdropNode2
  tile_color 0x39464200
  label "highlight key"
  note_font_size 40
  note_font_color 0xffffffff
  xpos 1630
  ypos 113
  bdwidth 272
  bdheight 393
 }
 Input {
  inputs 0
  name Inputmask
  xpos 1887
  ypos 3580
  number 2
 }
 Input {
  inputs 0
  name FG
  xpos -413
  ypos -318
 }
 AddChannels {
  channels rgba
  name AddChannels1
  xpos -413
  ypos -150
 }
 Dot {
  name Dot1
  xpos -379
  ypos 375
 }
set Nc6352800 [stack 0]
 Dot {
  name Dot7
  xpos -825
  ypos 375
 }
 Dot {
  name Dot46
  xpos -825
  ypos 3104
 }
set Nc6353000 [stack 0]
 Dot {
  name Dot15
  xpos 915
  ypos 3107
 }
set Nc6353400 [stack 0]
 Dot {
  name Dot26
  note_font_size 41
  xpos 915
  ypos 3224
 }
set Nc6353800 [stack 0]
 Dot {
  name Dot32
  note_font_size 41
  xpos 915
  ypos 3277
 }
push $Nc6352800
 Dot {
  name Dot8
  note_font_size 41
  xpos 717
  ypos 378
 }
set Nc636c000 [stack 0]
 Dot {
  name Dot11
  note_font_size 41
  xpos 717
  ypos 550
 }
 Input {
  inputs 0
  name BG
  label "\n"
  xpos 1702
  ypos -276
  number 1
 }
 AddChannels {
  channels rgba
  name AddChannels2
  xpos 1702
  ypos -145
 }
 Remove {
  operation keep
  channels rgba
  name Remove2
  xpos 1702
  ypos -68
 }
 Dot {
  name Dot3
  xpos 1736
  ypos 177
 }
set Nc636d400 [stack 0]
 Keyer {
  operation "luminance key"
  range {{parent.blackPt} {parent.whitePt} {range.B} {range.B}}
  name Keyer2
  xpos 1702
  ypos 303
 }
 Dot {
  name Dot4
  note_font_size 41
  xpos 1736
  ypos 397
 }
set Nc636dc00 [stack 0]
 Premult {
  name Premult1
  xpos 1702
  ypos 452
 }
 Multiply {
  inputs 1+1
  channels rgba
  value 0
  name Multiply1
  label "\[value value]"
  xpos 1702
  ypos 543
 }
 Dot {
  name Dot30
  note_font_size 41
  xpos 1734
  ypos 746
 }
 Group {
  name ExponGlowWrapHighlight
  onCreate "n = nuke.thisNode()\nn.knob('size').setRange(0, 50)\n#n.knob('exp').setRange(1, 4)\nnuke.thisNode().knob('steps').setFlag(0x02000000)"
  knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\n\nif k.name() == \"includeOriginal\":\n    if n.knob('includeOriginal').getValue() == 1:\n        merge = nuke.toNode(\"Merge1\")\n        original = nuke.toNode('Original')\n        AvgMult = nuke.toNode(\"AverageMult\")\n        steps = int(n.knob('steps').getValue())\n        merge.setInput(steps+1, original)\n        AvgMult\['whitepoint'].setValue(2 if steps<2 else steps+1)\n\n    else:\n        merge.setInput(steps+1, None)\n        AvgMult\['whitepoint'].setValue(2 if steps<2 else steps)\n\nelif k.name() == \"steps\":\n\n    s = int(k.value())\n    if s<1:\n        k.setValue(1)\n    else:\n        start = nuke.toNode(\"Start\")\n        end   = nuke.toNode(\"End\")\n        b1    = nuke.toNode(\"Blur1\")\n        m1    = nuke.toNode(\"Multiply1\")\n        merge = nuke.toNode(\"Merge1\")\n        AvgMult = nuke.toNode(\"AverageMult\")\n\n        b1x   = b1.xpos()\n        b1y   = b1.ypos()\n        b1n   = b1.name()\n\n        m1x   = m1.xpos()\n        m1y   = m1.ypos()\n        m1n   = m1.name()\n\n        steps = int(n.knob('steps').getValue())\n        size  = n.knob('size').getValue()\n        mult  = n.knob('exp').getValue()\n\n        #b1.setInput(0, start)\n        for i in range(1,merge.inputs()):\n            merge.setInput(i,None)\n        merge.setInput(0, m1)\n        \[nuke.delete(i) for i in nuke.allNodes() if i.xpos()>start.xpos()]\n        for i in range(1,steps):\n            # Blur\n            b = nuke.nodes.Blur()\n            m = nuke.nodes.Multiply()\n            b.setXYpos(b1x+i*100,b1y)\n            b.setInput(0,start)\n            b\[\"channels\"].setValue(\"all\")\n            b\[\"crop\"].setValue(0)\n            b\[\"size\"].setValue(0, 1)\n            b\[\"size\"].setExpression( \"((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(\{\}**2))\".format(str(i+1)), 0 )\n            b\[\"size\"].setExpression( \"((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(\{\}**2))\".format(str(i+1)), 1 )\n            b\[\"label\"].setValue('')\n            blurAbove = b.name()\n\n            m.setXYpos(m1x+i*100,m1y)\n            m.setInput(0, nuke.toNode(blurAbove))\n            m\[\"channels\"].setValue(\"all\")\n            m\[\"value\"].setValue(1,1,1,1)\n            j = 1-(i/steps)\n            m\[\"value\"].setExpression('falloffType == 0 ? \{\} :falloffType == 1 ? pow(\{\}, 3) : falloffType == 2 ? \{\}*\{\}*(3-2*\{\}) : falloffType == 3 ? \{\}*\{\}*(2 - \{\}) : falloffType == 4 ? \{\}*(1 + \{\}*(1 - \{\})) : 0'.format(j,j,j,j,j,j,j,j,j,j,j))\n            m\[\"mix\"].setExpression(\"falloff\")\n            m\[\"label\"].setValue('')\n\n            merge.setInput(i if i<2 else i+1, m)\n            AvgMult\['whitepoint'].setValue(i if i<2 else i+1)\n\n        if n.knob('includeOriginal').getValue() == 1:\n            merge = nuke.toNode(\"Merge1\")\n            original = nuke.toNode('Original')\n            AvgMult = nuke.toNode(\"AverageMult\")\n            steps = int(n.knob('steps').getValue())\n            merge.setInput(steps+1, original)\n            AvgMult\['whitepoint'].setValue(2 if steps<2 else steps+1)\n\nelif k.name() == \"output2\":\n    if n.knob(\"output2\").getValue() == 4:\n        n.knob('AvgMaxOriginal').setVisible(True)\n    else:\n        n.knob('AvgMaxOriginal').setVisible(False)\n\n"
  tile_color 0xcc804eff
  label "(\[value output2])"
  note_font "Verdana Bold"
  note_font_color 0xffffffff
  xpos 1700
  ypos 1012
  addUserKnob {20 ExponBlurSimple}
  addUserKnob {41 channels T Remove1.channels}
  addUserKnob {26 ""}
  addUserKnob {4 output2 l Operation: M {Screen Plus Over Hypot Average Max Min "" "" "" "" ""}}
  output2 Over
  addUserKnob {3 steps l "  Steps" -STARTLINE}
  steps 6
  addUserKnob {26 text l " " T " "}
  addUserKnob {6 includeOriginal l "Include Original?" -STARTLINE}
  addUserKnob {6 AvgMaxOriginal l "Use Max of Average and Original" +HIDDEN +STARTLINE}
  AvgMaxOriginal true
  addUserKnob {14 size l Size R 0 50}
  size 4
  addUserKnob {14 exp l Exponent +INVISIBLE R 1 4}
  exp 3
  addUserKnob {6 color_rgba_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
  addUserKnob {7 falloff l Falloff}
  falloff 1
  addUserKnob {4 falloffType l "Falloff Type" M {Linear pLinear smooth smooth0 smooth1 ""}}
  falloffType smooth1
  addUserKnob {14 postBlur l "Post Blur" R 0 100}
  addUserKnob {26 ""}
  addUserKnob {41 maskChannelMask l mask T MergeKeymix.maskChannelMask}
  addUserKnob {41 inject -STARTLINE T MergeKeymix.inject}
  addUserKnob {41 invert_mask l invert -STARTLINE T MergeKeymix.invert_mask}
  addUserKnob {41 fringe -STARTLINE T MergeKeymix.fringe}
  addUserKnob {41 mix T MergeKeymix.mix}
  addUserKnob {14 safeBBoxPixels l "" +STARTLINE +HIDDEN R 0 400}
  safeBBoxPixels 100
  addUserKnob {14 adjustBBoxPercent l "" -STARTLINE +HIDDEN R 1 2}
  adjustBBoxPercent 1
  addUserKnob {20 info l Info}
  addUserKnob {26 creator l Creator: T "Tony Lyons"}
  addUserKnob {26 desc l Description: t "Add description and tooltip for gizmo" T ExponBlurSimple}
  addUserKnob {26 ver l Version: T v02}
 }
  Input {
   inputs 0
   name Inputmask
   xpos 346
   ypos 596
   number 1
  }
  Dot {
   name Dot19
   label Mask
   note_font_size 41
   xpos 380
   ypos 662
  }
  Dot {
   name Dot10
   note_font_size 41
   xpos 380
   ypos 899
  }
  Input {
   inputs 0
   name Inputimg
   xpos -221
   ypos -1229
  }
  Dot {
   name Dot16
   note_font_size 41
   xpos -187
   ypos -1062
  }
set Nc638fc00 [stack 0]
  Dot {
   name Dot1
   note_font_size 41
   xpos 461
   ypos -1058
  }
  Remove {
   operation keep
   channels rgba
   name Remove1
   xpos 427
   ypos -980
  }
  NoOp {
   name aspectCalc
   xpos 427
   ypos -939
   addUserKnob {20 User}
   addUserKnob {14 aspect R 0 100}
   aspect {{parent.size.w} {parent.size.h/format.pixel_aspect/height*width}}
  }
  Dot {
   name Dot21
   note_font_size 41
   xpos 461
   ypos -853
  }
set Nc63b4c00 [stack 0]
  Invert {
   name Invert1
   xpos 864
   ypos -860
   disable {{"parent.size < 0 ? 0 : 1"}}
  }
set Nc63b5000 [stack 0]
  Dot {
   name Dot4
   note_font_size 41
   xpos 540
   ypos -604
  }
  NoOp {
   name Original
   xpos 506
   ypos -327
  }
  Dot {
   name Dot5
   note_font_size 41
   xpos 540
   ypos 100
  }
push $Nc63b5000
  NoOp {
   name Start
   xpos 864
   ypos -706
  }
set Nc63d8000 [stack 0]
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(6**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(6**2))}}
   crop false
   name Blur6
   xpos 1364
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.166666666667 :falloffType == 1 ? pow(0.166666666667, 3) : falloffType == 2 ? 0.166666666667*0.166666666667*(3-2*0.166666666667) : falloffType == 3 ? 0.166666666667*0.166666666667*(2 - 0.166666666667) : falloffType == 4 ? 0.166666666667*(1 + 0.166666666667*(1 - 0.166666666667)) : 0"} {"falloffType == 0 ? 0.166666666667 :falloffType == 1 ? pow(0.166666666667, 3) : falloffType == 2 ? 0.166666666667*0.166666666667*(3-2*0.166666666667) : falloffType == 3 ? 0.166666666667*0.166666666667*(2 - 0.166666666667) : falloffType == 4 ? 0.166666666667*(1 + 0.166666666667*(1 - 0.166666666667)) : 0"} {"falloffType == 0 ? 0.166666666667 :falloffType == 1 ? pow(0.166666666667, 3) : falloffType == 2 ? 0.166666666667*0.166666666667*(3-2*0.166666666667) : falloffType == 3 ? 0.166666666667*0.166666666667*(2 - 0.166666666667) : falloffType == 4 ? 0.166666666667*(1 + 0.166666666667*(1 - 0.166666666667)) : 0"} {"falloffType == 0 ? 0.166666666667 :falloffType == 1 ? pow(0.166666666667, 3) : falloffType == 2 ? 0.166666666667*0.166666666667*(3-2*0.166666666667) : falloffType == 3 ? 0.166666666667*0.166666666667*(2 - 0.166666666667) : falloffType == 4 ? 0.166666666667*(1 + 0.166666666667*(1 - 0.166666666667)) : 0"}}
   mix {{falloff}}
   name Multiply6
   xpos 1364
   ypos -477
  }
push $Nc63d8000
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(5**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(5**2))}}
   crop false
   name Blur5
   xpos 1264
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.333333333333 :falloffType == 1 ? pow(0.333333333333, 3) : falloffType == 2 ? 0.333333333333*0.333333333333*(3-2*0.333333333333) : falloffType == 3 ? 0.333333333333*0.333333333333*(2 - 0.333333333333) : falloffType == 4 ? 0.333333333333*(1 + 0.333333333333*(1 - 0.333333333333)) : 0"} {"falloffType == 0 ? 0.333333333333 :falloffType == 1 ? pow(0.333333333333, 3) : falloffType == 2 ? 0.333333333333*0.333333333333*(3-2*0.333333333333) : falloffType == 3 ? 0.333333333333*0.333333333333*(2 - 0.333333333333) : falloffType == 4 ? 0.333333333333*(1 + 0.333333333333*(1 - 0.333333333333)) : 0"} {"falloffType == 0 ? 0.333333333333 :falloffType == 1 ? pow(0.333333333333, 3) : falloffType == 2 ? 0.333333333333*0.333333333333*(3-2*0.333333333333) : falloffType == 3 ? 0.333333333333*0.333333333333*(2 - 0.333333333333) : falloffType == 4 ? 0.333333333333*(1 + 0.333333333333*(1 - 0.333333333333)) : 0"} {"falloffType == 0 ? 0.333333333333 :falloffType == 1 ? pow(0.333333333333, 3) : falloffType == 2 ? 0.333333333333*0.333333333333*(3-2*0.333333333333) : falloffType == 3 ? 0.333333333333*0.333333333333*(2 - 0.333333333333) : falloffType == 4 ? 0.333333333333*(1 + 0.333333333333*(1 - 0.333333333333)) : 0"}}
   mix {{falloff}}
   name Multiply5
   xpos 1264
   ypos -477
  }
push $Nc63d8000
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(4**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(4**2))}}
   crop false
   name Blur4
   xpos 1164
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"} {"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"} {"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"} {"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"}}
   mix {{falloff}}
   name Multiply4
   xpos 1164
   ypos -477
  }
push $Nc63d8000
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(3**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(3**2))}}
   crop false
   name Blur3
   xpos 1064
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.666666666667 :falloffType == 1 ? pow(0.666666666667, 3) : falloffType == 2 ? 0.666666666667*0.666666666667*(3-2*0.666666666667) : falloffType == 3 ? 0.666666666667*0.666666666667*(2 - 0.666666666667) : falloffType == 4 ? 0.666666666667*(1 + 0.666666666667*(1 - 0.666666666667)) : 0"} {"falloffType == 0 ? 0.666666666667 :falloffType == 1 ? pow(0.666666666667, 3) : falloffType == 2 ? 0.666666666667*0.666666666667*(3-2*0.666666666667) : falloffType == 3 ? 0.666666666667*0.666666666667*(2 - 0.666666666667) : falloffType == 4 ? 0.666666666667*(1 + 0.666666666667*(1 - 0.666666666667)) : 0"} {"falloffType == 0 ? 0.666666666667 :falloffType == 1 ? pow(0.666666666667, 3) : falloffType == 2 ? 0.666666666667*0.666666666667*(3-2*0.666666666667) : falloffType == 3 ? 0.666666666667*0.666666666667*(2 - 0.666666666667) : falloffType == 4 ? 0.666666666667*(1 + 0.666666666667*(1 - 0.666666666667)) : 0"} {"falloffType == 0 ? 0.666666666667 :falloffType == 1 ? pow(0.666666666667, 3) : falloffType == 2 ? 0.666666666667*0.666666666667*(3-2*0.666666666667) : falloffType == 3 ? 0.666666666667*0.666666666667*(2 - 0.666666666667) : falloffType == 4 ? 0.666666666667*(1 + 0.666666666667*(1 - 0.666666666667)) : 0"}}
   mix {{falloff}}
   name Multiply3
   xpos 1064
   ypos -477
  }
push 0
push $Nc63d8000
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(2**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(2**2))}}
   crop false
   name Blur2
   xpos 964
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.833333333333 :falloffType == 1 ? pow(0.833333333333, 3) : falloffType == 2 ? 0.833333333333*0.833333333333*(3-2*0.833333333333) : falloffType == 3 ? 0.833333333333*0.833333333333*(2 - 0.833333333333) : falloffType == 4 ? 0.833333333333*(1 + 0.833333333333*(1 - 0.833333333333)) : 0"} {"falloffType == 0 ? 0.833333333333 :falloffType == 1 ? pow(0.833333333333, 3) : falloffType == 2 ? 0.833333333333*0.833333333333*(3-2*0.833333333333) : falloffType == 3 ? 0.833333333333*0.833333333333*(2 - 0.833333333333) : falloffType == 4 ? 0.833333333333*(1 + 0.833333333333*(1 - 0.833333333333)) : 0"} {"falloffType == 0 ? 0.833333333333 :falloffType == 1 ? pow(0.833333333333, 3) : falloffType == 2 ? 0.833333333333*0.833333333333*(3-2*0.833333333333) : falloffType == 3 ? 0.833333333333*0.833333333333*(2 - 0.833333333333) : falloffType == 4 ? 0.833333333333*(1 + 0.833333333333*(1 - 0.833333333333)) : 0"} {"falloffType == 0 ? 0.833333333333 :falloffType == 1 ? pow(0.833333333333, 3) : falloffType == 2 ? 0.833333333333*0.833333333333*(3-2*0.833333333333) : falloffType == 3 ? 0.833333333333*0.833333333333*(2 - 0.833333333333) : falloffType == 4 ? 0.833333333333*(1 + 0.833333333333*(1 - 0.833333333333)) : 0"}}
   mix {{falloff}}
   name Multiply2
   xpos 964
   ypos -477
  }
push $Nc63d8000
  Blur {
   size {{(width/100*parent.size*(aspectCalc.aspect.w/100))} {(height/100*parent.size*(aspectCalc.aspect.h/100))}}
   crop false
   name Blur1
   selected true
   xpos 864
   ypos -554
  }
  Multiply {
   value {1 1 1 1}
   mix {{falloff}}
   name Multiply1
   xpos 864
   ypos -477
  }
  Merge2 {
   inputs 6+1
   operation {{MergeNumber.mergeNumber}}
   also_merge all
   name Merge1
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos 864
   ypos -327
  }
  NoOp {
   name End
   xpos 864
   ypos -279
  }
  Grade {
   channels all
   whitepoint 6
   black_clamp false
   name AverageMult
   xpos 864
   ypos 49
   disable {{"output2 == 4 ? 0 : 1"}}
  }
  Merge2 {
   inputs 2
   operation max
   also_merge all
   name Merge2
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos 864
   ypos 96
   disable {{"output2 == 4 && includeOriginal == 1 && AvgMaxOriginal == 1 ? 0 : 1"}}
  }
  Blur {
   size {{postBlur} {postBlur}}
   name BlurOriginal
   xpos 864
   ypos 155
  }
  Invert {
   name Invert2
   xpos 864
   ypos 283
   disable {{"parent.size < 0 ? 0 : 1"}}
  }
push $Nc63b4c00
  Switch {
   inputs 2
   which {{"parent.size == 0 ? 0 : 1"}}
   name Switch1
   label "\[value which]"
   xpos 427
   ypos 283
  }
  Crop {
   inputs 0
   box {{input.format.x} {input.format.y} {input.format.r} {input.format.t}}
   reformat true
   crop false
   name Crop1
   xpos 96
   ypos -931
   addUserKnob {20 User}
   addUserKnob {22 cropToBbox l "Crop to Bounding Box" -STARTLINE T codeBBox()}
  }
  AddChannels {
   channels rgba
   name AddChannels2
   xpos 96
   ypos -891
  }
push $Nc638fc00
  Merge2 {
   inputs 2
   name Merge3
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos -60
   ypos -891
  }
set Nc6451800 [stack 0]
  Group {
   name BBoxToFormat
   onCreate "n = nuke.thisNode()\ninputFormat = n.knob(\"inputFormat\")\ninputBBox = n.knob(\"inputBBox\")\ncrop = nuke.toNode(\"Crop6\")\ncropb = crop.knob('box')\noutputBBox = n.knob('outputBBox')\noutputBBoxCenter = n.knob(\"outputBBoxCenter\")\n\ninputFormat.setFlag(0x0000000000008000)\ninputBBox.setFlag(0x0000000000008000)\ncropb.setFlag(0x0000000000008000)\noutputBBox.setFlag(0x0000000000008000)\noutputBBoxCenter.setFlag(0x0000000000008000)\n\nn = nuke.thisNode()\nn.knob(\"overscan\").setRange(0,400)\nn.knob(\"overscanPercent\").setRange(1,4)"
   knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\nif k.name() == \"overscanType\":\n    if n.knob(\"overscanType\").getValue() == 1:\n        n.knob(\"overscanPercent\").setVisible(True)\n        n.knob(\"overscan\").setVisible(False)\n    else:\n        n.knob(\"overscanPercent\").setVisible(False)\n        n.knob(\"overscan\").setVisible(True)"
   tile_color 0xa57aaaff
   note_font "Verdana Bold"
   note_font_color 0xffffffff
   xpos 29
   ypos -812
   addUserKnob {20 CropBBox}
   addUserKnob {4 type l Type +INVISIBLE M {"To Format" "To BBox"}}
   addUserKnob {41 intersect T Crop6.intersect}
   addUserKnob {6 blackOutside l "Black Outside" -STARTLINE}
   addUserKnob {4 overscanType l "Overscan Type:" M {Pixels Percentage}}
   overscanType Percentage
   addUserKnob {14 overscan l Overscan +HIDDEN R 0 400}
   addUserKnob {14 overscanPercent l "Overscan Percent" R 1 4}
   overscanPercent 1.2
   addUserKnob {20 inputBbox l "BBox Data" n 1}
   addUserKnob {15 inputFormat l "Input Format"}
   inputFormat {0 0 {input.width} {input.height}}
   addUserKnob {15 inputBBox l "Input BBox"}
   inputBBox {{input.bbox.x} {input.bbox.y} {input.bbox.r} {input.bbox.t}}
   addUserKnob {12 outputBBoxCenter l OutputBBoxCenter}
   outputBBoxCenter {{OutputBBox1.outputBBoxCenter.w} {OutputBBox1.outputBBoxCenter.h}}
   addUserKnob {15 outputBBox l "Output BBox"}
   outputBBox {{OutputBBox1.OutputBBox} {OutputBBox1.OutputBBox} {OutputBBox1.OutputBBox} {OutputBBox1.OutputBBox}}
   addUserKnob {20 endGroup n -1}
   addUserKnob {20 info_1 l Info}
   addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
   addUserKnob {26 desc l Description: t "crop to inputformat\n\ndisplays values of input bbox" T CropBBox}
   addUserKnob {26 ver l Version: T v02}
  }
   Input {
    inputs 0
    name Input
    xpos 261
    ypos 394
   }
   Dot {
    name Dot2
    note_font_size 41
    xpos 295
    ypos 462
   }
set Nc648a000 [stack 0]
   Dot {
    name Dot1
    note_font_size 41
    xpos -160
    ypos 462
   }
set Nc648a400 [stack 0]
push $Nc648a000
   Crop {
    box {{curve} {curve} {input.width} {input.height}}
    crop {{parent.blackOutside}}
    name Crop6
    xpos 261
    ypos 510
    addUserKnob {20 User}
    addUserKnob {22 cropToBbox l "Crop to Bounding Box" -STARTLINE T codeBBox()}
   }
set Nc648a800 [stack 0]
   Remove {
    operation keep
    channels none
    name Remove1
    xpos 120
    ypos 504
   }
set Nc648ac00 [stack 0]
   Transform {
    scale {{parent.overscanPercent} {parent.overscanPercent}}
    center {{input.bbox.r/2} {input.bbox.t/2}}
    shutteroffset centred
    name Transform1
    xpos 120
    ypos 555
   }
push $Nc648ac00
   AdjBBox {
    numpixels {{parent.overscan} {parent.overscan}}
    name AdjBBox1
    xpos -5
    ypos 510
   }
   Switch {
    inputs 2
    which {{overscanType}}
    name Switch2
    label "\[value which]"
    xpos -5
    ypos 549
   }
   Merge2 {
    inputs 2
    bbox intersection
    Achannels {-rgba.red -rgba.green -rgba.blue rgba.alpha}
    Bchannels {-rgba.red -rgba.green -rgba.blue rgba.alpha}
    output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
    name Merge1
    xpos -5
    ypos 647
    disable {{!parent.Crop6.intersect}}
   }
push $Nc648a400
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos -194
    ypos 653
   }
   BlackOutside {
    name BlackOutside1
    xpos -194
    ypos 692
    disable {{!parent.blackOutside}}
   }
   Dot {
    name Dot4
    note_font_size 41
    xpos -160
    ypos 769
   }
push $Nc648a800
   Switch {
    inputs 2
    which {{"overscanType == 0 ? overscan.w != 0 || overscan.h != 0 : overscanPercent.w != 1 || overscanPercent.h != 1 ? 1 : 0"}}
    name Switch1
    label "\[value which]"
    xpos 261
    ypos 759
   }
set Nc64b4c00 [stack 0]
   Output {
    name Output1
    xpos 261
    ypos 921
   }
push $Nc64b4c00
   NoOp {
    name OutputBBox1
    selected true
    xpos 378
    ypos 821
    addUserKnob {20 User}
    addUserKnob {15 OutputBBox l "Output BBox"}
    OutputBBox {{input.bbox.x} {input.bbox.y} {input.bbox.r} {input.bbox.t}}
    addUserKnob {14 outputBBoxCenter l "Output BBox Center" R 0 100}
    outputBBoxCenter {{OutputBBox.x+(OutputBBox.r-OutputBBox.x)/2} {OutputBBox.y+(OutputBBox.t-OutputBBox.y)/2}}
   }
  end_group
push $Nc6451800
  Merge2 {
   inputs 2
   name Merge4
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos -60
   ypos -748
  }
push $Nc638fc00
  CopyBBox {
   inputs 2
   name CopyBBox1
   xpos -221
   ypos -748
  }
  Dot {
   name Dot22
   note_font_size 41
   xpos -187
   ypos 198
  }
  Merge2 {
   inputs 2
   operation copy
   bbox B
   Achannels none
   Bchannels none
   output none
   name Merge5
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos -221
   ypos 283
  }
  Dot {
   name Dot17
   label A
   note_font_size 41
   xpos -187
   ypos 675
  }
  Dot {
   name Dot7
   note_font_size 41
   xpos -187
   ypos 805
  }
push $Nc638fc00
  Dot {
   name Dot2
   note_font_size 41
   xpos -588
   ypos -1062
  }
  Dot {
   name Dot18
   label B
   note_font_size 41
   xpos -588
   ypos 654
  }
  Dot {
   name Dot3
   note_font_size 41
   xpos -588
   ypos 895
  }
  Merge2 {
   inputs 2+1
   operation copy
   Achannels none
   Bchannels none
   output none
   also_merge all
   name MergeKeymix
   xpos -221
   ypos 888
  }
  Output {
   name Output1
   xpos -221
   ypos 1202
  }
  NoOp {
   inputs 0
   name MergeNumber
   xpos 202
   ypos -1145
   addUserKnob {20 User}
   addUserKnob {3 mergeNumber}
   mergeNumber {{"output2 == 0 ? 25 : output2 == 1 ? 24 : output2 == 2 ? 22 : output2 == 3 ? 13 : output2 == 4 ? 24 : output2 == 5 ? 17 : 18"}}
  }
 end_group
 Grade {
  channels all
  white {{wrapHighlightAmount/10}}
  name FlareAmount
  xpos 1702
  ypos 1393
 }
 Multiply {
  channels rgba
  value {{globalAmount}}
  name MultiplyGlobal3
  label "\[value value]"
  xpos 1702
  ypos 1577
 }
 Dot {
  name Dot25
  label "LIGHT FLARE"
  note_font_size 61
  xpos 1736
  ypos 1801
 }
set Nc6521000 [stack 0]
 Dot {
  name Dot31
  note_font_size 41
  xpos 1738
  ypos 2915
 }
set Nc6521400 [stack 0]
push $Nc636c000
push $Nc636d400
 Dot {
  name Dot20
  xpos 1059
  ypos 179
 }
 Shuffle {
  alpha white
  name Shuffle1
  label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat -> \[value out2]] \}]"
  note_font_size 21
  note_font_color 0xffffffff
  xpos 1025
  ypos 238
 }
 Multiply {
  inputs 1+1
  channels rgba
  value 0
  name Multiply2
  label "\[value value]"
  xpos 1025
  ypos 366
 }
 Dot {
  name Dot9
  xpos 1059
  ypos 725
 }
set Nc654c400 [stack 0]
 Dot {
  name Dot28
  note_font_size 41
  xpos 1343
  ypos 725
 }
 Keyer {
  operation "luminance key"
  name Keyer1
  xpos 1309
  ypos 823
 }
push $Nc654c400
 Colorspace {
  colorspace_out CIE-Yxy
  name Colorspace4
  xpos 1188
  ypos 786
 }
 Expression {
  inputs 1+1
  expr0 "(r*(1+(r/((parent.dimHighlightsAmount+1)**2))) ) / (1+r)"
  channel1 {-rgba.red -rgba.green -rgba.blue none}
  expr1 "(g*(1+(g/((parent.dimHighlightsAmount+1)**2))) ) / (1+g)"
  channel2 {-rgba.red -rgba.green -rgba.blue none}
  expr2 "(b*(1+(b/((parent.dimHighlightsAmount+1)**2))) ) / (1+b)"
  expr3 a
  name Tonemap_whitepoint
  xpos 1188
  ypos 827
 }
 Colorspace {
  colorspace_in CIE-Yxy
  name Colorspace3
  xpos 1188
  ypos 867
 }
push $Nc654c400
 Switch {
  inputs 2
  which {{removeHighlights}}
  name Switch4
  xpos 1025
  ypos 867
 }
 Group {
  name ExponGlowWrapAll
  onCreate "n = nuke.thisNode()\nn.knob('size').setRange(0, 50)\n#n.knob('exp').setRange(1, 4)\nnuke.thisNode().knob('steps').setFlag(0x02000000)"
  knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\n\nif k.name() == \"includeOriginal\":\n    if n.knob('includeOriginal').getValue() == 1:\n        merge = nuke.toNode(\"Merge1\")\n        original = nuke.toNode('Original')\n        AvgMult = nuke.toNode(\"AverageMult\")\n        steps = int(n.knob('steps').getValue())\n        merge.setInput(steps+1, original)\n        AvgMult\['whitepoint'].setValue(2 if steps<2 else steps+1)\n\n    else:\n        merge.setInput(steps+1, None)\n        AvgMult\['whitepoint'].setValue(2 if steps<2 else steps)\n\nelif k.name() == \"steps\":\n\n    s = int(k.value())\n    if s<1:\n        k.setValue(1)\n    else:\n        start = nuke.toNode(\"Start\")\n        end   = nuke.toNode(\"End\")\n        b1    = nuke.toNode(\"Blur1\")\n        m1    = nuke.toNode(\"Multiply1\")\n        merge = nuke.toNode(\"Merge1\")\n        AvgMult = nuke.toNode(\"AverageMult\")\n\n        b1x   = b1.xpos()\n        b1y   = b1.ypos()\n        b1n   = b1.name()\n\n        m1x   = m1.xpos()\n        m1y   = m1.ypos()\n        m1n   = m1.name()\n\n        steps = int(n.knob('steps').getValue())\n        size  = n.knob('size').getValue()\n        mult  = n.knob('exp').getValue()\n\n        #b1.setInput(0, start)\n        for i in range(1,merge.inputs()):\n            merge.setInput(i,None)\n        merge.setInput(0, m1)\n        \[nuke.delete(i) for i in nuke.allNodes() if i.xpos()>start.xpos()]\n        for i in range(1,steps):\n            # Blur\n            b = nuke.nodes.Blur()\n            m = nuke.nodes.Multiply()\n            b.setXYpos(b1x+i*100,b1y)\n            b.setInput(0,start)\n            b\[\"channels\"].setValue(\"all\")\n            b\[\"crop\"].setValue(0)\n            b\[\"size\"].setValue(0, 1)\n            b\[\"size\"].setExpression( \"((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(\{\}**2))\".format(str(i+1)), 0 )\n            b\[\"size\"].setExpression( \"((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(\{\}**2))\".format(str(i+1)), 1 )\n            b\[\"label\"].setValue('')\n            blurAbove = b.name()\n\n            m.setXYpos(m1x+i*100,m1y)\n            m.setInput(0, nuke.toNode(blurAbove))\n            m\[\"channels\"].setValue(\"all\")\n            m\[\"value\"].setValue(1,1,1,1)\n            j = 1-(i/steps)\n            m\[\"value\"].setExpression('falloffType == 0 ? \{\} :falloffType == 1 ? pow(\{\}, 3) : falloffType == 2 ? \{\}*\{\}*(3-2*\{\}) : falloffType == 3 ? \{\}*\{\}*(2 - \{\}) : falloffType == 4 ? \{\}*(1 + \{\}*(1 - \{\})) : 0'.format(j,j,j,j,j,j,j,j,j,j,j))\n            m\[\"mix\"].setExpression(\"falloff\")\n            m\[\"label\"].setValue('')\n\n            merge.setInput(i if i<2 else i+1, m)\n            AvgMult\['whitepoint'].setValue(i if i<2 else i+1)\n\n        if n.knob('includeOriginal').getValue() == 1:\n            merge = nuke.toNode(\"Merge1\")\n            original = nuke.toNode('Original')\n            AvgMult = nuke.toNode(\"AverageMult\")\n            steps = int(n.knob('steps').getValue())\n            merge.setInput(steps+1, original)\n            AvgMult\['whitepoint'].setValue(2 if steps<2 else steps+1)\n\nelif k.name() == \"output2\":\n    if n.knob(\"output2\").getValue() == 4:\n        n.knob('AvgMaxOriginal').setVisible(True)\n    else:\n        n.knob('AvgMaxOriginal').setVisible(False)\n\n"
  tile_color 0xcc804eff
  label "(\[value output2])"
  note_font "Verdana Bold"
  note_font_color 0xffffffff
  xpos 1025
  ypos 995
  addUserKnob {20 ExponBlurSimple}
  addUserKnob {41 channels T Remove1.channels}
  addUserKnob {26 ""}
  addUserKnob {4 output2 l Operation: M {Screen Plus Over Hypot Average Max Min "" "" "" "" ""}}
  output2 Over
  addUserKnob {3 steps l "  Steps" -STARTLINE}
  steps 8
  addUserKnob {26 text l " " T " "}
  addUserKnob {6 includeOriginal l "Include Original?" -STARTLINE}
  addUserKnob {6 AvgMaxOriginal l "Use Max of Average and Original" +HIDDEN +STARTLINE}
  AvgMaxOriginal true
  addUserKnob {14 size l Size R 0 50}
  size 10
  addUserKnob {14 exp l Exponent +INVISIBLE R 1 4}
  exp 3
  addUserKnob {6 color_rgba_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
  addUserKnob {7 falloff l Falloff}
  falloff 1
  addUserKnob {4 falloffType l "Falloff Type" M {Linear pLinear smooth smooth0 smooth1 ""}}
  falloffType pLinear
  addUserKnob {14 postBlur l "Post Blur" R 0 100}
  addUserKnob {26 ""}
  addUserKnob {41 maskChannelMask l mask T MergeKeymix.maskChannelMask}
  addUserKnob {41 inject -STARTLINE T MergeKeymix.inject}
  addUserKnob {41 invert_mask l invert -STARTLINE T MergeKeymix.invert_mask}
  addUserKnob {41 fringe -STARTLINE T MergeKeymix.fringe}
  addUserKnob {41 mix T MergeKeymix.mix}
  addUserKnob {14 safeBBoxPixels l "" +STARTLINE +HIDDEN R 0 400}
  safeBBoxPixels 100
  addUserKnob {14 adjustBBoxPercent l "" -STARTLINE +HIDDEN R 1 2}
  adjustBBoxPercent 1
  addUserKnob {20 info l Info}
  addUserKnob {26 creator l Creator: T "Tony Lyons"}
  addUserKnob {26 desc l Description: t "Add description and tooltip for gizmo" T ExponBlurSimple}
  addUserKnob {26 ver l Version: T v02}
 }
  Input {
   inputs 0
   name Inputmask
   xpos 346
   ypos 596
   number 1
  }
  Dot {
   name Dot19
   label Mask
   note_font_size 41
   xpos 380
   ypos 662
  }
  Dot {
   name Dot10
   note_font_size 41
   xpos 380
   ypos 899
  }
  Input {
   inputs 0
   name Inputimg
   xpos -221
   ypos -1229
  }
  Dot {
   name Dot16
   note_font_size 41
   xpos -187
   ypos -1062
  }
set Nc658d000 [stack 0]
  Dot {
   name Dot1
   note_font_size 41
   xpos 461
   ypos -1058
  }
  Remove {
   operation keep
   channels rgba
   name Remove1
   xpos 427
   ypos -980
  }
  NoOp {
   name aspectCalc
   xpos 427
   ypos -939
   addUserKnob {20 User}
   addUserKnob {14 aspect R 0 100}
   aspect {{parent.size.w} {parent.size.h/format.pixel_aspect/height*width}}
  }
  Dot {
   name Dot21
   note_font_size 41
   xpos 461
   ypos -853
  }
set Nc65a4000 [stack 0]
  Invert {
   name Invert1
   xpos 864
   ypos -860
   disable {{"parent.size < 0 ? 0 : 1"}}
  }
set Nc65a4400 [stack 0]
  Dot {
   name Dot4
   note_font_size 41
   xpos 540
   ypos -604
  }
  NoOp {
   name Original
   xpos 506
   ypos -327
  }
  Dot {
   name Dot5
   note_font_size 41
   xpos 540
   ypos 100
  }
push $Nc65a4400
  NoOp {
   name Start
   xpos 864
   ypos -706
  }
set Nc65a5400 [stack 0]
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(8**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(8**2))}}
   crop false
   name Blur8
   xpos 1564
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.125 :falloffType == 1 ? pow(0.125, 3) : falloffType == 2 ? 0.125*0.125*(3-2*0.125) : falloffType == 3 ? 0.125*0.125*(2 - 0.125) : falloffType == 4 ? 0.125*(1 + 0.125*(1 - 0.125)) : 0"} {"falloffType == 0 ? 0.125 :falloffType == 1 ? pow(0.125, 3) : falloffType == 2 ? 0.125*0.125*(3-2*0.125) : falloffType == 3 ? 0.125*0.125*(2 - 0.125) : falloffType == 4 ? 0.125*(1 + 0.125*(1 - 0.125)) : 0"} {"falloffType == 0 ? 0.125 :falloffType == 1 ? pow(0.125, 3) : falloffType == 2 ? 0.125*0.125*(3-2*0.125) : falloffType == 3 ? 0.125*0.125*(2 - 0.125) : falloffType == 4 ? 0.125*(1 + 0.125*(1 - 0.125)) : 0"} {"falloffType == 0 ? 0.125 :falloffType == 1 ? pow(0.125, 3) : falloffType == 2 ? 0.125*0.125*(3-2*0.125) : falloffType == 3 ? 0.125*0.125*(2 - 0.125) : falloffType == 4 ? 0.125*(1 + 0.125*(1 - 0.125)) : 0"}}
   mix {{falloff}}
   name Multiply8
   xpos 1564
   ypos -477
  }
push $Nc65a5400
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(7**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(7**2))}}
   crop false
   name Blur7
   xpos 1464
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.25 :falloffType == 1 ? pow(0.25, 3) : falloffType == 2 ? 0.25*0.25*(3-2*0.25) : falloffType == 3 ? 0.25*0.25*(2 - 0.25) : falloffType == 4 ? 0.25*(1 + 0.25*(1 - 0.25)) : 0"} {"falloffType == 0 ? 0.25 :falloffType == 1 ? pow(0.25, 3) : falloffType == 2 ? 0.25*0.25*(3-2*0.25) : falloffType == 3 ? 0.25*0.25*(2 - 0.25) : falloffType == 4 ? 0.25*(1 + 0.25*(1 - 0.25)) : 0"} {"falloffType == 0 ? 0.25 :falloffType == 1 ? pow(0.25, 3) : falloffType == 2 ? 0.25*0.25*(3-2*0.25) : falloffType == 3 ? 0.25*0.25*(2 - 0.25) : falloffType == 4 ? 0.25*(1 + 0.25*(1 - 0.25)) : 0"} {"falloffType == 0 ? 0.25 :falloffType == 1 ? pow(0.25, 3) : falloffType == 2 ? 0.25*0.25*(3-2*0.25) : falloffType == 3 ? 0.25*0.25*(2 - 0.25) : falloffType == 4 ? 0.25*(1 + 0.25*(1 - 0.25)) : 0"}}
   mix {{falloff}}
   name Multiply7
   xpos 1464
   ypos -477
  }
push $Nc65a5400
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(6**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(6**2))}}
   crop false
   name Blur6
   xpos 1364
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.375 :falloffType == 1 ? pow(0.375, 3) : falloffType == 2 ? 0.375*0.375*(3-2*0.375) : falloffType == 3 ? 0.375*0.375*(2 - 0.375) : falloffType == 4 ? 0.375*(1 + 0.375*(1 - 0.375)) : 0"} {"falloffType == 0 ? 0.375 :falloffType == 1 ? pow(0.375, 3) : falloffType == 2 ? 0.375*0.375*(3-2*0.375) : falloffType == 3 ? 0.375*0.375*(2 - 0.375) : falloffType == 4 ? 0.375*(1 + 0.375*(1 - 0.375)) : 0"} {"falloffType == 0 ? 0.375 :falloffType == 1 ? pow(0.375, 3) : falloffType == 2 ? 0.375*0.375*(3-2*0.375) : falloffType == 3 ? 0.375*0.375*(2 - 0.375) : falloffType == 4 ? 0.375*(1 + 0.375*(1 - 0.375)) : 0"} {"falloffType == 0 ? 0.375 :falloffType == 1 ? pow(0.375, 3) : falloffType == 2 ? 0.375*0.375*(3-2*0.375) : falloffType == 3 ? 0.375*0.375*(2 - 0.375) : falloffType == 4 ? 0.375*(1 + 0.375*(1 - 0.375)) : 0"}}
   mix {{falloff}}
   name Multiply6
   xpos 1364
   ypos -477
  }
push $Nc65a5400
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(5**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(5**2))}}
   crop false
   name Blur5
   xpos 1264
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"} {"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"} {"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"} {"falloffType == 0 ? 0.5 :falloffType == 1 ? pow(0.5, 3) : falloffType == 2 ? 0.5*0.5*(3-2*0.5) : falloffType == 3 ? 0.5*0.5*(2 - 0.5) : falloffType == 4 ? 0.5*(1 + 0.5*(1 - 0.5)) : 0"}}
   mix {{falloff}}
   name Multiply5
   xpos 1264
   ypos -477
  }
push $Nc65a5400
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(4**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(4**2))}}
   crop false
   name Blur4
   xpos 1164
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.625 :falloffType == 1 ? pow(0.625, 3) : falloffType == 2 ? 0.625*0.625*(3-2*0.625) : falloffType == 3 ? 0.625*0.625*(2 - 0.625) : falloffType == 4 ? 0.625*(1 + 0.625*(1 - 0.625)) : 0"} {"falloffType == 0 ? 0.625 :falloffType == 1 ? pow(0.625, 3) : falloffType == 2 ? 0.625*0.625*(3-2*0.625) : falloffType == 3 ? 0.625*0.625*(2 - 0.625) : falloffType == 4 ? 0.625*(1 + 0.625*(1 - 0.625)) : 0"} {"falloffType == 0 ? 0.625 :falloffType == 1 ? pow(0.625, 3) : falloffType == 2 ? 0.625*0.625*(3-2*0.625) : falloffType == 3 ? 0.625*0.625*(2 - 0.625) : falloffType == 4 ? 0.625*(1 + 0.625*(1 - 0.625)) : 0"} {"falloffType == 0 ? 0.625 :falloffType == 1 ? pow(0.625, 3) : falloffType == 2 ? 0.625*0.625*(3-2*0.625) : falloffType == 3 ? 0.625*0.625*(2 - 0.625) : falloffType == 4 ? 0.625*(1 + 0.625*(1 - 0.625)) : 0"}}
   mix {{falloff}}
   name Multiply4
   xpos 1164
   ypos -477
  }
push $Nc65a5400
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(3**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(3**2))}}
   crop false
   name Blur3
   xpos 1064
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.75 :falloffType == 1 ? pow(0.75, 3) : falloffType == 2 ? 0.75*0.75*(3-2*0.75) : falloffType == 3 ? 0.75*0.75*(2 - 0.75) : falloffType == 4 ? 0.75*(1 + 0.75*(1 - 0.75)) : 0"} {"falloffType == 0 ? 0.75 :falloffType == 1 ? pow(0.75, 3) : falloffType == 2 ? 0.75*0.75*(3-2*0.75) : falloffType == 3 ? 0.75*0.75*(2 - 0.75) : falloffType == 4 ? 0.75*(1 + 0.75*(1 - 0.75)) : 0"} {"falloffType == 0 ? 0.75 :falloffType == 1 ? pow(0.75, 3) : falloffType == 2 ? 0.75*0.75*(3-2*0.75) : falloffType == 3 ? 0.75*0.75*(2 - 0.75) : falloffType == 4 ? 0.75*(1 + 0.75*(1 - 0.75)) : 0"} {"falloffType == 0 ? 0.75 :falloffType == 1 ? pow(0.75, 3) : falloffType == 2 ? 0.75*0.75*(3-2*0.75) : falloffType == 3 ? 0.75*0.75*(2 - 0.75) : falloffType == 4 ? 0.75*(1 + 0.75*(1 - 0.75)) : 0"}}
   mix {{falloff}}
   name Multiply3
   xpos 1064
   ypos -477
  }
push 0
push $Nc65a5400
  Blur {
   size {{((width/100*parent.size.w)*(aspectCalc.aspect.w/100)*(2**2))} {((height/100*parent.size.h)*(aspectCalc.aspect.h/100)*(2**2))}}
   crop false
   name Blur2
   xpos 964
   ypos -554
  }
  Multiply {
   value {{"falloffType == 0 ? 0.875 :falloffType == 1 ? pow(0.875, 3) : falloffType == 2 ? 0.875*0.875*(3-2*0.875) : falloffType == 3 ? 0.875*0.875*(2 - 0.875) : falloffType == 4 ? 0.875*(1 + 0.875*(1 - 0.875)) : 0"} {"falloffType == 0 ? 0.875 :falloffType == 1 ? pow(0.875, 3) : falloffType == 2 ? 0.875*0.875*(3-2*0.875) : falloffType == 3 ? 0.875*0.875*(2 - 0.875) : falloffType == 4 ? 0.875*(1 + 0.875*(1 - 0.875)) : 0"} {"falloffType == 0 ? 0.875 :falloffType == 1 ? pow(0.875, 3) : falloffType == 2 ? 0.875*0.875*(3-2*0.875) : falloffType == 3 ? 0.875*0.875*(2 - 0.875) : falloffType == 4 ? 0.875*(1 + 0.875*(1 - 0.875)) : 0"} {"falloffType == 0 ? 0.875 :falloffType == 1 ? pow(0.875, 3) : falloffType == 2 ? 0.875*0.875*(3-2*0.875) : falloffType == 3 ? 0.875*0.875*(2 - 0.875) : falloffType == 4 ? 0.875*(1 + 0.875*(1 - 0.875)) : 0"}}
   mix {{falloff}}
   name Multiply2
   xpos 964
   ypos -477
  }
push $Nc65a5400
  Blur {
   size {{(width/100*parent.size*(aspectCalc.aspect.w/100))} {(height/100*parent.size*(aspectCalc.aspect.h/100))}}
   crop false
   name Blur1
   xpos 864
   ypos -554
  }
  Multiply {
   value {1 1 1 1}
   mix {{falloff}}
   name Multiply1
   xpos 864
   ypos -477
  }
  Merge2 {
   inputs 8+1
   operation {{MergeNumber.mergeNumber}}
   also_merge all
   name Merge1
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos 864
   ypos -327
  }
  NoOp {
   name End
   xpos 864
   ypos -279
  }
  Grade {
   channels all
   whitepoint 8
   black_clamp false
   name AverageMult
   xpos 864
   ypos 49
   disable {{"output2 == 4 ? 0 : 1"}}
  }
  Merge2 {
   inputs 2
   operation max
   also_merge all
   name Merge2
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos 864
   ypos 96
   disable {{"output2 == 4 && includeOriginal == 1 && AvgMaxOriginal == 1 ? 0 : 1"}}
  }
  Blur {
   size {{postBlur} {postBlur}}
   name BlurOriginal
   xpos 864
   ypos 155
  }
  Invert {
   name Invert2
   xpos 864
   ypos 283
   disable {{"parent.size < 0 ? 0 : 1"}}
  }
push $Nc65a4000
  Switch {
   inputs 2
   which {{"parent.size == 0 ? 0 : 1"}}
   name Switch1
   label "\[value which]"
   xpos 427
   ypos 283
  }
  Crop {
   inputs 0
   box {{input.format.x} {input.format.y} {input.format.r} {input.format.t}}
   reformat true
   crop false
   name Crop1
   xpos 96
   ypos -931
   addUserKnob {20 User}
   addUserKnob {22 cropToBbox l "Crop to Bounding Box" -STARTLINE T codeBBox()}
  }
  AddChannels {
   channels rgba
   name AddChannels2
   xpos 96
   ypos -891
  }
push $Nc658d000
  Merge2 {
   inputs 2
   name Merge3
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos -60
   ypos -891
  }
set Nc665bc00 [stack 0]
  Group {
   name BBoxToFormat
   onCreate "n = nuke.thisNode()\ninputFormat = n.knob(\"inputFormat\")\ninputBBox = n.knob(\"inputBBox\")\ncrop = nuke.toNode(\"Crop6\")\ncropb = crop.knob('box')\noutputBBox = n.knob('outputBBox')\noutputBBoxCenter = n.knob(\"outputBBoxCenter\")\n\ninputFormat.setFlag(0x0000000000008000)\ninputBBox.setFlag(0x0000000000008000)\ncropb.setFlag(0x0000000000008000)\noutputBBox.setFlag(0x0000000000008000)\noutputBBoxCenter.setFlag(0x0000000000008000)\n\nn = nuke.thisNode()\nn.knob(\"overscan\").setRange(0,400)\nn.knob(\"overscanPercent\").setRange(1,4)"
   knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\nif k.name() == \"overscanType\":\n    if n.knob(\"overscanType\").getValue() == 1:\n        n.knob(\"overscanPercent\").setVisible(True)\n        n.knob(\"overscan\").setVisible(False)\n    else:\n        n.knob(\"overscanPercent\").setVisible(False)\n        n.knob(\"overscan\").setVisible(True)"
   tile_color 0xa57aaaff
   note_font "Verdana Bold"
   note_font_color 0xffffffff
   xpos 29
   ypos -812
   addUserKnob {20 CropBBox}
   addUserKnob {4 type l Type +INVISIBLE M {"To Format" "To BBox"}}
   addUserKnob {41 intersect T Crop6.intersect}
   addUserKnob {6 blackOutside l "Black Outside" -STARTLINE}
   addUserKnob {4 overscanType l "Overscan Type:" M {Pixels Percentage}}
   overscanType Percentage
   addUserKnob {14 overscan l Overscan +HIDDEN R 0 400}
   addUserKnob {14 overscanPercent l "Overscan Percent" R 1 4}
   overscanPercent 1.2
   addUserKnob {20 inputBbox l "BBox Data" n 1}
   addUserKnob {15 inputFormat l "Input Format"}
   inputFormat {0 0 {input.width} {input.height}}
   addUserKnob {15 inputBBox l "Input BBox"}
   inputBBox {{input.bbox.x} {input.bbox.y} {input.bbox.r} {input.bbox.t}}
   addUserKnob {12 outputBBoxCenter l OutputBBoxCenter}
   outputBBoxCenter {{OutputBBox1.outputBBoxCenter.w} {OutputBBox1.outputBBoxCenter.h}}
   addUserKnob {15 outputBBox l "Output BBox"}
   outputBBox {{OutputBBox1.OutputBBox} {OutputBBox1.OutputBBox} {OutputBBox1.OutputBBox} {OutputBBox1.OutputBBox}}
   addUserKnob {20 endGroup n -1}
   addUserKnob {20 info_1 l Info}
   addUserKnob {26 creator l Creator: T "<b><big>Tony Lyons"}
   addUserKnob {26 desc l Description: t "crop to inputformat\n\ndisplays values of input bbox" T CropBBox}
   addUserKnob {26 ver l Version: T v02}
  }
   Input {
    inputs 0
    name Input
    xpos 261
    ypos 394
   }
   Dot {
    name Dot2
    note_font_size 41
    xpos 295
    ypos 462
   }
set Nc669e400 [stack 0]
   Dot {
    name Dot1
    note_font_size 41
    xpos -160
    ypos 462
   }
set Nc669e800 [stack 0]
push $Nc669e400
   Crop {
    box {{curve} {curve} {input.width} {input.height}}
    crop {{parent.blackOutside}}
    name Crop6
    xpos 261
    ypos 510
    addUserKnob {20 User}
    addUserKnob {22 cropToBbox l "Crop to Bounding Box" -STARTLINE T codeBBox()}
   }
set Nc669ec00 [stack 0]
   Remove {
    operation keep
    channels none
    name Remove1
    xpos 120
    ypos 504
   }
set Nc669f000 [stack 0]
   Transform {
    scale {{parent.overscanPercent} {parent.overscanPercent}}
    center {{input.bbox.r/2} {input.bbox.t/2}}
    shutteroffset centred
    name Transform1
    xpos 120
    ypos 555
   }
push $Nc669f000
   AdjBBox {
    numpixels {{parent.overscan} {parent.overscan}}
    name AdjBBox1
    xpos -5
    ypos 510
   }
   Switch {
    inputs 2
    which {{overscanType}}
    name Switch2
    label "\[value which]"
    xpos -5
    ypos 549
   }
   Merge2 {
    inputs 2
    bbox intersection
    Achannels {-rgba.red -rgba.green -rgba.blue rgba.alpha}
    Bchannels {-rgba.red -rgba.green -rgba.blue rgba.alpha}
    output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
    name Merge1
    xpos -5
    ypos 647
    disable {{!parent.Crop6.intersect}}
   }
push $Nc669e800
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos -194
    ypos 653
   }
   BlackOutside {
    name BlackOutside1
    xpos -194
    ypos 692
    disable {{!parent.blackOutside}}
   }
   Dot {
    name Dot4
    note_font_size 41
    xpos -160
    ypos 769
   }
push $Nc669ec00
   Switch {
    inputs 2
    which {{"overscanType == 0 ? overscan.w != 0 || overscan.h != 0 : overscanPercent.w != 1 || overscanPercent.h != 1 ? 1 : 0"}}
    name Switch1
    label "\[value which]"
    xpos 261
    ypos 759
   }
set Nc66cb000 [stack 0]
   Output {
    name Output1
    xpos 261
    ypos 921
   }
push $Nc66cb000
   NoOp {
    name OutputBBox1
    selected true
    xpos 378
    ypos 821
    addUserKnob {20 User}
    addUserKnob {15 OutputBBox l "Output BBox"}
    OutputBBox {{input.bbox.x} {input.bbox.y} {input.bbox.r} {input.bbox.t}}
    addUserKnob {14 outputBBoxCenter l "Output BBox Center" R 0 100}
    outputBBoxCenter {{OutputBBox.x+(OutputBBox.r-OutputBBox.x)/2} {OutputBBox.y+(OutputBBox.t-OutputBBox.y)/2}}
   }
  end_group
push $Nc665bc00
  Merge2 {
   inputs 2
   name Merge4
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos -60
   ypos -748
  }
push $Nc658d000
  CopyBBox {
   inputs 2
   name CopyBBox1
   xpos -221
   ypos -748
  }
  Dot {
   name Dot22
   note_font_size 41
   xpos -187
   ypos 198
  }
  Merge2 {
   inputs 2
   operation copy
   bbox B
   Achannels none
   Bchannels none
   output none
   name Merge5
   label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
   xpos -221
   ypos 283
  }
  Dot {
   name Dot17
   label A
   note_font_size 41
   xpos -187
   ypos 675
  }
  Dot {
   name Dot7
   note_font_size 41
   xpos -187
   ypos 805
  }
push $Nc658d000
  Dot {
   name Dot2
   note_font_size 41
   xpos -588
   ypos -1062
  }
  Dot {
   name Dot18
   label B
   note_font_size 41
   xpos -588
   ypos 654
  }
  Dot {
   name Dot3
   note_font_size 41
   xpos -588
   ypos 895
  }
  Merge2 {
   inputs 2+1
   operation copy
   Achannels none
   Bchannels none
   output none
   also_merge all
   name MergeKeymix
   xpos -221
   ypos 888
  }
  Output {
   name Output1
   xpos -221
   ypos 1202
  }
  NoOp {
   inputs 0
   name MergeNumber
   xpos 202
   ypos -1145
   addUserKnob {20 User}
   addUserKnob {3 mergeNumber}
   mergeNumber {{"output2 == 0 ? 25 : output2 == 1 ? 24 : output2 == 2 ? 22 : output2 == 3 ? 13 : output2 == 4 ? 24 : output2 == 5 ? 17 : 18"}}
  }
 end_group
 Dot {
  name Dot40
  note_font_size 41
  xpos 1059
  ypos 1277
 }
set Nc6718c00 [stack 0]
 Grade {
  channels all
  white {{wrapAllAmount/10}}
  name GradeBgWrapAmount
  xpos 1025
  ypos 1399
 }
 Multiply {
  channels rgba
  value {{globalAmount}}
  name MultiplyGlobal1
  label "\[value value]"
  xpos 1025
  ypos 1566
 }
 Dot {
  name Dot37
  label "WRAP ALL"
  note_font_size 61
  xpos 1059
  ypos 1692
 }
set Nc6719800 [stack 0]
 Dot {
  name Dot27
  note_font_size 41
  xpos 1059
  ypos 3062
 }
set Nc6719c00 [stack 0]
 Merge2 {
  inputs 2
  name Merge1
  xpos 1530
  ypos 3168
 }
 Shuffle {
  alpha white
  name Shuffle5
  tile_color 0xffffffff
  note_font_color 0xffffffff
  xpos 1530
  ypos 3216
 }
 Merge2 {
  inputs 2
  operation mask
  name Merge14
  xpos 1530
  ypos 3274
 }
push $Nc6353800
push $Nc6719c00
 Shuffle {
  alpha white
  name Shuffle2
  tile_color 0xffffffff
  note_font_color 0xffffffff
  xpos 1025
  ypos 3158
 }
 Merge2 {
  inputs 2
  operation mask
  name Merge7
  xpos 1025
  ypos 3221
 }
push $Nc6353400
push $Nc6521400
 Shuffle {
  alpha white
  name Shuffle4
  tile_color 0xffffffff
  note_font_color 0xffffffff
  xpos 1708
  ypos 3020
 }
 Merge2 {
  inputs 2
  operation mask
  name Merge13
  xpos 1708
  ypos 3104
 }
push $Nc636dc00
 Dot {
  name Dot21
  xpos 2349
  ypos 397
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle3
  tile_color 0xffffffff
  label alpha
  note_font_size 21
  note_font_color 0xffffffff
  xpos 2315
  ypos 496
 }
 Dot {
  name Dot23
  xpos 2349
  ypos 3399
 }
push $Nc6718c00
 Dot {
  name Dot29
  note_font_size 41
  xpos 757
  ypos 1277
 }
set Nc677c800 [stack 0]
 Grade {
  channels rgba
  gamma {{parent.bleedColorFalloff_2}}
  name Grade1
  selected true
  xpos 724
  ypos 2638
 }
 Dot {
  name Dot33
  note_font_size 41
  xpos 758
  ypos 2835
 }
 Multiply {
  channels rgba
  value {{globalAmount}}
  name MultiplyGlobal2
  label "\[value value]"
  xpos 297
  ypos 2828
 }
push $Nc654c400
 Dot {
  name Dot38
  note_font_size 41
  xpos 438
  ypos 725
 }
set Nc677d800 [stack 0]
 Dot {
  name Dot2
  note_font_size 41
  xpos 439
  ypos 802
 }
set Nc677dc00 [stack 0]
 Dot {
  name Dot17
  note_font_size 41
  xpos 334
  ypos 802
 }
 Dot {
  name Dot16
  note_font_size 41
  xpos 334
  ypos 1201
 }
push $Nc677dc00
 Blur {
  size {{(width/13*parent.bleedColorSize*16*(ExponGlowWrapAll.aspectCalc.aspect.w/100))} {(height/13*parent.bleedColorSize*16*(ExponGlowWrapAll.aspectCalc.aspect.h/100))}}
  crop false
  name Blur6
  xpos 856
  ypos 874
 }
push $Nc677dc00
 Blur {
  size {{(width/13*parent.bleedColorSize*8*(ExponGlowWrapAll.aspectCalc.aspect.w/100))} {(height/13*parent.bleedColorSize*8*(ExponGlowWrapAll.aspectCalc.aspect.h/100))}}
  crop false
  name Blur4
  xpos 743
  ypos 873
 }
push $Nc677dc00
 Blur {
  size {{(width/15*parent.bleedColorSize*4*(ExponGlowWrapAll.aspectCalc.aspect.w/100))} {(height/15*parent.bleedColorSize*4*(ExponGlowWrapAll.aspectCalc.aspect.h/100))}}
  crop false
  name Blur3
  xpos 627
  ypos 874
 }
push $Nc677dc00
 Blur {
  size {{(width/20*parent.bleedColorSize*2*(ExponGlowWrapAll.aspectCalc.aspect.w/100))} {(height/20*parent.bleedColorSize*2*(ExponGlowWrapAll.aspectCalc.aspect.h/100))}}
  crop false
  name Blur2
  xpos 515
  ypos 872
 }
push $Nc677dc00
 Blur {
  size {{(width/25*parent.bleedColorSize*(ExponGlowWrapAll.aspectCalc.aspect.w/100))} {(height/25*parent.bleedColorSize*(ExponGlowWrapAll.aspectCalc.aspect.h/100))}}
  crop false
  name Blur1
  xpos 404
  ypos 871
 }
 Merge2 {
  inputs 2
  operation under
  bbox B
  name Merge2
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 404
  ypos 941
 }
 Merge2 {
  inputs 2
  operation under
  bbox B
  name Merge4
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 404
  ypos 999
 }
 Merge2 {
  inputs 2
  operation under
  bbox B
  name Merge8
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 404
  ypos 1049
 }
 Merge2 {
  inputs 2
  operation under
  bbox B
  name Merge12
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 404
  ypos 1087
 }
 Unpremult {
  name Unpremult2
  xpos 404
  ypos 1111
 }
 Blur {
  size {{(width/50*parent.bleedColorSize*10*(ExponGlowWrapAll.aspectCalc.aspect.w/100))} {(height/50*parent.bleedColorSize*10*(ExponGlowWrapAll.aspectCalc.aspect.h/100))}}
  crop false
  name Blur5
  xpos 404
  ypos 1151
 }
 CopyBBox {
  inputs 2
  name CopyBBox1
  xpos 404
  ypos 1198
 }
 Unpremult {
  name Unpremult5
  xpos 404
  ypos 2385
 }
 Colorspace {
  channels all
  colorspace_out HSV
  name Colorspace1
  xpos 404
  ypos 2456
 }
 Multiply {
  value {1 1 0 1}
  name Multiply5
  label "\[value value]"
  xpos 404
  ypos 2532
 }
push $Nc6521000
push $Nc6719800
push $Nc677d800
 Dot {
  name Dot10
  xpos 201
  ypos 725
 }
 Clamp {
  minimum 0.001
  maximum 100
  name Clamp1
  xpos 167
  ypos 996
 }
 Dot {
  name Dot24
  xpos 201
  ypos 1517
 }
 Multiply {
  channels rgba
  value {{globalAmount}}
  name MultiplyGlobal
  label "\[value value]"
  xpos 19
  ypos 1507
 }
push $Nc677c800
 Colorspace {
  channels all
  colorspace_out HSV
  name Colorspace6
  xpos -13
  ypos 1267
 }
 Multiply {
  value {1 1 0 1}
  name Multiply4
  label "\[value value]"
  xpos -123
  ypos 1262
 }
push $Nc6352800
 Remove {
  operation keep
  channels rgba
  name Remove1
  xpos -413
  ypos 594
 }
 Unpremult {
  channels all
  name Unpremult1
  xpos -407
  ypos 1094
  disable {{premultiplied*-1+1 x1 1}}
 }
set Nc6850000 [stack 0]
 Dot {
  name Dot12
  xpos -226
  ypos 1101
 }
 Colorspace {
  channels all
  colorspace_out HSV
  name Colorspace5
  xpos -260
  ypos 1140
 }
 Multiply {
  value {0 0 1 1}
  name Multiply3
  label "\[value value]"
  xpos -260
  ypos 1188
 }
 Merge2 {
  inputs 2
  operation plus
  Achannels none
  Bchannels none
  output none
  also_merge all
  name Merge3
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos -260
  ypos 1267
 }
 Colorspace {
  channels all
  colorspace_in HSV
  name Colorspace7
  xpos -260
  ypos 1327
 }
 Dot {
  name Dot36
  label "BLEND EDGES"
  note_font_size 45
  xpos -226
  ypos 1408
 }
push $Nc6850000
 Dot {
  name Dot18
  note_font_size 41
  xpos -373
  ypos 1514
 }
set Nc6851c00 [stack 0]
 Merge2 {
  inputs 2+1
  operation copy
  bbox B
  Achannels none
  Bchannels none
  output none
  also_merge all
  mix {{blendEdgesAmount}}
  name Merge10
  xpos -260
  ypos 1507
 }
 Dot {
  name Dot22
  note_font_size 41
  xpos -226
  ypos 1588
 }
push $Nc6851c00
 Switch {
  inputs 2
  which {{"blendEdgesAmount == 0 ? 0 : 1"}}
  name Switch3
  xpos -407
  ypos 1585
 }
 Merge2 {
  inputs 2
  bbox B
  Achannels none
  Bchannels none
  output none
  also_merge all
  name Merge5
  xpos -407
  ypos 1685
 }
 Merge2 {
  inputs 2
  bbox B
  Achannels none
  Bchannels none
  output none
  also_merge all
  name Merge6
  xpos -407
  ypos 1791
 }
 Dot {
  name Dot34
  note_font_size 41
  xpos -373
  ypos 2417
 }
set Nc6885400 [stack 0]
 Colorspace {
  channels all
  colorspace_out HSV
  name Colorspace2
  xpos -81
  ypos 2410
 }
 Multiply {
  value {0 0 1 1}
  name Multiply6
  label "\[value value]"
  xpos -81
  ypos 2458
 }
 Merge2 {
  inputs 2
  operation plus
  Achannels none
  Bchannels none
  output none
  also_merge all
  name Merge11
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos -81
  ypos 2537
 }
 Colorspace {
  channels all
  colorspace_in HSV
  name Colorspace8
  xpos -81
  ypos 2606
 }
push $Nc6850000
 Dot {
  name Dot13
  xpos -579
  ypos 1101
 }
 Dot {
  name Dot14
  xpos -579
  ypos 2559
 }
push $Nc6885400
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  name Copy1
  xpos -407
  ypos 2552
 }
 Dot {
  name Dot6
  note_font_size 41
  xpos -373
  ypos 2649
 }
set Nc68bd400 [stack 0]
 Merge2 {
  inputs 2+1
  operation copy
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix {{bleedColorAmount}}
  name Merge9
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos -81
  ypos 2828
 }
push $Nc68bd400
 Switch {
  inputs 2
  which {{"parent.bleedColorAmount== 0 ? 0 : 1"}}
  name Switch2
  xpos -407
  ypos 2832
 }
 Premult {
  name Premult3
  xpos -407
  ypos 2983
  disable {{premultiplied*-1+1 i}}
 }
 Dot {
  name Dot19
  xpos -373
  ypos 3396
 }
 Switch {
  inputs 5
  which {{"\[value ls parent.outputView]"}}
  name Switch1
  xpos 1708
  ypos 3395
 }
push $Nc6353000
 Dot {
  name Dot5
  note_font_size 41
  xpos -825
  ypos 3581
 }
 Merge2 {
  inputs 2+1
  operation copy
  also_merge all
  name MergeCopyLightWrapPro
  label "\[ expr \{ \[value mix] == 1 ? \" \" : \[concat Mix: \[value mix]] \}]"
  xpos 1708
  ypos 3580
 }
 Output {
  name Output1
  xpos 1708
  ypos 3898
 }
end_group
Dot {
 name Dot75
 xpos 5639
 ypos 9468
}
push $Nc6311000
push $Nc1017800
Merge2 {
 inputs 2
 name Merge16
 xpos 5916
 ypos 9295
}
Merge2 {
 inputs 2
 operation plus
 bbox B
 name Merge18
 xpos 5916
 ypos 9465
}
Dot {
 name Dot11
 xpos 5950
 ypos 10317
}
set Nc6914400 [stack 0]
Merge2 {
 inputs 2
 operation mask
 name Merge11
 xpos 5566
 ypos 10314
}
VolumeRays {
 name VolumeRays1
 label "Mar 20 2005"
 xpos 5566
 ypos 10346
 vol_pos {2033 528}
 raylength 150
 pre_blur 5
 quality "Very High"
 flicker_speed 0
 volume_end_color {0 0 0 0}
}
Saturation {
 saturation 0.15
 name Saturation2
 xpos 5566
 ypos 10382
}
Group {
 name Glow_Exponential4
 help "Exponential Glow node, with options to recolor and adjust falloff."
 knobChanged "\nk = nuke.thisKnob()\nif k.name()=='crop':\n    if k.value():\n        nuke.thisNode().knob('overscan').setEnabled(True)\n    else:\n        nuke.thisNode().knob('overscan').setEnabled(False)\n"
 tile_color 0xc97200ff
 xpos 5566
 ypos 10438
 addUserKnob {20 ge l Glow}
 addUserKnob {26 glow_ctrls l "@b;Glow:"}
 addUserKnob {7 size t "Size of the glow" R 0 100}
 size 8
 addUserKnob {7 intensity t "Brightness of the Glow" R 0 10}
 intensity 5
 addUserKnob {7 falloff t "Adjust the light falloff of the glow. Higher values will have a longer falloff, resulting in visually bigger glows."}
 falloff 0.75
 addUserKnob {26 glow_highlights l "@b;Highlights:"}
 addUserKnob {41 range t "Luma key to define which parts of the image will glow." T Keyer1.range}
 addUserKnob {26 glow_colors l "@b;Glow Colors:"}
 addUserKnob {7 saturation l "color from img" t "By default the glow takes on the colors of the plate. By using this knob you can desaturate the color of the glow."}
 saturation 1
 addUserKnob {18 core_color l "core re-color" t "Re-color the core of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 core_color {1 1 1}
 addUserKnob {6 core_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {18 falloff_color l "falloff re-color" t "Re-color the falloff of the glow. Use the core threshold to define which parts of the glow are core or falloff."}
 falloff_color {1 1 1}
 addUserKnob {6 falloff_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 threshold l "core threshold" t "Define which parts of the glow are core or falloff."}
 threshold 1
 addUserKnob {26 glow_options l "@b;Options:"}
 addUserKnob {14 aspect l "aspect ratio" t "Set the aspect ratio for your glow. Streaky results can be obtained by changing the ratio here." R 0 100}
 aspect {1 1}
 addUserKnob {6 glow_only l "Glow only" t "By default the glow is added onto the plate. Checking this box will output the glow only. " +STARTLINE}
 addUserKnob {6 crop l "Crop to Format" t "This glow can expand the bounding box to massive values, checking this box can prevent your bbox from getting unmanageable." +STARTLINE}
 crop true
 addUserKnob {7 overscan l "overscan (%)" t "If you are cropping to format but originally had some values outside the format, you can add some overscan here to preserve these. The values are a percentage of the format size." R 0 100}
 overscan 10
 addUserKnob {7 mix t "Mix back with the original plate (or black, if glow only is enabled)"}
 mix 0.05
 addUserKnob {26 ""}
 addUserKnob {26 spin_copyright l "" t " <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nGlow_Exponential\nVersion 1.0\n2017" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2017 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
}
 Input {
  inputs 0
  name img
  xpos 0
  ypos -59
 }
 Dot {
  name Dot1
  tile_color 0xcccccc00
  xpos 34
  ypos 50
 }
set Nc6ab0000 [stack 0]
 Dot {
  name Dot24
  tile_color 0xcccccc00
  xpos 34
  ypos 1274
 }
set Nc6ab0400 [stack 0]
 Input {
  inputs 0
  name mask
  xpos 136
  ypos 158
  number 1
 }
push $Nc6ab0000
 NoOp {
  name CTRL
  xpos 304
  ypos 46
  addUserKnob {20 User}
  addUserKnob {7 falloff R 0 2}
  falloff {{"max(parent.falloff/2+0.5, 0.0001)"}}
  addUserKnob {7 falloff_intensity}
  falloff_intensity {{falloff+pow(falloff,2)+pow(falloff,3)+pow(falloff,4)+pow(falloff,5)+pow(falloff,6)+pow(falloff,7)+pow(falloff,8)+pow(falloff,9)+pow(falloff,10)}}
  addUserKnob {14 size R 0 100}
  size {{parent.size/20*parent.aspect.w} {parent.size/20*parent.aspect.h}}
  addUserKnob {7 intensity}
  intensity {{parent.intensity/falloff_intensity}}
  addUserKnob {7 core R 0 2}
  core {{threshold}}
  addUserKnob {7 core_length}
  core_length {{sqrt(pow(core_color.r,2)+pow(core_color.g,2)+pow(core_color.b,2))/sqrt(3)}}
  addUserKnob {7 falloff_length}
  falloff_length {{sqrt(pow(falloff_color.r,2)+pow(falloff_color.g,2)+pow(falloff_color.b,2))/sqrt(3)}}
 }
 Keyer {
  operation "luminance key"
  name Keyer1
  xpos 304
  ypos 98
 }
 ChannelMerge {
  inputs 2
  operation in
  name ChannelMerge1
  xpos 304
  ypos 146
  disable {{"!\[exists parent.input1] "}}
 }
 Premult {
  name Premult1
  xpos 304
  ypos 202
 }
 Remove {
  operation keep
  channels rgb
  name Remove1
  xpos 304
  ypos 228
 }
 Multiply {
  value {{parent.CTRL.intensity}}
  name Multiplyer
  xpos 304
  ypos 263
 }
 Saturation {
  saturation {{parent.saturation}}
  name Saturation1
  xpos 304
  ypos 325
 }
 Dot {
  name Dot3
  tile_color 0x7aa9ff00
  xpos 338
  ypos 372
 }
set Nc6ad8800 [stack 0]
 Dot {
  name Dot2
  tile_color 0x7aa9ff00
  xpos 604
  ypos 372
 }
set Nc6ad8c00 [stack 0]
 Dot {
  name Dot4
  tile_color 0x7aa9ff00
  xpos 870
  ypos 372
 }
set Nc6ad9000 [stack 0]
 Dot {
  name Dot5
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 372
 }
set Nc6ad9400 [stack 0]
 Dot {
  name Dot6
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 372
 }
set Nc6ad9800 [stack 0]
 Dot {
  name Dot7
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 372
 }
set Nc6ad9c00 [stack 0]
 Dot {
  name Dot8
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 372
 }
set Nc6af8000 [stack 0]
 Dot {
  name Dot9
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 372
 }
set Nc6af8400 [stack 0]
 Dot {
  name Dot10
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 372
 }
set Nc6af8800 [stack 0]
 Dot {
  name Dot11
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 372
 }
 Blur {
  size {{Blur9.size*2} {Blur9.size*2}}
  crop false
  name Blur10
  xpos 2698
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,10)}}
  name Multiply10
  xpos 2698
  ypos 543
 }
 Dot {
  name Dot20
  tile_color 0x7aa9ff00
  xpos 2732
  ypos 796
 }
push $Nc6af8800
 Blur {
  size {{Blur8.size*2} {Blur8.size*2}}
  crop false
  name Blur9
  xpos 2432
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,9)}}
  name Multiply9
  xpos 2432
  ypos 542
 }
 Dot {
  name Dot19
  tile_color 0x7aa9ff00
  xpos 2466
  ypos 770
 }
push $Nc6af8400
 Blur {
  size {{Blur7.size*2} {Blur7.size*2}}
  crop false
  name Blur8
  xpos 2166
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,8)}}
  name Multiply8
  xpos 2166
  ypos 536
 }
 Dot {
  name Dot18
  tile_color 0x7aa9ff00
  xpos 2200
  ypos 744
 }
push $Nc6af8000
 Blur {
  size {{Blur6.size*2} {Blur6.size*2}}
  crop false
  name Blur7
  xpos 1900
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,7)}}
  name Multiply7
  xpos 1900
  ypos 528
 }
 Dot {
  name Dot17
  tile_color 0x7aa9ff00
  xpos 1934
  ypos 718
 }
push $Nc6ad9c00
 Blur {
  size {{Blur5.size*2} {Blur5.size*2}}
  crop false
  name Blur6
  xpos 1634
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,6)}}
  name Multiply6
  xpos 1634
  ypos 528
 }
 Dot {
  name Dot16
  tile_color 0x7aa9ff00
  xpos 1668
  ypos 692
 }
push $Nc6ad9800
 Blur {
  size {{Blur4.size*2} {Blur4.size*2}}
  crop false
  name Blur5
  xpos 1368
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,5)}}
  name Multiply5
  xpos 1368
  ypos 524
 }
 Dot {
  name Dot15
  tile_color 0x7aa9ff00
  xpos 1402
  ypos 666
 }
push $Nc6ad9400
 Blur {
  size {{Blur3.size*2} {Blur3.size*2}}
  crop false
  name Blur4
  xpos 1102
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,4)}}
  name Multiply4
  xpos 1102
  ypos 518
 }
 Dot {
  name Dot14
  tile_color 0x7aa9ff00
  xpos 1136
  ypos 640
 }
push $Nc6ad9000
 Blur {
  size {{Blur2.size*2} {Blur2.size*2}}
  crop false
  name Blur3
  xpos 836
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,3)}}
  name Multiply3
  xpos 836
  ypos 509
 }
 Dot {
  name Dot13
  tile_color 0x7aa9ff00
  xpos 870
  ypos 614
 }
push $Nc6ad8c00
 Blur {
  size {{Blur1.size*2} {Blur1.size*2}}
  crop false
  name Blur2
  xpos 570
  ypos 440
 }
 Multiply {
  value {{pow(CTRL.falloff,2)}}
  name Multiply2
  xpos 570
  ypos 508
 }
 Dot {
  name Dot12
  tile_color 0x7aa9ff00
  xpos 604
  ypos 588
 }
push $Nc6ad8800
 Blur {
  size {{CTRL.size*2} {CTRL.size*2}}
  crop false
  name Blur1
  xpos 304
  ypos 440
 }
 Multiply {
  value {{CTRL.falloff}}
  name Multiply1
  xpos 304
  ypos 512
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge1
  xpos 304
  ypos 584
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge2
  xpos 304
  ypos 610
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge3
  xpos 304
  ypos 636
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge4
  xpos 304
  ypos 662
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge5
  xpos 304
  ypos 688
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge6
  xpos 304
  ypos 714
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge7
  xpos 304
  ypos 740
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge8
  xpos 304
  ypos 766
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge9
  xpos 304
  ypos 792
 }
 Dot {
  name Dot21
  tile_color 0x4b5ec600
  xpos 338
  ypos 928
 }
set Nc6c08800 [stack 0]
 Dot {
  name Dot22
  tile_color 0x4b5ec600
  xpos 498
  ypos 928
 }
 Grade {
  whitepoint {{CTRL.core}}
  white_clamp true
  name Grade2
  xpos 464
  ypos 977
 }
 Gamma {
  channels rgb
  value {{parent.falloff_color.r/CTRL.falloff_length} {parent.falloff_color.g/CTRL.falloff_length} {parent.falloff_color.b/CTRL.falloff_length} {curve}}
  name Gamma1
  xpos 464
  ypos 1037
 }
 Grade {
  whitepoint {{CTRL.core}}
  reverse true
  name Grade3
  xpos 464
  ypos 1082
 }
push $Nc6c08800
 Clamp {
  minimum {{CTRL.core}}
  maximum_enable false
  name Clamp1
  xpos 304
  ypos 972
 }
 Grade {
  add {{1-CTRL.core}}
  name Grade4
  xpos 304
  ypos 1020
 }
 Gamma {
  channels rgb
  value {{1+(1-parent.core_color.r)/CTRL.core_length} {1+(1-parent.core_color.g)/CTRL.core_length} {1+(1-parent.core_color.b)/CTRL.core_length} {curve}}
  name Gamma2
  xpos 304
  ypos 1061
 }
 Add {
  channels rgb
  value -1
  name Add1
  xpos 304
  ypos 1087
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge10
  xpos 304
  ypos 1157
 }
 Remove {
  operation keep
  channels rgb
  name Remove2
  xpos 304
  ypos 1183
 }
 Multiply {
  value {{parent.mix}}
  name mix
  xpos 304
  ypos 1217
 }
 Merge2 {
  inputs 2
  operation plus
  name Merge11
  xpos 304
  ypos 1270
  disable {{parent.glow_only}}
 }
 Dot {
  name Dot23
  tile_color 0x4b5ec600
  xpos 338
  ypos 1436
 }
push $Nc6ab0400
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy1
  xpos 0
  ypos 1414
 }
 Crop {
  box {{-width*(parent.overscan/100)/2} {-height*(parent.overscan/100)/2} {width+(width*(parent.overscan/100)/2)} {height+(height*(parent.overscan/100)/2)}}
  crop false
  name Crop2
  xpos 0
  ypos 1495
  disable {{!parent.crop}}
 }
 Output {
  name Output1
  xpos 0
  ypos 1543
 }
end_group
Blur {
 channels rgba
 size 10
 name Blur2
 label "Size: \[ value size ]"
 xpos 5566
 ypos 10462
 disable true
}
push $Nc6914400
Merge2 {
 inputs 2
 operation plus
 bbox B
 mix 0.25
 name Merge12
 xpos 5916
 ypos 10468
 disable true
}
Merge2 {
 inputs 2
 name Merge24
 xpos 5916
 ypos 12482
}
Group {
 name apChroma
 help "Advanced chromatic drift gizmo, that works through a sub-frame blend of different values on an STMap and Transform, while creating a color spectrum.\n\napChroma v1.1\nadrianpueyo.com"
 knobChanged "n = nuke.thisNode()\nk = nuke.thisKnob()\nkn = k.name()\nif kn == \"monochrome\":\n    k.setValue(min(1,max(0,k.value())))\nelif kn == \"output_dist_matte\":\n    n.knob(\"output_matte_channel\").setEnabled(k.value())"
 tile_color 0x736efdff
 xpos 5916
 ypos 13112
 addUserKnob {20 apChroma}
 addUserKnob {26 text l "<b> Transform"}
 addUserKnob {41 translate T Transform17.translate}
 addUserKnob {41 rotate T Transform17.rotate}
 addUserKnob {41 scale T Transform17.scale}
 addUserKnob {41 center T Transform17.center}
 addUserKnob {22 center_on_input l "center on input" -STARTLINE T "n = nuke.thisNode()\ntry:\n    ni = n.input(0)\n    n\[\"center\"].setValue(\[ni.width()/2,ni.height()/2])\nexcept:\n    pass"}
 addUserKnob {7 smooth l "smooth<i style=\"color:#888\"></i>" t "Helps keep a lower sample number for large distortions by adding motion blur. The higher this value, the higher the motion blur quality.\n\nFor typical aberrations this won't be needed, so better avoid smoothing when possible by keeping it 0, as it is super heavy to compute!"}
 addUserKnob {41 invert_matrix l invert T Transform17.invert_matrix}
 addUserKnob {6 black_outside l "black outside" t "When disabled, the edges of your image will be extended in the aberration instead of seeing black entering through the first frequencies." -STARTLINE}
 addUserKnob {22 create_uv_map l " Create UV Map " T "n = nuke.thisNode()\nn.end()\nns = nuke.selectedNodes()\n\[i.setSelected(False) for i in ns]\nuv = nuke.nodes.Expression()\nuv.setXYpos(n.xpos()+140, n.ypos()-100)\nuv.setSelected(True)\nuv\[\"expr0\"].setValue(\"(x+0.5)/width\")\nuv\[\"expr1\"].setValue(\"(y+0.5)/height\")\nn.setInput(1,uv)\nd = nuke.createNode(\"Dot\")\nd.hideControlPanel()\nd.setYpos(int(n.ypos()+n.screenHeight()/2 - d.screenHeight()/2))\nuv.setSelected(False)\nd.setSelected(False)\n\[i.setSelected(True) for i in ns]" +STARTLINE}
 addUserKnob {26 breathe l "" +STARTLINE T " "}
 addUserKnob {26 text_1 l "<b> Settings"}
 addUserKnob {3 samples}
 samples 10
 addUserKnob {7 ab l aberration t "This drives the amount of color aberration.\n0 = No aberration at all, works as regular STMap.\n1 = Amount of aberration equal to the values of the input UV Map." R 0 2}
 ab 1
 addUserKnob {7 compensate t "Inverse the values of the distortion map so that the overall effect stays at the same position." R -1 1}
 compensate 1
 addUserKnob {7 monochrome t "With the same amount of \"color leak\", this desaturates the spectrum in that leak.\nAt value 1, the effect is similar to a directional blur."}
 addUserKnob {14 overscan R 0 100}
 addUserKnob {6 invert_spectrum l "invert spectrum" +STARTLINE}
 addUserKnob {6 calculate_multi_alpha l "calculate per-channel alpha" t "Also generates a channel layer called apChroma wich includes the transformed alphas for each of the rgba channels. This is necessary if you want to merge the result of this node onto a background. You'll need apChromaMerge or a similar gizmo in order to perform the special merge." -STARTLINE}
 calculate_multi_alpha true
 addUserKnob {6 output_dist_matte l "output distortion matte" t "Useful if you want to add a grading or iBlur afterwards, driven by the amount of chromatic aberration." +STARTLINE}
 addUserKnob {41 output_matte_channel l "" -STARTLINE T CopyAlpha.to0}
 addUserKnob {26 breathe3 l "" +STARTLINE T " "}
 addUserKnob {26 ""}
 addUserKnob {41 maskChannelMask l "mask " T MergeRGB.maskChannelMask}
 addUserKnob {41 inject -STARTLINE T MergeRGB.inject}
 addUserKnob {41 invert_mask l invert -STARTLINE T MergeRGB.invert_mask}
 addUserKnob {41 fringe -STARTLINE T MergeRGB.fringe}
 addUserKnob {41 mix T MergeRGB.mix}
 addUserKnob {26 version_author l "" t "apChroma v1.1\n2016-2019" +STARTLINE T "<span style=\"color:#666\"><br/><b>apChroma v1.1</b> - <a href=\"http://www.adrianpueyo.com\" style=\"color:#666;text-decoration: none;\">adrianpueyo.com</a>, 2016-2019</span>"}
 addUserKnob {20 Spectrum}
 addUserKnob {41 lut l "" +STARTLINE T CLP.lut}
 addUserKnob {22 lutPrepare l INVISIBLE +INVISIBLE T "n = nuke.thisNode()\ntry:\n    n.knob(\"lut\").delCurve(\"master\")\n    n.knob(\"lut\").delCurve(\"alpha\")\nexcept:\n    pass" +STARTLINE}
 addUserKnob {52 lutPrepareGo T "nuke.thisNode()\[\"lutPrepare\"].execute()" +STARTLINE}
}
 ColorLookup {
  inputs 0
  use_precomputed false
  lut {master {}
    red {curve C 0 s0 x0.3128865659 1 s-0 v0.7904256582 x0.7806204557 -0.0007482314769 s0 u1.743535638 v1.742119074 x0.9418143034 0.06970721483 s-0.05000000075 x1 0 s0}
    green {curve C x0.1143286526 0 s0.01999999955 v1.837088585 x0.530087471 1 s-0.05000000075 u1.36422956 v1.120811939 x0.9743717909 0 s-0 u2.045060158}
    blue {curve C x0.6321670413 0 s0 x0.8160832524 0.99800843 s0 x1 0 s0}
    alpha {}}
  name CLP
  label "Natural Spectrum"
  xpos 137
  ypos -191
 }
 Input {
  inputs 0
  name Inputmask
  xpos -498
  ypos 449
  number 2
 }
 Dot {
  name Dot25
  note_font_size 41
  xpos -464
  ypos 494
 }
set Nc6cbc000 [stack 0]
 Dot {
  name Dot21
  xpos -464
  ypos 532
 }
set Nc6cbc400 [stack 0]
 Dot {
  name Dot24
  note_font_size 41
  xpos -464
  ypos 576
 }
 Input {
  inputs 0
  name Inputimg
  xpos -388
  ypos -554
 }
 NoTimeBlur {
  rounding none
  name NoTB
  xpos -388
  ypos -528
 }
 AdjBBox {
  numpixels {{parent.overscan} {parent.overscan}}
  name AdjBBox
  xpos -388
  ypos -502
 }
set Nc6cbd400 [stack 0]
 Dot {
  name Dot1
  xpos -47
  ypos -498
 }
set Nc6cbd800 [stack 0]
 Expression {
  expr0 (x+0.5)/width
  expr1 (y+0.5)/height
  expr2 0
  name ExpressionUVDefault
  xpos 118
  ypos -502
 }
 Input {
  inputs 0
  name Inputuv
  xpos 279
  ypos -558
  number 1
 }
 Switch {
  inputs 2
  which 1
  name SwitchUV
  xpos 279
  ypos -502
  disable {{"\[exists parent.input1]"}}
 }
 NoTimeBlur {
  rounding none
  name NoTB1
  xpos 279
  ypos -476
 }
 Dot {
  name Dot3
  note_font_size 41
  xpos 313
  ypos -275
 }
set Nc6ce4c00 [stack 0]
 Dot {
  name Dot11
  note_font_size 41
  xpos 447
  ypos -275
 }
 Remove {
  name Remove1
  xpos 413
  ypos -257
 }
 Expression {
  expr0 (x+0.5)/width
  expr1 (y+0.5)/height
  expr2 0
  expr3 0
  name ExpressionUV
  xpos 413
  ypos -219
 }
 Dot {
  name Dot13
  note_font_size 41
  xpos 447
  ypos -183
 }
set Nc6ce5c00 [stack 0]
 Dot {
  name Dot15
  note_font_size 41
  xpos 690
  ypos -183
 }
set Nc6d06000 [stack 0]
 Multiply {
  channels {rgba.red rgba.green -rgba.blue none}
  value {{1-parent.ab} {1-parent.ab} 1 1}
  name Multiply6
  xpos 656
  ypos -98
 }
 Dot {
  name Dot16
  xpos 690
  ypos -38
 }
push $Nc6ce4c00
 Dot {
  name Dot27
  note_font_size 41
  xpos 214
  ypos -275
 }
 Dot {
  name Dot5
  note_font_size 41
  xpos 214
  ypos -233
 }
push $Nc6ce4c00
 Merge2 {
  inputs 2
  operation copy
  name Merge3
  xpos 279
  ypos -237
 }
 Dot {
  name Dot8
  note_font_size 41
  xpos 313
  ypos -164
 }
set Nc6d07800 [stack 0]
 Dot {
  name Dot14
  note_font_size 41
  xpos 600
  ypos -164
 }
 Multiply {
  channels {rgba.red rgba.green -rgba.blue none}
  value {{parent.ab} {parent.ab} 0 0}
  name Multiply5
  xpos 566
  ypos -98
 }
 Merge2 {
  inputs 2
  operation plus
  bbox B
  output rgb
  name Merge4
  xpos 566
  ypos -42
 }
 Transform {
  scale 1.0015
  center {1024 576}
  motionblur {{parent.smooth}}
  shutter {{1/parent.samples}}
  shutteroffset centred
  name Transform17
  label control
  xpos 566
 }
set Nc6d2a800 [stack 0]
push $Nc6d06000
 Dot {
  name Dot18
  note_font_size 41
  xpos 831
  ypos -183
 }
 CopyBBox {
  inputs 2
  name CopyBBox1
  xpos 797
  ypos 6
 }
 Dot {
  name Dot19
  xpos 831
  ypos 77
 }
push $Nc6d2a800
 Merge2 {
  inputs 2
  operation difference
  bbox B
  name Merge5
  xpos 566
  ypos 73
 }
 Expression {
  expr3 sqrt(pow2(r)+pow2(g))
  name ExpressionDiff
  xpos 566
  ypos 99
 }
 Dot {
  name Dot9
  xpos 600
  ypos 376
 }
push $Nc6cbd800
 Dot {
  name Dot2
  note_font_size 41
  xpos -47
  ypos -436
 }
set Nc6d60400 [stack 0]
 Dot {
  name Dot17
  note_font_size 41
  xpos 31
  ypos -436
 }
 Dot {
  name Dot26
  note_font_size 41
  xpos 31
  ypos -347
 }
push $Nc6d60400
add_layer {apChroma apChroma.red apChroma.green apChroma.blue apChroma.alpha}
 Shuffle {
  alpha white
  black alpha
  white alpha
  red2 alpha
  out2 {apChroma.red apChroma.green apChroma.blue -apChroma.alpha}
  name ShuffleAlpha1
  xpos -81
  ypos -401
 }
 Merge2 {
  inputs 2
  operation copy
  Bchannels none
  name MergeGetChroma
  xpos -81
  ypos -351
  disable {{"\[\nif \{ \[lsearch -exact \[channels \[input this 1]] \[lindex \[channels MergeChosen] 0]] >= 0\} \{\n    return 0\n\} else \{\n    return 1\n\}\n]"}}
 }
 Remove {
  channels apChroma
  name Remove_apChroma
  xpos -81
  ypos -278
  disable {{parent.calculate_multi_alpha}}
 }
add_layer {apChromaWeight apChromaWeight.red apChromaWeight.green apChromaWeight.blue apChromaWeight.alpha}
 AddChannels {
  channels apChromaWeight
  color 1
  name AddChannels1
  xpos -81
  ypos -240
 }
 Multiply {
  value {{!parent.invert_spectrum?CL.lut.red(TB.frf):CL.lut.red(1-TB.frf)} {!parent.invert_spectrum?CL.lut.green(TB.frf):CL.lut.green(1-TB.frf)} {!parent.invert_spectrum?CL.lut.blue(TB.frf):CL.lut.blue(1-TB.frf)} {!parent.invert_spectrum?CL.lut.red(TB.frf):CL.lut.red(1-TB.frf)}}
  name Multiply1
  xpos -81
  ypos -189
  addUserKnob {20 User}
  addUserKnob {19 fullcolor}
  fullcolor {{!parent.invert_spectrum?CLP.lut.red(TB.frf):CLP.lut.red(1-TB.frf)} {!parent.invert_spectrum?CLP.lut.green(TB.frf):CLP.lut.green(1-TB.frf)} {!parent.invert_spectrum?CLP.lut.blue(TB.frf):CLP.lut.blue(1-TB.frf)} {!parent.invert_spectrum?CLP.lut.red(TB.frf):CLP.lut.red(1-TB.frf)}}
  addUserKnob {6 fullcolor_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1 l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
  addUserKnob {6 fullcolor_panelDropped_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 }
 Dot {
  name Dot6
  note_font_size 41
  xpos -47
  ypos -141
 }
set Nc6d8a400 [stack 0]
 Dot {
  name Dot7
  note_font_size 41
  xpos -139
  ypos -141
 }
 Dot {
  name Dot10
  note_font_size 41
  xpos -139
  ypos 90
 }
push $Nc6d07800
 Multiply {
  channels {rgba.red rgba.green -rgba.blue none}
  value {{"(TB.frf-.5)*parent.ab + 0.5*(1-parent.compensate)"} {"(TB.frf-.5)*parent.ab + 0.5*(1-parent.compensate)"} 0 0}
  name Multiply3
  xpos 279
  ypos -146
 }
 Dot {
  name Dot12
  note_font_size 41
  xpos 313
  ypos -108
 }
push $Nc6ce5c00
 Multiply {
  channels {rgba.red rgba.green -rgba.blue none}
  value {{"(1- ((TB.frf-.5)*parent.ab + 0.5*(1-parent.compensate)) )" i} {"(1- ((TB.frf-.5)*parent.ab + 0.5*(1-parent.compensate)) )" i} 1 1}
  name Multiply4
  xpos 413
  ypos -145
 }
 Merge2 {
  inputs 2
  operation plus
  Achannels {rgba.red rgba.green -rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green -rgba.blue -rgba.alpha}
  output {rgba.red rgba.green -rgba.blue -rgba.alpha}
  name Merge1
  xpos 413
  ypos -112
 }
 Dot {
  name Dot4
  xpos 447
  ypos 43
 }
push $Nc6d8a400
 Remove {
  channels apChromaWeight
  name Remove3
  xpos -81
  ypos -104
 }
 Transform {
  translate {{"parent.Transform17.translate*((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate))"} {"parent.Transform17.translate*((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate))"}}
  rotate {{"parent.Transform17.rotate*((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate))"}}
  scale {{"parent.Transform17.scale*((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate)) + 1 - ((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate)) "} {"parent.Transform17.scale*((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate)) + 1 - ((TB.frf-0.5)*parent.ab+ 0.5*(1-parent.compensate)) "}}
  center {{parent.Transform17.center} {parent.Transform17.center}}
  invert_matrix {{parent.Transform17.invert_matrix}}
  black_outside {{parent.black_outside}}
  motionblur {{parent.smooth}}
  shutter {{1/parent.samples}}
  name TransformI
  xpos -81
  ypos -66
 }
 Blur {
  channels rgba
  name Blur1
  xpos -81
  ypos -40
  addUserKnob {20 User}
  addUserKnob {26 info l "" +STARTLINE T "needed to break concatenation and make sure mblur works with the stmaps"}
 }
 STMap {
  inputs 2
  uv rgb
  blur_scale 0
  name STMap1
  xpos -81
  ypos 33
  disable {{"!\[exists parent.input1]"}}
 }
 Copy {
  inputs 2
  channels apChromaWeight
  name Copy2
  xpos -81
  ypos 74
 }
 TimeBlur {
  divisions {{parent.samples}}
  shutter 1
  shutteroffset start
  shuttercustomoffset 0
  name TB
  xpos -81
  ypos 124
  addUserKnob {20 User}
  addUserKnob {7 frf}
  frf {{(frame%1)*(parent.samples+1)/parent.samples}}
 }
set Nc6db5800 [stack 0]
push $Nc6db5800
 Shuffle {
  in apChromaWeight
  name Shuffle2
  label "\[value in]"
  xpos 89
  ypos 118
 }
set Nc6db5c00 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  bbox A
  metainput A
  rangeinput A
  Achannels apChroma
  output apChroma
  name Merge6
  xpos 89
  ypos 227
 }
push $Nc6db5800
push $Nc6db5c00
 Merge2 {
  inputs 2
  operation divide
  bbox A
  metainput A
  rangeinput A
  name Merge2
  xpos -81
  ypos 195
 }
 Copy {
  inputs 2
  channels apChroma
  name Copy3
  xpos -81
  ypos 221
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 apChroma.alpha
  from1 rgba.alpha
  to1 rgba.alpha
  bbox B
  name Copy1
  xpos -81
  ypos 360
 }
 Dot {
  name Dot22
  note_font_size 41
  xpos -47
  ypos 494
 }
set Nc6def000 [stack 0]
 Dot {
  name Dot20
  xpos -47
  ypos 532
 }
set Nc6def400 [stack 0]
 Dot {
  name Dot23
  note_font_size 41
  xpos -47
  ypos 576
 }
push $Nc6cbc400
push $Nc6def400
push $Nc6cbc000
push $Nc6def000
push $Nc6cbd400
 Merge2 {
  inputs 2+1
  operation copy
  Achannels rgb
  Bchannels rgb
  output rgb
  also_merge apChroma
  name MergeRGB
  xpos -388
  ypos 490
 }
 Copy {
  inputs 2+1
  channels apChroma
  inject {{parent.MergeRGB.inject}}
  invert_mask {{parent.MergeRGB.invert_mask}}
  fringe {{parent.MergeRGB.fringe}}
  mix {{parent.MergeRGB.mix}}
  name Copy_apChroma
  xpos -388
  ypos 516
  disable {{!parent.calculate_multi_alpha}}
 }
 Copy {
  inputs 2+1
  from0 rgba.alpha
  to0 rgba.alpha
  name CopyAlpha
  xpos -388
  ypos 566
  disable {{!parent.output_dist_matte}}
 }
 Output {
  name Output
  xpos -388
  ypos 604
 }
 ColorLookup {
  inputs 0
  channels rgb
  lut {master {}
    red {"CLP.lut.red * (1-parent.monochrome) + parent.monochrome" C 0 1}
    green {"CLP.lut.green * (1-parent.monochrome) + parent.monochrome" C 0 1}
    blue {"CLP.lut.blue * (1-parent.monochrome) + parent.monochrome" C 0 1}
    alpha {"CLP.lut.alpha * (1-parent.monochrome) + parent.monochrome" C 0 1}}
  name CL
  label monochrome
  xpos 27
  ypos -149
 }
 Merge2 {
  inputs 0
  operation copy
  Bchannels none
  name MergeChosen
  xpos -209
  ypos -351
  hide_input true
 }
end_group
Group {
 name AlexaGrain
 label "ISO \[value ISO]\n\[value GrainSample]"
 xpos 5916
 ypos 13204
 addUserKnob {20 Basic}
 addUserKnob {4 GrainSample l "Grain Sample" t "Alexa 65:\n6560 x 3100 - 6.5k (65)\n\nAlexa LF:\n4480 x 3096 - 4.5k (LF)\n3840 x 2160 - UHD (LF)\n\nAlexa SXT:\n4096 x 2636 - 3.4k (XT)\n3840 x 2160 - 3.2k (XT)\n3424 x 2202 - 3.4k (XT)\n3200 x 1800 - 3.2k (XT)\n2880 x 1620 - 2.8k (XT)\n2048 x 1152 - 2.8k (XT)\n1920 x 1080 - 2.8k (XT)  " M {InputRes "6.5k (65)" "4.5k (LF)" "UHD (LF)" "3.4k (XT)" "3.2k (XT)" "2.8k (XT)" "" "" "" "" "" "" ""}}
 GrainSample "3.2k (XT)"
 addUserKnob {6 ResizetoInput l "Resize to input" -STARTLINE}
 ResizetoInput true
 addUserKnob {4 ISO l "ISO Sensitivity" M {160 200 250 320 400 500 640 "800 (native)" 1000 1280 1600 2000 2560 3200 "" "" "" "" "" "" "" ""}}
 ISO "800 (native)"
 addUserKnob {3 Seed l "Grain Seed"}
 addUserKnob {26 ""}
 addUserKnob {18 Overall_Amount l "Overall Amount"}
 Overall_Amount 0.9
 addUserKnob {6 Overall_Amount_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Overall_Amount_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {26 ""}
 addUserKnob {18 DeepBlacks l "Deep Blacks"}
 DeepBlacks {1 1 1}
 addUserKnob {6 DeepBlacks_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 BlacksLow l "Blacks Low"}
 BlacksLow 0.10022474
 addUserKnob {7 BlacksHigh l "Blacks High"}
 BlacksHigh 0.28105982
 addUserKnob {6 DeepBlacks_panelDropped_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 ViewBlacks l "View Blacks" +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {18 Whites}
 Whites {1 1 1}
 addUserKnob {6 Whites_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 Whites_panelDropped_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {7 WhitesLow l "Whites Low"}
 WhitesLow 0.36362718
 addUserKnob {7 WhitesHigh l "Whites High"}
 WhitesHigh 0.58147438
 addUserKnob {6 ViewWhites l "View Whites" +STARTLINE}
 addUserKnob {6 Whites_panelDropped_1_1_1_1_1_1_1_1_1 l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {26 ""}
 addUserKnob {20 Sharpness n 1}
 addUserKnob {7 RSharp l "Red Sharpness"}
 RSharp 0.25
 addUserKnob {7 GSharp l "Green Sharpness"}
 GSharp 0.25
 addUserKnob {7 BSharp l "Blue Sharpness"}
 BSharp 0.1
 addUserKnob {20 endGroup n -1}
 addUserKnob {20 Softness n 1}
 Softness 0
 addUserKnob {7 RSoft l "Red Softness"}
 addUserKnob {7 GSoft l "Green Softness"}
 addUserKnob {7 BSoft l "Blue Softness"}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {20 Size n 1}
 Size 0
 addUserKnob {7 LSize l "Luma Size" R 0.5 1.5}
 LSize 1
 addUserKnob {7 RSize l "Red Size" R 0.5 1.5}
 RSize 1
 addUserKnob {7 GSize l "Green Size" R 0.5 1.5}
 GSize 1
 addUserKnob {7 BSize l "Blue SIze" R 0.5 1.5}
 BSize 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 INFO l "" +STARTLINE T "(c) Riley Gray 2020 - v1.1"}
 addUserKnob {20 Response}
 addUserKnob {41 lut l "" -STARTLINE T Film_Response.lut}
 addUserKnob {26 ResponseInfo l "" +STARTLINE T "\nThe above response curve was made at an iso setting of 800 (native). Changing the iso setting in this tool actually \nchanges the exposure of the plate up or down, then applies the response curve, then re applys the exposure \nchange to balance for middle grey (what the alexa actually does when you change iso). Therefore, if you wish to \nchange the response curve do it at iso 800 or look at the exposed up or down plate in the tool while sampling.  "}
}
 BackdropNode {
  inputs 0
  name BackdropNode1
  tile_color 0x388e8e00
  label "Sharpness\nSoftness"
  note_font_size 42
  xpos -527
  ypos -419
  bdwidth 572
  bdheight 266
 }
 BackdropNode {
  inputs 0
  name BackdropNode2
  tile_color 0x71c67100
  label "Response \nISO"
  note_font_size 42
  xpos -527
  ypos -134
  bdwidth 577
  bdheight 257
 }
 BackdropNode {
  inputs 0
  name BackdropNode3
  tile_color 0x8e8e3800
  label "Whites\nBlacks"
  note_font_size 42
  xpos -526
  ypos 147
  bdwidth 583
  bdheight 313
 }
 BackdropNode {
  inputs 0
  name BackdropNode4
  tile_color 0x7d7164ff
  label VIEWS
  note_font_size 42
  xpos -39
  ypos 647
  bdwidth 326
  bdheight 268
 }
 Input {
  inputs 0
  name Input1
  xpos 509
  ypos -1177
 }
 Dot {
  name Dot74
  label PLATE
  note_font_size 24
  xpos 543
  ypos -1006
 }
 Dot {
  name Dot72
  xpos 543
  ypos -64
 }
set Nc6e64c00 [stack 0]
 Dot {
  name Dot1
  xpos 543
  ypos 211
 }
set Nc6e65000 [stack 0]
 Colorspace {
  colorspace_out AlexaV3LogC
  name Colorspace1
  xpos 295
  ypos 208
 }
 Dot {
  name Dot9
  xpos 177
  ypos 211
 }
set Nc6e65800 [stack 0]
 Dot {
  name Dot2
  xpos 177
  ypos 374
 }
 Keyer {
  invert true
  operation "luminance key"
  range {{parent.BlacksLow} {parent.BlacksHigh} 1 1}
  name Keyer1
  xpos -74
  ypos 365
 }
set Nc6e8a000 [stack 0]
 Dot {
  name Dot5
  xpos 115
  ypos 727
  hide_input true
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Whites
  xpos 81
  ypos 768
 }
set Nc6e8a800 [stack 0]
 Dot {
  name Dot8
  xpos 5
  ypos 771
 }
push $Nc6e65800
 Keyer {
  operation "luminance key"
  range {{parent.WhitesLow} {parent.WhitesHigh} 1 1}
  name Keyer2
  xpos -74
  ypos 202
 }
set Nc6e8b000 [stack 0]
 Dot {
  name Dot4
  xpos 231
  ypos 728
  hide_input true
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Blacks
  xpos 197
  ypos 767
 }
 Dot {
  name Dot3
  xpos 231
  ypos 808
 }
set Nc6e8bc00 [stack 0]
 ContactSheet {
  inputs 2
  width {{Dot74.width}}
  height {{Dot74.width/2}}
  rows 1
  columns 2
  center true
  name ContactSheet1
  xpos -29
  ypos 805
 }
 Dot {
  name Dot6
  xpos 5
  ypos 890
 }
push $Nc6e8a800
 Dot {
  name Dot7
  xpos 115
  ypos 844
 }
push $Nc6e8bc00
 Switch {
  inputs 2
  which {{"parent.ViewBlacks == 1? 1:0"}}
  name Switch2
  xpos 197
  ypos 841
 }
 Switch {
  inputs 2
  which {{"parent.ViewWhites + parent.ViewBlacks == 2? 1:0 "}}
  name Switch3
  xpos 197
  ypos 887
 }
push $Nc6e8a000
push $Nc6e8b000
push $Nc6e64c00
 EXPTool {
  mode Stops
  gang false
  red {{(ISO==0?-2.333333333:ISO==1?-2:ISO==2?-1.6:ISO==3?-1.3:ISO==4?-1:ISO==5?-.6:ISO==6?-.3:ISO==7?0:ISO==8?.3:ISO==9?.6:ISO==10?1:ISO==11?1.3:ISO==12?1.6:2)/-1}}
  green {{red}}
  blue {{red}}
  name Exposure
  label Compensation
  xpos -78
  ypos -73
 }
 ColorLookup {
  channels rgb
  lut {master {}
    red {curve C x0.002999480115 0.1362445652 x0.1373360008 0.4889034033 s2 v0.7107599974 x1 1.239727497 s0.4499999881}
    green {curve C 0.110607639 x0.135157004 0.5191542506 s1.5 x1 1.144214392 s0.400000006}
    blue {curve C 0.1032338738 x0.1281179935 0.3248756528 x1 1}
    alpha {}}
  name Film_Response
  xpos -78
  ypos -23
 }
 EXPTool {
  mode Stops
  gang false
  red {{ISO==0?-2.333333333:ISO==1?-2:ISO==2?-1.6:ISO==3?-1.3:ISO==4?-1:ISO==5?-.6:ISO==6?-.3:ISO==7?0:ISO==8?.3:ISO==9?.6:ISO==10?1:ISO==11?1.3:ISO==12?1.6:2}}
  green {{red}}
  blue {{red}}
  name ISO_Exposure
  xpos -78
  ypos 13
 }
 Reformat {
  inputs 0
  type "to box"
  box_width {{"GrainSample == 0? Dot74.width:GrainSample == 1?6560 : GrainSample == 2? 4448: GrainSample == 3? 3840: GrainSample == 4? 3424: GrainSample == 5? 3200: 2880"}}
  box_height {{"(box_width/ (Dot74.width/Dot74.height))"}}
  box_fixed true
  name SensorSize
  xpos -204
  ypos -1016
 }
 Dot {
  name Dot13
  xpos -170
  ypos -911
 }
set Nc6f04800 [stack 0]
 Dot {
  name Dot14
  xpos -45
  ypos -911
 }
set Nc6f04c00 [stack 0]
 Dot {
  name Dot15
  xpos 81
  ypos -911
 }
set Nc6f05000 [stack 0]
 Dot {
  name Dot16
  xpos 214
  ypos -911
 }
 Noise {
  output {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  size {{"parent.BSize *8"}}
  zoffset {{"parent.LNoise2.zoffset +100"}}
  gain 1
  gamma 1
  center {1024 778}
  name bNoise3
  selected true
  xpos 180
  ypos -863
 }
 Add {
  channels rgb
  value -0.5
  name Add7
  xpos 180
  ypos -810
 }
 Multiply {
  channels rgb
  value 0.022
  name Multiply8
  xpos 180
  ypos -786
 }
push $Nc6f05000
 Noise {
  output {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  size {{"parent.GSize *4"}}
  zoffset {{"parent.LNoise2.zoffset +10"}}
  gain 1
  gamma 0.998
  center {1024 778}
  name gNoise1
  xpos 47
  ypos -861
 }
 Add {
  channels rgb
  value -0.5
  name Add6
  xpos 47
  ypos -812
 }
 Multiply {
  channels rgb
  value 0.01
  name Multiply7
  xpos 47
  ypos -788
 }
push 0
push $Nc6f04c00
 Noise {
  output {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  size {{parent.RSize*6.5}}
  zoffset {{parent.LNoise2.zoffset}}
  gain 1
  gamma 1
  center {1024 778}
  name rNoise2
  xpos -79
  ypos -862
 }
 Add {
  channels rgb
  value -0.5
  name Add5
  xpos -79
  ypos -810
 }
 Multiply {
  channels rgb
  value 0.03
  name Multiply6
  xpos -79
  ypos -786
 }
push $Nc6f04800
 Noise {
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  size {{parent.LSize*2}}
  zoffset {{"parent.Seed + frame"}}
  gain 1
  gamma 0.998
  center {1024 778}
  name LNoise2
  xpos -204
  ypos -862
 }
 Add {
  channels rgb
  value -0.5
  name Add4
  xpos -204
  ypos -811
 }
 Multiply {
  channels rgb
  value 0.035
  name Multiply5
  xpos -204
  ypos -787
 }
 Merge2 {
  inputs 4+1
  operation plus
  name Merge7
  xpos -204
  ypos -687
 }
 Multiply {
  channels rgb
  value {1.6 2 3 1}
  name Multiply1
  xpos -204
  ypos -644
 }
 Colorspace {
  colorspace_out AlexaV3LogC
  name Colorspace3
  xpos -204
  ypos -535
 }
 Reformat {
  type "to box"
  box_width {{Dot74.width}}
  box_height {{Dot74.height}}
  box_fixed true
  filter Lanczos6
  name Reformat1
  xpos -204
  ypos -511
  disable {{1-parent.ResizetoInput}}
 }
 Colorspace {
  colorspace_in AlexaV3LogC
  name Colorspace2
  xpos -204
  ypos -487
 }
 Sharpen {
  channels {rgba.red -rgba.green -rgba.blue none}
  amount {{parent.RSharp}}
  name RedSharpen2
  xpos -204
  ypos -358
 }
 Sharpen {
  channels {-rgba.red rgba.green -rgba.blue none}
  amount {{parent.GSharp}}
  name GreenSharpen
  xpos -204
  ypos -334
 }
 Sharpen {
  channels {-rgba.red -rgba.green rgba.blue none}
  amount {{parent.BSharp}}
  name BlueSharpen
  xpos -204
  ypos -310
 }
 Blur {
  channels {rgba.red -rgba.green -rgba.blue none}
  size {{parent.RSoft}}
  name RedBlur
  xpos -204
  ypos -252
 }
 Blur {
  channels {-rgba.red rgba.green -rgba.blue none}
  size {{parent.GSoft}}
  name GreenBlur
  xpos -204
  ypos -228
 }
 Blur {
  channels {-rgba.red -rgba.green rgba.blue none}
  size {{parent.BSoft}}
  name BlueBlur
  xpos -204
  ypos -204
 }
 Multiply {
  channels rgb
  value {{parent.Overall_Amount} {parent.Overall_Amount} {parent.Overall_Amount} {parent.Overall_Amount}}
  name Overall
  xpos -204
  ypos -69
 }
 Merge2 {
  inputs 2
  operation multiply
  output rgb
  name Merge58
  xpos -204
  ypos 13
 }
 Multiply {
  inputs 1+1
  channels rgb
  value {{parent.Whites.r} {parent.Whites.g} {parent.Whites.b} 1}
  name WHITES
  xpos -204
  ypos 208
 }
 Multiply {
  inputs 1+1
  channels rgb
  value {{parent.DeepBlacks} {parent.DeepBlacks} {parent.DeepBlacks} 1}
  name BLACKS
  xpos -204
  ypos 371
 }
 Dot {
  name Dot73
  xpos -170
  ypos 548
 }
push $Nc6e65000
 Merge2 {
  inputs 2
  operation plus
  bbox B
  output rgb
  name Merge57
  xpos 509
  ypos 545
 }
 Switch {
  inputs 2
  which {{"clamp(parent.ViewWhites + parent.ViewBlacks) "}}
  name Switch4
  xpos 509
  ypos 887
 }
 Output {
  name Output1
  xpos 509
  ypos 998
 }
end_group
Group {
 name apVignette
 help "apVignette v0.4 - apEssentials by Adrian Pueyo\n\nSimple and lightweight vignetting gizmo.\n\nadrianpueyo.com, 2014-2018"
 tile_color 0x8c8c8cff
 xpos 5916
 ypos 13335
 addUserKnob {20 apeVignette}
 addUserKnob {7 aspect t "Aspect ratio multiplier for the vignetting." R 0 4}
 aspect 1
 addUserKnob {6 img_format l "image format" t "...otherwise spherical.\nThis also gets affected by the aspect multiplier." -STARTLINE}
 img_format true
 addUserKnob {7 size t "Shutter size multiplier relative to the plate width." R 0 2}
 size 2
 addUserKnob {7 falloff t "Gamma of the effect's alpha." R 0 3}
 falloff 1
 addUserKnob {26 ""}
 addUserKnob {7 amount t "Multiplier for the effect's alpha." R 0 2}
 addUserKnob {41 color t "Multiplier for the image, through the resulting alpha." T Multiply1.value}
 addUserKnob {6 output_alpha l "output matte in alpha" +STARTLINE}
 addUserKnob {26 version_author l "" t "apeVignette v0.4\n2014-2018" +STARTLINE T "<span style=\"color:#666\"><br/><b>apeVignette v0.4</b> - <a href=\"http://www.adrianpueyo.com\" style=\"color:#666;text-decoration: none;\">adrianpueyo.com</a>, 2014-2018</span>"}
}
 Input {
  inputs 0
  name Input
  xpos 110
  ypos 24
 }
set Nc700b800 [stack 0]
 Radial {
  output alpha
  replace true
  invert true
  area {{"width/2 * (1 - parent.size)"} {height/2-(parent.img_format?height:width)/(2*parent.aspect)*parent.size} {"width/2 * (1 + parent.size)"} {height/2+(parent.img_format?height:width)/(2*parent.aspect)*parent.size}}
  name Radial1
  xpos 220
  ypos 20
 }
 Gamma {
  channels alpha
  value {{1/parent.falloff}}
  name Gamma1
  xpos 220
  ypos 52
 }
 Multiply {
  channels alpha
  value {{parent.amount}}
  name Multiply2
  xpos 220
  ypos 84
 }
set Nc703c400 [stack 0]
push $Nc703c400
push $Nc700b800
 Multiply {
  inputs 1+1
  channels rgb
  value 0
  name Multiply1
  selected true
  xpos 110
  ypos 88
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  name CopyA
  xpos 110
  ypos 112
  disable {{!parent.output_alpha}}
 }
 Output {
  name Output1
  xpos 110
  ypos 144
 }
end_group
Remove {
 operation keep
 channels rgb
 name Remove9
 xpos 5916
 ypos 13852
}
set Nc703d400 [stack 0]
Dot {
 name Dot79
 xpos 5393
 ypos 13843
}
Mirror2 {
 name Mirror2_1
 xpos 5371
 ypos 13978
}
Blur {
 size 20
 name Blur3
 label "Size: \[ value size ]"
 xpos 5371
 ypos 14070
 disable true
}
push $Nc10fe800
Dot {
 name Dot13
 label _bg_crypto
 note_font " Italic"
 note_font_size 22
 xpos 5425
 ypos 10276
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{2} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.002225135919 0.003829963505 0.00472911587 0 524 613 525 614}
 matteList window_kitchen_buildings_main_grp/window_kitchen_buildings_main_geo/window_kitchen_buildings_main_geoProxy
 lastSelectedCryptoLayerName crypto_node
 name Cryptomatte12
 xpos 5391
 ypos 10314
}
push $Nbb94f000
Shuffle2 {
 fromInput1 {{0} B}
 in1 bumpNormals
 out1 N
 fromInput2 {{0} B}
 mappings "3 bumpNormals.X 0 0 N.X 0 0 bumpNormals.Y 0 1 N.Y 0 1 bumpNormals.Z 0 2 N.Z 0 2"
 name Shuffle22
 label "\[ value in1 ]"
 xpos 8173
 ypos -6177
}
Remove {
 operation keep
 channels N
 name Remove11
 xpos 8173
 ypos -6126
}
Dot {
 name _char_normals
 label "\[value name]"
 note_font_size 33
 xpos 8207
 ypos -5982
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
push $Nbbbe3800
Dot {
 name Dot108
 label _char_crypto
 note_font " Italic"
 note_font_size 22
 xpos 9927
 ypos 4793
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Cryptomatte {
 cryptoLayerChoice {{1} crypto_asset crypto_shape crypto_node crypto_mesh}
 pickerAdd {0.05553328618 0.07873702049 0.2400142252 0 1492 578 1493 579}
 matteList "m:/local_asset_repository/cinderella/buildings/window_attic/main/window_attic_buildings_main_geo.abc//window_attic_buildings_main__glass_left_geo/window_attic_buildings_main__glass_left_geoShape\nm:/local_asset_repository/cinderella/buildings/window_attic/main/window_attic_buildings_main_geo.abc//window_attic_buildings_main__glass_right_geo/window_attic_buildings_main__glass_right_geoShape"
 lastSelectedCryptoLayerName crypto_shape
 name Cryptomatte36
 xpos 9893
 ypos 4853
}
PxF_ZDefocus {
 inputs 0
 name PxF_ZDefocus5
 xpos 32484
 ypos -4685
}
Constant {
 inputs 0
 channels rgb
 color {0.4673614502 0.4668614566 0.662361443 0.7827928066}
 name Constant4
 xpos 10437
 ypos 11223
}
Read {
 inputs 0
 file_type mov
 file O:/cinderella/tools/compositing/elements/Arctic_Frost_09.mp4
 format "4096 2160 0 0 4096 2160 1 4K_DCP"
 last 721
 origlast 721
 origset true
 colorspace color_picking
 name Read8
 xpos 10500
 ypos -6570
}
Reformat {
 type scale
 scale 0.5
 name Reformat1
 xpos 10500
 ypos -6474
}
Dot {
 name frost_1
 label "\[value name]"
 note_font_size 33
 xpos 10534
 ypos -6374
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Read {
 inputs 0
 file_type mov
 file O:/cinderella/tools/compositing/elements/Arctic_Frost_10.mp4
 format "4096 2160 0 0 4096 2160 1 4K_DCP"
 last 721
 origlast 721
 origset true
 colorspace color_picking
 name Read10
 xpos 10798
 ypos -6579
}
Transform {
 scale 1.5
 center {2048 1080}
 name Transform1
 xpos 10798
 ypos -6483
}
Reformat {
 type scale
 scale 0.5
 name Reformat3
 xpos 10798
 ypos -6453
}
Dot {
 name frost_3
 label "\[value name]"
 note_font_size 33
 xpos 10832
 ypos -6368
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Read {
 inputs 0
 file_type mov
 file O:/cinderella/tools/compositing/elements/Arctic_Frost_07.mp4
 format "4096 2160 0 0 4096 2160 1 4K_DCP"
 last 721
 origlast 721
 origset true
 colorspace color_picking
 name Read11
 xpos 10949
 ypos -6580
}
Reformat {
 type scale
 scale 0.5
 name Reformat4
 xpos 10949
 ypos -6484
}
Dot {
 name frost_4
 label "\[value name]"
 note_font_size 33
 xpos 10983
 ypos -6369
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
push $Nbb98c800
push $Nbbc2e000
Dot {
 name Dot115
 label _char_beauty
 note_font " Italic"
 note_font_size 22
 xpos 9782
 ypos -6507
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Merge2 {
 inputs 2
 operation mask
 name Merge48
 xpos 9748
 ypos -6399
}
Dot {
 name Dot116
 xpos 9782
 ypos -6264
}
push $Nc112b800
Dot {
 name Dot114
 label _bg_beauty
 note_font " Italic"
 note_font_size 22
 xpos 9458
 ypos -6508
 hide_input true
 addUserKnob {20 User}
 addUserKnob {26 child}
}
Merge2 {
 inputs 2
 name Merge39
 xpos 9424
 ypos -6267
}
Dot {
 name __bg+char
 label "\[value name]"
 note_font_size 33
 xpos 9458
 ypos -6166
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
Read {
 inputs 0
 file_type exr
 file //192.168.99.202/prj/cinderella/render/ep98/sq261/sh000/comp/exr/ep98_sq261_sh000.%04d.exr
 format "2048 858 0 0 2048 858 1 cinderella"
 origset true
 version 15
 name Read2
 xpos 11779
 ypos -6594
}
Dot {
 name __ref_location
 label "\[value name]"
 note_font_size 33
 xpos 11813
 ypos -6292
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
push $Ncb2bcc00
ViewMetaData {
 name ViewMetaData1
 xpos 5708
 ypos -6505
}
push $Ncb2bd000
LayerContactSheet {
 showLayerNames true
 name LayerContactSheet4
 xpos 5871
 ypos -6427
}
Dot {
 name _bg_contactsheet
 label "\[value name]"
 note_font_size 33
 xpos 6159
 ypos -6424
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
push $Nbb94e000
LayerContactSheet {
 showLayerNames true
 name LayerContactSheet1
 xpos 7876
 ypos -6426
}
Dot {
 name _char_contactsheet
 label "\[value name]"
 note_font_size 33
 xpos 8406
 ypos -6423
 addUserKnob {20 User}
 addUserKnob {26 parent}
}
push $Nc112b800
push 0
push $Nc703d400
push $Nbb98cc00
Viewer {
 inputs 4
 frame 1
 frame_range 1-100
 colour_sample_bbox {0.109375 -0.390625 0.1103515625 -0.3896484375}
 samplepoints {{0.109375 -0.390625}
   }
 viewerProcess "sRGB (ACES)"
 name Viewer1
 xpos 5446
 ypos 14458
}
ShotInfo {
 inputs 0
 name ShotInfo1
 xpos 6154
 ypos 13936
}
Write {
 file //192.168.99.202/prj/cinderella/render/e99/sq99/sh999/comp/mov/ep99_sq99_sh999_v01.mov
 colorspace color_picking
 file_type mov
 mov64_format "mov (QuickTime / MOV)"
 mov64_codec h264
 mov_h264_codec_profile "High 4:2:0 8-bit"
 mov64_pixel_format {{0}}
 mov64_quality Custom
 mov64_fast_start true
 mov64_write_timecode true
 mov64_gop_size 12
 mov64_b_frames 0
 mov64_bitrate 28000
 mov64_bitrate_tolerance 0
 mov64_quality_min 1
 mov64_quality_max 3
 checkHashOnRead false
 name MOV
 xpos 6154
 ypos 14009
}
push $Nc703d400
Dot {
 name Dot85
 xpos 5938
 ypos 13903
}
Write {
 file //192.168.99.202/prj/cinderella/render/e99/sq99/sh999/comp/exr/ep99_sq99_sh999.%04d.exr
 colorspace scene_linear
 file_type exr
 write_ACES_compliant_EXR true
 first_part rgba
 name EXR
 xpos 5916
 ypos 14010
}
